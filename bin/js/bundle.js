var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MtGameConfig_1 = require("./MtGameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(MtGameConfig_1.default.width, MtGameConfig_1.default.height);
        else
            Laya.init(MtGameConfig_1.default.width, MtGameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = MtGameConfig_1.default.scaleMode;
        Laya.stage.screenMode = MtGameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = MtGameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (MtGameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (MtGameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (MtGameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        MtGameConfig_1.default.startScene && Laya.Scene.open(MtGameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./MtGameConfig":2}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/GameUI");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "full";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "portal/Loading.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/GameUI":19}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ResManager_1 = require("../Resource/ResManager");
var GameManager_1 = require("../GameManager");
var Common_1 = require("../Common/Common");
var NameConfig_1 = require("../Configure/NameConfig");
var EventManager_1 = require("../Events/EventManager");
var Events_1 = require("../Events/Events");
var LabelUpdate_1 = require("../Component/LabelUpdate");
/**
 * BIM管理类，用于加载、初始化模型；模型打包格式为.lh文件，以层为单位
 * 颜色记录也在此
 */
var BIMManager = /** @class */ (function () {
    function BIMManager() {
        this.m_3dlabelDisappearDistance = 80;
        this.m_3dlabelTotalDisappearDistance = 180;
        this.m_2dlabelDisappearDistance = 100;
        this.m_2dlabelTotalDisappearDistance = 180;
        this.m_defaultFloorColor = "#DC143C";
        /**
         * ************************************************暂时先将设置颜色的方法放到BIM内********************************
         */
        /**
        * 记录设置颜色后的材质球；
        */
        this.MaterialsDic = new Laya.WeakObject();
        this.m_spaceDic = new Laya.WeakObject();
        this.m_levelSpsceDic = new Laya.WeakObject();
        this.m_levelRes = new Laya.WeakObject();
        this.Levels = new Array();
        this.m_levelAllMeshSprite3Ds = new Laya.WeakObject();
        this.AddEvents();
    }
    BIMManager.prototype.AddEvents = function () {
        var _this = this;
        EventManager_1.default.Instance().AddEventListener(Events_1.Events.OnCameraDistanceChanged.toString(), this, this.ShowHideTagsByDistance);
        EventManager_1.default.Instance().AddEventListener(Events_1.Events.OnDepTreeItemClicked.toString(), this, this.SetOneLevelFloorColor);
        var isReset = true;
        //TEMP:
        Laya.stage.on(Laya.Event.KEY_DOWN, this, function (e) {
            if (e.keyCode == Laya.Keyboard.SPACE) {
                isReset = !isReset;
                if (isReset) {
                    _this.SetOneFloorOpacity(1);
                }
                else {
                    _this.SetOneFloorOpacity(0.2);
                }
            }
        });
    };
    /**
     * 加载所有楼层资源，并初始化楼板，默认隐藏，GameManager中开启默认层
     * 回调函数若需要执行多次，则需要将once置为false
     * @param resUrl
     * @param onComplete
     */
    BIMManager.prototype.LoadRes = function (resUrl, onComplete) {
        var _this = this;
        if (resUrl == null || resUrl.length == 0)
            return;
        var index = 0;
        ResManager_1.default.Instance().LoadPrefabAssets(resUrl, Laya.Handler.create(this, function (url, res) {
            //初始化3D场景，初始化一次
            GameManager_1.default.Instance().Init3DScene();
            //将资源加入场景
            GameManager_1.default.Instance().MainScene.addChild(res);
            //获得所有楼层
            var level = Common_1.default.ParseLoadLevel(url);
            _this.Levels.push(level);
            //遍历所有资源
            _this.TravelMeshSprite3D(res, level);
            //资源默认隐藏
            res.active = false;
            //记录当前楼层资源
            if (!_this.m_levelRes.has(level)) {
                _this.m_levelRes.set(level, res);
            }
            index++;
            if (index == resUrl.length) {
                //设置默认的楼层为第一个
                _this.CurrenLevel = _this.Levels[0];
                onComplete.apply();
            }
        }, null, false));
    };
    /**
     * 刷新当前显示楼层Tags的内容，通过标签类型LabelType来改变;
     * @param type 标签类型
     */
    BIMManager.prototype.RefreshLabelContent = function (type) {
        var _this = this;
        if (this.CurrenLevel == null ||
            this.m_levelSpsceDic == null ||
            this.m_spaceDic == null)
            return;
        if (this.m_levelSpsceDic.has(this.CurrenLevel)) {
            this.m_levelSpsceDic.get(this.CurrenLevel).forEach(function (element) {
                if (_this.m_spaceDic.has(element)) {
                    var floor = _this.m_spaceDic.get(element);
                    if (floor == null)
                        return;
                    switch (type) {
                        case LabelType.Depart:
                            floor.label.text = floor.Organiaztion;
                            _this.SetHexColor(floor.Object, floor.organizationColor);
                            break;
                        case LabelType.Area:
                            floor.label.text = floor.area;
                            break;
                        case LabelType.Usage:
                            floor.label.text = floor.usage;
                            _this.SetHexColor(floor.Object, floor.usageColor);
                            break;
                    }
                }
            });
        }
    };
    /**
     *
     * @param b 显示或隐藏全部楼层，显示全部楼层时，要关掉tags
     */
    BIMManager.prototype.ShowAllLevels = function (b) {
        var _this = this;
        if (this.Levels == null || this.Levels.length == 0)
            return;
        this.Levels.forEach(function (element) {
            if (b) {
                _this.ShowOneLevelFloors(element, true);
            }
            else {
                _this.HideOneLevelFloors(element);
            }
        });
    };
    /**
     * 显示隐藏楼层及楼层Tag
     * @param level 楼层
     * @param b 显/隐
     */
    BIMManager.prototype.ShowOneLevelFloors = function (level, isShowAll) {
        var _this = this;
        if (level == null)
            return;
        this.PreLevel = this.CurrenLevel == null ? this.Levels[0] : this.CurrenLevel;
        //开启levelRoot
        if (this.m_levelRes.has(level)) {
            var res = this.m_levelRes.get(level);
            res.active = true;
        }
        if (this.m_levelSpsceDic.has(level)) {
            this.m_levelSpsceDic.get(level).forEach(function (element) {
                if (_this.m_spaceDic.has(element)) {
                    var floorItem = _this.m_spaceDic.get(element);
                    if (floorItem != null && floorItem.label != null) {
                        if (isShowAll) {
                            floorItem.label.visible = false;
                        }
                        else {
                            floorItem.label.visible = true;
                        }
                    }
                }
            });
        }
        this.CurrenLevel = level;
    };
    BIMManager.prototype.HideOneLevelFloors = function (level) {
        var _this = this;
        if (level == null)
            return;
        //开启levelRoot
        if (this.m_levelRes.has(level)) {
            var res = this.m_levelRes.get(level);
            res.active = false;
        }
        if (this.m_levelSpsceDic.has(level)) {
            this.m_levelSpsceDic.get(level).forEach(function (element) {
                if (_this.m_spaceDic.has(element)) {
                    var floorItem = _this.m_spaceDic.get(element);
                    if (floorItem != null) {
                        if (floorItem.label != null) {
                            floorItem.label.visible = false;
                        }
                    }
                }
            });
        }
    };
    /**
     * 通过Code获取一个FloorItem
     * @param code
     */
    BIMManager.prototype.GetOneFloorItem = function (code) {
        if (code == null)
            return null;
        if (this.m_spaceDic.has(code)) {
            return this.m_spaceDic.get(code);
        }
        else {
            return null;
        }
    };
    BIMManager.prototype.GetOneFloorSprite3D = function (code) {
        if (code == null)
            return null;
        if (this.m_spaceDic.has(code)) {
            var floor = this.m_spaceDic.get(code);
            return floor.Object;
        }
        else {
            return null;
        }
    };
    BIMManager.prototype.TravelMeshSprite3D = function (parent, level) {
        if (parent == null)
            return;
        for (var i = 0; i < parent._children.length; i++) {
            var meshSprite3D = parent.getChildAt(i);
            if (meshSprite3D != null) {
                if (meshSprite3D.meshFilter != null) {
                    if (meshSprite3D.parent.name == NameConfig_1.default.floor)
                        this.InstantiateFloorItem(meshSprite3D);
                    if (!this.m_levelAllMeshSprite3Ds.has(level)) {
                        this.m_levelAllMeshSprite3Ds.set(level, new Array());
                    }
                    this.m_levelAllMeshSprite3Ds.get(level).push(meshSprite3D);
                }
                else {
                    this.TravelMeshSprite3D(meshSprite3D, level);
                }
            }
        }
    };
    /**
     * 对象化Floor
     * @param floor
     */
    BIMManager.prototype.InstantiateFloorItem = function (floor) {
        if (floor == null)
            return;
        var meshName = floor.name;
        var data = GameManager_1.default.Instance().Data.GetOneSpaceData(meshName);
        if (data != null) {
            var floorItem = this.CreateFloorItem(floor, data);
            if (!this.m_spaceDic.has(meshName)) {
                this.m_spaceDic.set(meshName, floorItem);
            }
            //记录当前层所有的楼板
            if (!this.m_levelSpsceDic.has(data.levelCode)) {
                this.m_levelSpsceDic.set(data.levelCode, new Array());
            }
            var arr = this.m_levelSpsceDic.get(data.levelCode);
            arr.push(meshName);
        }
        else {
            console.log("DB not contain this {0} floor", meshName);
        }
    };
    BIMManager.prototype.CreateFloorItem = function (floor, data) {
        if (floor == null || data == null)
            return;
        var item = new FloorItem();
        item.Object = floor;
        item.Transform = floor.transform;
        item.Organiaztion = GameManager_1.default.Instance().Data.GetOneOrganizationName(data.organizationCode, "2");
        item.organizationColor = GameManager_1.default.Instance().Data.GetOneOrganizationColor(data.organizationCode);
        item.usage = GameManager_1.default.Instance().Data.GetOneUsageName(data.usageTypeCode);
        item.usageColor = GameManager_1.default.Instance().Data.GetOneUsageColor(data.usageTypeCode);
        item.area = data.useArea;
        //TEMP:默认显示用途
        item.label = this.CreateOneFloorTag(GameManager_1.default.Instance().Camera.Camera, floor, item.usage);
        this.SetHexColor(floor, item.usageColor);
        //默认Tag隐藏
        item.label.visible = false;
        return item;
    };
    BIMManager.prototype.CreateOneFloorTag = function (camera, floor, content) {
        var label = new Laya.Label();
        label.addComponent(LabelUpdate_1.default);
        Laya.stage.addChild(label);
        var component = label.getComponent(LabelUpdate_1.default);
        component.Init(floor, camera, content);
        return label;
    };
    /**
     * 根据摄像机的到原点的距离显示或隐藏Label
     */
    BIMManager.prototype.ShowHideTagsByDistance = function (distance) {
        var _this = this;
        var startdisappeardis = 0;
        var totaldisappeardis = 0;
        if (GameManager_1.default.Instance().Camera.Is2D) {
            startdisappeardis = this.m_2dlabelDisappearDistance;
            totaldisappeardis = this.m_2dlabelTotalDisappearDistance;
        }
        else {
            startdisappeardis = this.m_3dlabelDisappearDistance;
            totaldisappeardis = this.m_3dlabelTotalDisappearDistance;
        }
        if (distance > startdisappeardis) {
            var floors_1 = this.m_levelSpsceDic.get(this.CurrenLevel);
            var count = floors_1.length;
            var interval = (totaldisappeardis - startdisappeardis) / count;
            var pointer_1 = (distance - startdisappeardis) / interval;
            floors_1.forEach(function (element) {
                var index = floors_1.indexOf(element);
                var floor = _this.m_spaceDic.get(element);
                if (floor != null) {
                    if (index <= pointer_1) {
                        floor.label.visible = false;
                    }
                    else {
                        floor.label.visible = true;
                    }
                }
            });
        }
    };
    BIMManager.prototype.SetOneLevelFloorColor = function (orgs, b) {
        var _this = this;
        if (orgs.length == 0)
            return;
        var floors = GameManager_1.default.Instance().Data.GetOneLevelFloorsByOrgs(this.CurrenLevel, orgs);
        if (floors == null || floors.length == 0)
            return;
        floors.forEach(function (element) {
            var floor = _this.m_spaceDic.get(element);
            if (floor == null)
                return;
            if (b) {
                switch (GameManager_1.default.Instance().MainUI.CurrentLabelType) {
                    case LabelType.Depart:
                        _this.SetHexColor(floor.Object, floor.organizationColor);
                        break;
                    case LabelType.Usage:
                        _this.SetHexColor(floor.Object, floor.usageColor);
                        break;
                }
            }
            else {
                _this.SetHexColor(floor.Object, _this.m_defaultFloorColor);
            }
        });
    };
    BIMManager.prototype.SetOneFloorOpacity = function (value, level) {
        level = level == null ? this.CurrenLevel : level;
        if (!this.m_levelAllMeshSprite3Ds.has(level))
            return;
        var meshes = this.m_levelAllMeshSprite3Ds.get(level);
        meshes.forEach(function (element) {
            Common_1.default.SetOpacity(element, value);
        });
    };
    /**
     * 设置对象颜色
     * @param target
     * @param color Laya内部的Color
     */
    BIMManager.prototype.SetLayaColor = function (target, color) {
        var _this = this;
        if (target == null || color == null)
            return;
        var mats = target.meshRenderer.materials;
        if (mats == null)
            return;
        mats.forEach(function (element) {
            _this.SetColor(element, new Laya.Vector4(color.r, color.g, color.b, color.a));
        });
    };
    /**
     * 设置对象的颜色
     * @param target 对象
     * @param hexColor 十六进制颜色
     */
    BIMManager.prototype.SetHexColor = function (target, hexColor) {
        var _this = this;
        if (target == null || hexColor == null)
            return;
        var mats = target.meshRenderer.materials;
        if (mats == null)
            return;
        var color = this.ConvertColor(hexColor);
        mats.forEach(function (element) {
            _this.SetColor(element, color);
        });
    };
    BIMManager.prototype.SetColor = function (mat, color) {
        if (mat == null || color == null)
            return;
        mat.albedoColor = color;
        if (!this.MaterialsDic.has(mat)) {
            this.MaterialsDic.set(mat, color);
        }
    };
    /**
     * 颜色转换，将hexColor转换成Vector4
     * @param hexColor
     */
    BIMManager.prototype.ConvertColor = function (hexColor) {
        try {
            var count = hexColor.length;
            var r = parseInt(hexColor.substr(0, 2), 16);
            var g = parseInt(hexColor.substr(2, 2), 16);
            var b = parseInt(hexColor.substr(4, 2), 16);
            var a = 255;
            if (count == 8)
                a = parseInt(hexColor.substr(6, 2), 16);
            return this.Convert(r, g, b, a);
        }
        catch (error) {
            console.debug("<color=yellow>{0}</color>", "十六进制颜色值格式错误,需输入6位或8位(带alpha)16进制值,如:0091EAFF,不加#或0x");
        }
        return new Laya.Vector4(1, 1, 1, 1);
    };
    BIMManager.prototype.Convert = function (r, g, b, a) {
        return new Laya.Vector4(r / 255, g / 255, b / 255, a / 255);
    };
    BIMManager.prototype.ResetColor = function (floor) {
        var _this = this;
        if (floor == null || floor.meshRenderer == null)
            return;
        var mats = floor.meshRenderer.materials;
        if (mats != null) {
            mats.forEach(function (element) {
                if (_this.MaterialsDic.has(element)) {
                    var mat = element;
                    mat.albedoColor = _this.MaterialsDic.get(element);
                }
            });
        }
    };
    return BIMManager;
}());
exports.default = BIMManager;
var LabelType;
(function (LabelType) {
    LabelType[LabelType["Depart"] = 0] = "Depart";
    LabelType[LabelType["Usage"] = 1] = "Usage";
    LabelType[LabelType["Area"] = 2] = "Area";
})(LabelType = exports.LabelType || (exports.LabelType = {}));
var FloorItem = /** @class */ (function () {
    function FloorItem() {
    }
    return FloorItem;
}());
},{"../Common/Common":5,"../Component/LabelUpdate":8,"../Configure/NameConfig":11,"../Events/EventManager":16,"../Events/Events":17,"../GameManager":18,"../Resource/ResManager":23}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Vector3 = Laya.Vector3;
var GameManager_1 = require("../GameManager");
var EventManager_1 = require("../Events/EventManager");
var Events_1 = require("../Events/Events");
var CameraMoveScript_1 = require("../Component/CameraMoveScript");
var RaySelector_1 = require("../Component/RaySelector");
var LightControl_1 = require("../Component/LightControl");
var MtTween_1 = require("../Common/MtTween");
var CameraManager = /** @class */ (function () {
    function CameraManager() {
        //temp
        this._levelDistance = 3;
        this._3dPos = new Vector3(-6, 45, 17);
        this._3dRot = new Vector3(-78, 0, 0);
        this._2dPos = new Vector3(-5, 50, 17);
        this._2dRot = new Vector3(-90, 0, 0);
        this._oriOrthSize = 70;
        this.AddEvents();
    }
    CameraManager.prototype.AddEvents = function () {
        EventManager_1.default.Instance().AddEventListener(Events_1.Events.OnLevelChanged.toString(), this, this.OnLevelBtnClicked);
    };
    CameraManager.prototype.InitCamera = function () {
        var camera = new Laya.Camera();
        camera.transform.position = this._3dPos;
        camera.transform.localRotationEuler = this._3dRot;
        camera.clearColor = new Laya.Vector4(0, 0, 0, 0);
        this.Camera = camera;
        //摄像机控制
        camera.addComponent(CameraMoveScript_1.default);
        var camctrl = camera.getComponent(CameraMoveScript_1.default);
        camctrl.m_scene3d = GameManager_1.default.Instance().MainScene;
        //射线检测
        camera.addComponent(RaySelector_1.default);
        var rayselector = camera.getComponent(RaySelector_1.default);
        rayselector.Scene3D = GameManager_1.default.Instance().MainScene;
        GameManager_1.default.Instance().MainScene.addChild(camera);
        this.InitLight();
    };
    CameraManager.prototype.InitLight = function () {
        var directionLight = new Laya.DirectionLight();
        GameManager_1.default.Instance().MainScene.addChild(directionLight);
        directionLight.color = new Laya.Vector3(0.2, 0.2, 0.2);
        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        directionLight.transform.position = this.Camera.transform.position;
        directionLight.transform.rotation = this.Camera.transform.rotation;
        directionLight.addComponent(LightControl_1.default);
        var lightcontrl = directionLight.getComponent(LightControl_1.default);
        lightcontrl.Camera = this.Camera;
    };
    CameraManager.prototype.ResetCamera = function (is2D) {
        var _this = this;
        this.Is2D = is2D;
        var component = this.Camera.getComponent(CameraMoveScript_1.default);
        if (is2D) {
            MtTween_1.default.Rotate(this.Camera, this._2dRot, 100);
            MtTween_1.default.Move(this.Camera, this._2dPos, 500, null, Laya.Handler.create(this, function () {
                _this.Camera.orthographic = true;
                _this.Camera.orthographicVerticalSize = 60;
                component.Is2D = true;
            }));
        }
        else {
            MtTween_1.default.Rotate(this.Camera, this._3dRot, 100);
            MtTween_1.default.Move(this.Camera, this._3dPos, 500, null, Laya.Handler.create(this, function () {
                _this.Camera.orthographic = false;
                component.Is2D = false;
            }));
        }
    };
    CameraManager.prototype.OnLevelBtnClicked = function (curLevel, preLevel) {
        var distance = 0;
        var toPos = this.Camera.transform.position;
        if (curLevel == preLevel)
            distance = 0;
        var levels = GameManager_1.default.Instance().MainUI.LevelNames;
        distance = (levels.indexOf(curLevel) - levels.indexOf(preLevel)) * this._levelDistance;
        toPos = new Laya.Vector3(toPos.x, toPos.y + distance, toPos.z);
        MtTween_1.default.Move(this.Camera, toPos, 500, null, Laya.Handler.create(this, function () {
        }));
    };
    return CameraManager;
}());
exports.default = CameraManager;
},{"../Common/MtTween":6,"../Component/CameraMoveScript":7,"../Component/LightControl":9,"../Component/RaySelector":10,"../Events/EventManager":16,"../Events/Events":17,"../GameManager":18}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MtTween_1 = require("./MtTween");
var Common = /** @class */ (function () {
    function Common() {
    }
    Common.SetOpacity = function (target, value, duration) {
        if (target == null)
            return;
        duration = duration == null ? 100 : duration;
        //MtTween.Alpha(target,value,duration);
        MtTween_1.default.MultiAlpha(target, value, duration);
    };
    /**
     * 通过楼板Code获得LevelCode
     * @param code
     */
    Common.GetLevelByFloorCode = function (code) {
        if (code == null)
            return null;
        var names = code.split("-");
        if (names.length < 3) {
            return null;
        }
        else {
            return code.substring(0, 15);
        }
    };
    /**
     * 通过楼板Code获得BuildingCode
     * @param code
     */
    Common.GetBuildingByFloorCode = function (code) {
        if (code == null)
            return null;
        var names = code.split("-");
        if (names.length < 3) {
            return null;
        }
        else {
            return code.substring(0, 10);
        }
    };
    /**
     * 通过加载的资源，获取当前资源的所在的楼层
     * @param url .lh资源的url路径，.lh文件的命名规则必须为楼层的Code
     */
    Common.ParseLoadLevel = function (url) {
        if (url == null)
            return null;
        var temp = url.substr(url.lastIndexOf("/") + 1);
        var level = temp.substr(0, temp.indexOf("."));
        return level;
    };
    /**
     * 返回前端显示的LevelCode;例如F1
     * @param levelCode 楼层编码：BDHCMU-A02-F001
     */
    Common.GetPurLevel = function (levelCode) {
        if (levelCode == null || levelCode.match("-") == null)
            return null;
        var eles = levelCode.split("-");
        if (eles.length < 3)
            return null;
        return eles[2];
    };
    return Common;
}());
exports.default = Common;
},{"./MtTween":6}],6:[function(require,module,exports){
"use strict";
/**
 * ~封装Laya.Tween，用于适应Sprite3D的缓动效果。
 * ~Laya.Tween之所以不适用于Sprite3D是因为浅拷贝变量无法同步到原对象中去；
 * ~解决方式是：Laya.Tween来改变变量值，用update更新对象对应的变量值；
 * ~封装原生的Laya.Tween，支持所有Ease效果
 */
Object.defineProperty(exports, "__esModule", { value: true });
var Handler = Laya.Handler;
var MtTween = /** @class */ (function () {
    function MtTween() {
    }
    /**
     * 平移，改变Target的位置
     * @param target 目标，必须为Sprite3D
     * @param position 移动的目标位置,Vector3
     * @param duration 移动的时间
     * @param ease 缓动方式
     * @param complete 完成回掉
     * @param delay 延迟缓动时间
     * @param coverBefore 是否覆盖之前的缓动。
     * @param autoRecover 是否自动回收，默认为true，缓动结束之后自动回收到对象池。
     */
    MtTween.Move = function (target, position, duration, ease, complete, delay, coverBefore, autoRecover) {
        if (target == null)
            return null;
        var pos = target.transform.position;
        var tween = Laya.Tween.to(pos, {
            x: position.x,
            y: position.y,
            z: position.z,
            update: new Handler(target, function () {
                this.transform.position = pos;
            })
        }, duration, ease, complete, delay, coverBefore, autoRecover);
        return tween;
    };
    /**
     * 旋转，改变Target的旋转角度
     * @param target 目标，必须为Sprite3D
     * @param rotation 移动的目标旋转角度,Vector3
     * @param duration 移动的时间
     * @param ease 缓动方式
     * @param complete 完成回掉
     * @param delay 延迟缓动时间
     * @param coverBefore 是否覆盖之前的缓动。
     * @param autoRecover 是否自动回收，默认为true，缓动结束之后自动回收到对象池。
     */
    MtTween.Rotate = function (target, rotation, duration, ease, complete, delay, coverBefore, autoRecover) {
        if (target == null)
            return null;
        var rot = target.transform.rotationEuler;
        var tween = Laya.Tween.to(rot, {
            x: rotation.x,
            y: rotation.y,
            z: rotation.z,
            update: new Handler(target, function () {
                this.transform.rotationEuler = rot;
            })
        }, duration, ease, complete, delay, coverBefore, autoRecover);
        return tween;
    };
    /**
     * 缩放 改变Target的缩放值
     * @param target 目标，必须为Sprite3D
     * @param scale 移动的目标缩放,Vector3
     * @param duration 移动的时间
     * @param ease 缓动方式
     * @param complete 完成回掉
     * @param delay 延迟缓动时间
     * @param coverBefore 是否覆盖之前的缓动。
     * @param autoRecover 是否自动回收，默认为true，缓动结束之后自动回收到对象池。
     */
    MtTween.Scale = function (target, scale, duration, ease, complete, delay, coverBefore, autoRecover) {
        if (target == null)
            return null;
        var _scale = target.transform.scale;
        var tween = Laya.Tween.to(_scale, {
            x: scale.x,
            y: scale.y,
            z: scale.z,
            update: new Handler(target, function () {
                this.transform.scale = _scale;
            })
        }, duration, ease, complete, delay, coverBefore, autoRecover);
        return tween;
    };
    /**
     * 透明度 改变Target的透明度，必须将模型的RenderMode改成Transparent
     * @param target Target,必须有MeshRender
     * @param aplha 透明度
     * @param duration 缓动的时间
     * @param ease 缓动方式
     * @param complete 完成回掉
     * @param delay 延迟缓动时间
     * @param coverBefore 是否覆盖之前的缓动。
     * @param autoRecover 是否自动回收，默认为true，缓动结束之后自动回收到对象池。
     */
    MtTween.Alpha = function (target, aplha, duration, ease, complete, delay, coverBefore, autoRecover) {
        if (target == null)
            return null;
        var render = target.meshRenderer;
        if (render && render.material) {
            var mat_1 = render.material;
            mat_1.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_TRANSPARENT;
            var albedo_1 = mat_1.albedoColor;
            if (albedo_1) {
                var tween = Laya.Tween.to(albedo_1, {
                    w: aplha,
                    update: new Handler(target, function () {
                        this.meshRenderer.material.albedoColor = albedo_1;
                    })
                }, duration, ease, Handler.create(target, function () {
                    if (aplha == 1)
                        mat_1.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_OPAQUE;
                    if (complete)
                        complete.run();
                }), delay, coverBefore, autoRecover);
                return tween;
            }
        }
        return null;
    };
    MtTween.MultiAlpha = function (target, aplha, duration, ease, complete, delay, coverBefore, autoRecover) {
        if (target == null)
            return;
        var render = target.meshRenderer;
        if (render && render.materials) {
            var _loop_1 = function (i) {
                var mat = render.materials[i];
                mat.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_TRANSPARENT;
                var albedo = mat.albedoColor;
                if (albedo) {
                    var tween = Laya.Tween.to(albedo, {
                        w: aplha,
                        update: new Handler(target, function () {
                            this.meshRenderer.materials[i].albedoColor = albedo;
                        })
                    }, duration, ease, Handler.create(target, function () {
                        if (aplha == 1)
                            mat.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_OPAQUE;
                        if (complete)
                            complete.run();
                    }), delay, coverBefore, autoRecover);
                }
            };
            for (var i = 0; i < render.materials.length; i++) {
                _loop_1(i);
            }
        }
    };
    return MtTween;
}());
exports.default = MtTween;
},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Vector3 = Laya.Vector3;
var Vector2 = Laya.Vector2;
var Label = Laya.Label;
var EventManager_1 = require("../Events/EventManager");
var Events_1 = require("../Events/Events");
var CameraMoveScript = /** @class */ (function (_super) {
    __extends(CameraMoveScript, _super);
    function CameraMoveScript() {
        var _this = _super.call(this) || this;
        _this.m_lastDistance = 0;
        _this.m_preRadian = 0;
        _this.m_forwardLength = 3;
        _this.m_lookAtPoint = new Vector3();
        _this.m_isTwoFingersTouch = false;
        _this.m_twoFingersDistance = 0;
        _this.IsShowLable = true;
        _this.Is2D = false;
        return _this;
    }
    CameraMoveScript.prototype.onAwake = function () {
        this.Init();
        this.AddEvenets();
        this.RefreshPitchRadian();
        this.RefreshLookAtPoint();
    };
    CameraMoveScript.prototype.onUpdate = function () {
        if (this.IsShowLable)
            this.ShowInfo();
        this.RayCastHit();
        this.CameraToZeroDistance();
    };
    CameraMoveScript.prototype.onDestroy = function () {
        this.RemoveEvents();
    };
    CameraMoveScript.prototype.Init = function () {
        this.m_camera = this.owner;
        this.m_tempVector3 = new Vector3();
        this.m_mousePoint = new Vector2();
        this.m_lastTouchFinger0 = new Vector2();
        this.m_lastTouchFinger1 = new Vector2();
        this.yawPitchRoll = new Laya.Vector3();
        this.resultRotation = new Laya.Quaternion();
        this.tempRotationZ = new Laya.Quaternion();
        this.tempRotationX = new Laya.Quaternion();
        this.tempRotationY = new Laya.Quaternion();
        this.m_ray = new Laya.Ray(new Vector3(), new Vector3());
        this.m_hitResult = new Laya.HitResult();
        if (this.IsShowLable)
            this.m_label = this.createLabel(new Vector2(10, 10));
        this.InitDiffPlatform();
    };
    /**
     * 不同平台不同配置，从json文件中读取
     */
    CameraMoveScript.prototype.InitDiffPlatform = function () {
        if (Laya.Browser.onAndroid || Laya.Browser.onIPhone || Laya.Browser.onMobile) {
            this.m_3dMoveSpeed = 0.02;
            this.m_3dRotateSpeed = 0.004;
            this.m_3dWheelSpeed = 2;
            this.m_2dMoveSpeed = 0.02;
            this.m_2dWheelSpeed = 2;
            this.m_3dMinZoomDistance = -10;
            this.m_3dMaxZoomDistance = 1000;
            this.m_3dMinCameraPitchRadian = 10 * Math.PI / 180;
            this.m_3dMaxCameraPitchRadian = 90 * Math.PI / 180;
            this.m_2dMinOrthographicSize = 12;
        }
        else if (Laya.Browser.onPC || Laya.Browser.onMac) {
            this.m_3dMoveSpeed = 0.04;
            this.m_3dRotateSpeed = 0.004;
            this.m_3dWheelSpeed = 2;
            this.m_2dMoveSpeed = 0.02;
            this.m_2dWheelSpeed = 2;
            this.m_3dMinZoomDistance = -10;
            this.m_3dMaxZoomDistance = 1000;
            this.m_3dMinCameraPitchRadian = 10 * Math.PI / 180;
            this.m_3dMaxCameraPitchRadian = 90 * Math.PI / 180;
            this.m_2dMinOrthographicSize = 12;
        }
    };
    CameraMoveScript.prototype.AddEvenets = function () {
        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);
        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);
        Laya.stage.on(Laya.Event.MOUSE_WHEEL, this, this.mouseWheel);
        Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.mouseMove);
        Laya.stage.on(Laya.Event.RIGHT_MOUSE_DOWN, this, this.rightMouseDown);
        Laya.stage.on(Laya.Event.RIGHT_MOUSE_UP, this, this.rightMouseUp);
    };
    CameraMoveScript.prototype.RemoveEvents = function () {
        Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.mouseDown);
        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.mouseUp);
        Laya.stage.off(Laya.Event.MOUSE_WHEEL, this, this.mouseWheel);
        Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.mouseMove);
        Laya.stage.off(Laya.Event.RIGHT_MOUSE_DOWN, this, this.rightMouseDown);
        Laya.stage.off(Laya.Event.RIGHT_MOUSE_UP, this, this.rightMouseUp);
    };
    CameraMoveScript.prototype.mouseDown = function (e) {
        this.m_camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
        this.m_lastMouseX = Laya.stage.mouseX;
        this.m_lastMouseY = Laya.stage.mouseY;
        this.m_isMouseDown = true;
        // //Two fingers operation
        var touches = e.touches;
        if (touches && touches.length == 2) {
            this.m_lastTouchFinger0.x = touches[0].stageX;
            this.m_lastTouchFinger0.y = touches[0].stageY;
            this.m_lastTouchFinger1.x = touches[1].stageX;
            this.m_lastTouchFinger1.y = touches[1].stageY;
            this.m_lastDistance = this.getDistance(touches);
            this.m_preRadian = this.atan2Ext(touches[0].stageY - touches[1].stageY, touches[0].stageX - touches[1].stageX);
            this.m_isTwoFingersTouch = true;
        }
    };
    CameraMoveScript.prototype.mouseUp = function (e) {
        this.m_isMouseDown = false;
        var touches = e.touches;
        if (touches && touches.length == 0) {
            this.m_isTwoFingersTouch = false;
        }
    };
    CameraMoveScript.prototype.rightMouseDown = function (e) {
        this.m_lastMouseX = Laya.stage.mouseX;
        this.m_lastMouseY = Laya.stage.mouseY;
        this.m_isMouseDown = true;
        this.m_isRightMouseButtonDown = true;
    };
    CameraMoveScript.prototype.rightMouseUp = function (e) {
        this.m_isMouseDown = false;
        this.m_isRightMouseButtonDown = false;
    };
    CameraMoveScript.prototype.mouseWheel = function (e) {
        if (e == null)
            return;
        var zoomDelta = e.delta;
        if (this.Is2D) {
            this.m_camera.orthographicVerticalSize += -zoomDelta * this.m_2dWheelSpeed;
            if (this.m_camera.orthographicVerticalSize < this.m_2dMinOrthographicSize) {
                this.m_camera.orthographicVerticalSize = this.m_2dMinOrthographicSize;
            }
        }
        else {
            this.cameraZoom(zoomDelta);
        }
        if (this.OnMouseWheel)
            this.OnMouseWheel(zoomDelta);
    };
    CameraMoveScript.prototype.mouseMove = function (e) {
        var touches = e.touches;
        if (!touches) {
            this.moveControlByMouse();
        }
        else {
            this.moveCtrlByTouch(touches);
        }
    };
    /**
    *  鼠标模式
    */
    CameraMoveScript.prototype.moveControlByMouse = function () {
        if (this.m_isMouseDown) {
            var deltaX = Laya.stage.mouseX - this.m_lastMouseX;
            var deltaY = Laya.stage.mouseY - this.m_lastMouseY;
            if (!this.m_isRightMouseButtonDown) {
                if (this.m_isLastTouchDoubleFingers) {
                    deltaX = 0;
                    deltaY = 0;
                    this.m_isLastTouchDoubleFingers = false;
                }
                this.moveRight(-this.m_3dMoveSpeed * deltaX);
                this.moveUp(this.m_3dMoveSpeed * deltaY);
                this.RefreshLookAtPoint();
            }
            else {
                if (this.Is2D)
                    return;
                var deltaX_1 = Laya.stage.mouseX - this.m_lastMouseX;
                var deltaY_1 = Laya.stage.mouseY - this.m_lastMouseY;
                this.rotateAround(-deltaY_1 * this.m_3dRotateSpeed, -deltaX_1 * this.m_3dRotateSpeed);
            }
            this.m_lastMouseX = Laya.stage.mouseX;
            this.m_lastMouseY = Laya.stage.mouseY;
        }
    };
    /**
     * 触控模式
     */
    CameraMoveScript.prototype.moveCtrlByTouch = function (touches) {
        if (touches.length == 1 && !this.m_isTwoFingersTouch) {
            //单指触控
            // this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
            var deltaX = Laya.stage.mouseX - this.m_lastMouseX;
            var deltaY = Laya.stage.mouseY - this.m_lastMouseY;
            if (this.m_isLastTouchDoubleFingers) {
                //如果上一次操作是双指,如双指操作时,抬起一指变单指操作,要做个清零,防止摄像机跳跃
                deltaX = 0;
                deltaY = 0;
                this.m_isLastTouchDoubleFingers = false;
            }
            //let speed: number = 0.06;
            this.moveRight(-this.m_3dMoveSpeed * deltaX);
            this.moveUp(this.m_3dMoveSpeed * deltaY);
            this.m_lastMouseX = Laya.stage.mouseX;
            this.m_lastMouseY = Laya.stage.mouseY;
            this.RefreshLookAtPoint();
        }
        else if (touches.length == 2) {
            if (this.Is2D) {
                var distance2 = this.getDistance(touches);
                var factor2 = 0.1;
                var pinchValue2 = 0;
                pinchValue2 = (distance2 - this.m_lastDistance) * factor2;
                this.m_lastDistance = distance2;
                this.m_camera.orthographicVerticalSize -= pinchValue2;
                if (this.m_camera.orthographicVerticalSize < this.m_2dMinOrthographicSize) {
                    this.m_camera.orthographicVerticalSize = this.m_2dMinOrthographicSize;
                }
            }
            else {
                //双指触控
                this.m_isTwoFingersTouch = true;
                this.m_isLastTouchDoubleFingers = true;
                var twoFingersDistance = this.getTwoFingersDistance(touches);
                var deltaDistance = Math.abs(twoFingersDistance - this.m_twoFingersDistance);
                this.m_twoFingersDistance = twoFingersDistance;
                //Two fingers drag
                var deltaX0 = touches[0].stageX - this.m_lastTouchFinger0.x;
                var deltaY0 = touches[0].stageY - this.m_lastTouchFinger0.y;
                var deltaX1 = touches[1].stageX - this.m_lastTouchFinger1.x;
                var deltaY1 = touches[1].stageY - this.m_lastTouchFinger1.y;
                var deltaY = (deltaY0 + deltaY1) * 0.5;
                var deltaX = (deltaX0 + deltaX1) * 0.5;
                this.rotateAround(-deltaY * this.m_3dRotateSpeed, 0);
                this.m_lastTouchFinger0.x = touches[0].stageX;
                this.m_lastTouchFinger0.y = touches[0].stageY;
                this.m_lastTouchFinger1.x = touches[1].stageX;
                this.m_lastTouchFinger1.y = touches[1].stageY;
                //Two fingers pinch
                var distance = this.getDistance(touches);
                var factor = 0.01;
                var pinchValue = 0;
                pinchValue += (distance - this.m_lastDistance) * factor;
                this.m_lastDistance = distance;
                var fingerPinchSpeed = 10;
                this.cameraZoom(pinchValue * fingerPinchSpeed);
                if (this.OnDoubleFingersPinch)
                    this.OnDoubleFingersPinch(pinchValue);
                //Two fingers twist
                var nowRadian = this.atan2Ext(touches[0].stageY - touches[1].stageY, touches[0].stageX - touches[1].stageX);
                var deltaRadian = nowRadian - this.m_preRadian;
                if (deltaRadian != 0) {
                    var twistValue = 180 / Math.PI * deltaRadian;
                    this.rotateAround(0, twistValue * 0.1);
                    this.m_preRadian = nowRadian;
                    if (this.OnDoubleFingersTwist)
                        this.OnDoubleFingersTwist(twistValue);
                }
            }
        }
    };
    /**
     * 向前移动。
     * @param distance 移动距离。
     */
    CameraMoveScript.prototype.moveForward = function (distance) {
        this.m_tempVector3.x = this.m_tempVector3.y = 0;
        this.m_tempVector3.z = distance;
        this.m_camera.transform.translate(this.m_tempVector3);
    };
    /**
     * 向右移动。
     * @param distance 移动距离。
     */
    CameraMoveScript.prototype.moveRight = function (distance) {
        this.m_tempVector3.y = this.m_tempVector3.z = 0;
        this.m_tempVector3.x = distance;
        this.m_camera.transform.translate(this.m_tempVector3);
    };
    /**
     * 向上移动。
     * @param distance 移动距离。
     */
    CameraMoveScript.prototype.moveUp = function (distance) {
        this.m_tempVector3.x = this.m_tempVector3.z = 0;
        this.m_tempVector3.y = distance;
        this.m_camera.transform.translate(this.m_tempVector3, true);
    };
    /**
     * 缩放
     * @param delta
     */
    CameraMoveScript.prototype.cameraZoom = function (delta) {
        // if(this.m_hitObject!=null && !this.m_isRightMouseDown){
        //     this.m_forwardLength = this.getTwoPointsDistance(
        //         this.m_camera.transform.position,this.m_hitPoint);        
        // }
        var currentForwardLength = this.m_forwardLength;
        var distance = -delta * this.m_3dWheelSpeed;
        currentForwardLength += distance;
        if (delta > 0) {
            //拉近
            if (currentForwardLength < this.m_3dMinZoomDistance)
                distance += (this.m_3dMinZoomDistance - currentForwardLength);
        }
        else {
            //拉远
            if (currentForwardLength > this.m_3dMaxZoomDistance)
                distance -= (currentForwardLength - this.m_3dMaxZoomDistance);
        }
        this.moveForward(distance);
        this.m_forwardLength += distance;
    };
    /**
     * 旋转
     * @param angleX
     * @param angleY
     */
    CameraMoveScript.prototype.rotateAround = function (angleX, angleY) {
        var currentRadian = this.m_currentPitchRadian;
        currentRadian -= angleX;
        if (angleX < 0) {
            //下拖动,往上转
            if (currentRadian > this.m_3dMaxCameraPitchRadian)
                angleX += (currentRadian - this.m_3dMaxCameraPitchRadian);
        }
        else {
            //上拖动,往下转
            if (currentRadian < this.m_3dMinCameraPitchRadian)
                angleX += (currentRadian - this.m_3dMinCameraPitchRadian);
        }
        this.m_camera.transform.rotate(new Vector3(angleX, 0, 0));
        this.m_camera.transform.rotate(new Vector3(0, angleY, 0), false);
        var forward = new Vector3();
        this.m_camera.transform.getForward(forward);
        var newPosition = new Vector3();
        Vector3.scale(forward, -1, forward);
        newPosition = this.Forward(this.m_lookAtPoint, forward, this.m_forwardLength);
        this.m_camera.transform.position = newPosition;
        this.RefreshPitchRadian();
    };
    CameraMoveScript.prototype._updateRotation = function () {
        if (Math.abs(this.yawPitchRoll.y) < 1.50) {
            Laya.Quaternion.createFromYawPitchRoll(this.yawPitchRoll.x, this.yawPitchRoll.y, this.yawPitchRoll.z, this.tempRotationZ);
            this.tempRotationZ.cloneTo(this.m_camera.transform.localRotation);
            this.m_camera.transform.localRotation = this.m_camera.transform.localRotation;
        }
    };
    //把Math.atan2值域映射到[0, 2pi]
    CameraMoveScript.prototype.atan2Ext = function (y, x) {
        var radian = Math.atan2(y, x);
        if (radian >= 0)
            return radian;
        else
            return radian + 2 * Math.PI;
    };
    CameraMoveScript.prototype.getTwoFingersDistance = function (touches) {
        var fingersDistance = 0;
        var dx = touches[0].stageX - touches[1].stageX;
        var dy = touches[0].stageY - touches[1].stageY;
        fingersDistance = Math.sqrt(dx * dx + dy * dy);
        return fingersDistance;
    };
    CameraMoveScript.prototype.rotateAroundY = function (ponit, radius, angle) {
        var posX = Math.cos(angle) * radius;
        var posY = Math.sin(angle) * radius;
        this.m_camera.transform.position = new Vector3(posX, this.m_camera.transform.position.y, posY);
        this.m_camera.transform.lookAt(ponit, new Vector3(0, 1, 0), false);
    };
    CameraMoveScript.prototype.rotateAroundX = function (ponit, radius, angle) {
        this.m_camera.transform.rotate(new Vector3(angle, 0, 0));
        var forward = new Vector3();
        this.m_camera.transform.getForward(forward);
        var position = new Vector3();
        var deltaPosition = new Vector3();
        Vector3.scale(forward, -radius, deltaPosition);
        Vector3.add(ponit, deltaPosition, position);
        this.m_camera.transform.position = position;
    };
    //计算两个触摸点之间的距离
    CameraMoveScript.prototype.getDistance = function (points) {
        var distance = 0;
        if (points && points.length == 2) {
            var dx = points[0].stageX - points[1].stageX;
            var dy = points[0].stageY - points[1].stageY;
            distance = Math.sqrt(dx * dx + dy * dy);
        }
        return distance;
    };
    CameraMoveScript.prototype.getTwoPointsDistance = function (pointA, pointB) {
        var distance = 0;
        var dx = pointA.x - pointB.x;
        var dy = pointA.y - pointB.y;
        var dz = pointA.z - pointB.z;
        distance = Math.sqrt(dx * dx + dy * dy + dz * dz);
        return distance;
    };
    CameraMoveScript.prototype.Forward = function (position, direction, distance) {
        var deltaPosition = new Vector3();
        var newPosition = new Vector3();
        Vector3.scale(direction, distance, deltaPosition);
        Vector3.add(position, deltaPosition, newPosition);
        return newPosition;
    };
    CameraMoveScript.prototype.RefreshLookAtPoint = function () {
        var forward = new Vector3();
        this.m_camera.transform.getForward(forward);
        this.m_lookAtPoint = this.Forward(this.m_camera.transform.position, forward, this.m_forwardLength);
    };
    CameraMoveScript.prototype.RefreshPitchRadian = function () {
        this.m_camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
        this.m_currentPitchRadian = Math.abs(this.yawPitchRoll.y);
    };
    //temp
    CameraMoveScript.prototype.CameraToZeroDistance = function () {
        var dis = 0;
        if (this.Is2D) {
            dis = this.m_camera.orthographicVerticalSize;
        }
        else {
            var camPos = this.m_camera.transform.position;
            dis = Vector3.distance(camPos, Vector3._ZERO);
            this.m_label.text += "摄像机到原点的距离：" + dis;
        }
        EventManager_1.default.Instance().PostEvent(Events_1.Events.OnCameraDistanceChanged.toString(), dis);
    };
    /**
     * 绕给定点和轴旋转
     * @param target 旋转对象
     * @param rotatePos 给定点位置
     * @param dir 给定方向
     * @param angle 旋转角度，弧度
     */
    CameraMoveScript.prototype.RotateAround = function (target, rotatePos, dir, angle) {
        //创建一个四元数
        var quaternion = new Laya.Quaternion();
        Laya.Quaternion.createFromAxisAngle(dir, angle, quaternion);
        //计算旋转后的Position
        var deltapos = new Laya.Vector3();
        Laya.Vector3.subtract(target.transform.position, rotatePos, deltapos);
        var changeVector3 = new Laya.Vector3();
        Laya.Vector3.transformQuat(deltapos, quaternion, changeVector3);
        var resultPos = new Laya.Vector3();
        Laya.Vector3.add(changeVector3, rotatePos, resultPos);
        target.transform.position = resultPos;
        //计算旋转后的Rotation
        var newRotation = new Laya.Quaternion();
        Laya.Quaternion.multiply(target.transform.rotation, quaternion, newRotation);
        target.transform.rotation = newRotation;
    };
    /**
    * 根据碰撞对象的位置，设置摄像机的缩放和旋转轴等；
    * 旋转操作，以屏幕中心点发出射线，如果有碰撞对象，则将碰撞点作为旋转中心，如果没有则将（0,0,0）设为旋转中心；
    * 缩放操作，以鼠标位置发出射线，若有碰撞对象，则根据碰撞点与摄像机的距离限制摄像机的最小距离；
    */
    CameraMoveScript.prototype.RayCastHit = function () {
        if (this.m_camera != null && this.m_scene3d != null) {
            this.m_mousePoint.x = Laya.stage.mouseX;
            this.m_mousePoint.y = Laya.stage.mouseY;
            this.m_camera.viewportPointToRay(this.m_mousePoint, this.m_ray);
            this.m_scene3d.physicsSimulation.rayCast(this.m_ray, this.m_hitResult);
            if (this.m_hitResult.succeeded) {
                this.m_hitObject = this.m_hitResult.collider.owner;
                this.m_hitPoint = this.m_hitResult.point;
            }
            else {
                this.m_hitObject = null;
            }
        }
    };
    /**
     * 创建一个Lable
     * @param color
     * @param strokeColor
     */
    CameraMoveScript.prototype.createLabel = function (pos, color, strokeColor) {
        var _color = "#ffffff";
        var _strokeColor = "#000000";
        var _strokeWidth = 1;
        var label = new Label();
        label.font = "Microsoft YaHei";
        label.text = "SAMPLE DEMO";
        label.fontSize = 20;
        if (color) {
            label.color = color;
        }
        else {
            label.color = _color;
        }
        if (strokeColor) {
            label.stroke = _strokeWidth;
            label.strokeColor = _strokeColor;
        }
        label.pos(pos.x, pos.y);
        Laya.stage.addChild(label);
        return label;
    };
    CameraMoveScript.prototype.ShowInfo = function () {
        var pos = this.m_camera.transform.position;
        var rot = this.m_camera.transform.rotationEuler;
        this.m_label.text = "Camera Pos : (" + pos.x.toFixed(2) + "," + pos.y.toFixed(2) + "," + pos.z.toFixed(2) + ")" + "\n";
        this.m_label.text += "Camera Rot : (" + rot.x.toFixed(2) + "," + rot.y.toFixed(2) + "," + rot.z.toFixed(2) + ")" + "\n";
        this.m_label.text += "Camera orthographicVerticalSize : " + this.m_camera.orthographicVerticalSize + "\n";
        this.m_label.text += "Mouse PosX : " + Laya.stage.mouseX + "\n";
        this.m_label.text += "Mouse PosY : " + Laya.stage.mouseY + "\n";
        this.m_label.text += "是否在2D: " + this.Is2D + "\n";
        this.m_label.text += "this forwardlength: " + this.m_forwardLength + "\n";
        this.m_label.text += "3dMoveSpeed : " + this.m_3dMoveSpeed + "\n";
        this.m_label.text += "2dMoveSpeed : " + this.m_2dMoveSpeed + "\n";
    };
    return CameraMoveScript;
}(Laya.Script3D));
exports.default = CameraMoveScript;
},{"../Events/EventManager":16,"../Events/Events":17}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LabelUpdatPos = /** @class */ (function (_super) {
    __extends(LabelUpdatPos, _super);
    function LabelUpdatPos() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    LabelUpdatPos.prototype.onAwake = function () {
        this.m_label = this.owner;
        if (Laya.Browser.onAndroid || Laya.Browser.onIPhone || Laya.Browser.onMobile) {
            this.m_fontsize = 25;
        }
        else if (Laya.Browser.onPC || Laya.Browser.onMac) {
            this.m_fontsize = 14;
        }
    };
    LabelUpdatPos.prototype.onStart = function () {
        this.SetLabelPos();
    };
    LabelUpdatPos.prototype.onUpdate = function () {
        this.SetLabelPos();
    };
    LabelUpdatPos.prototype.Init = function (parent, camera, content) {
        this.m_parent = parent;
        this.m_camera = camera;
        this.InitLabel();
        this.SetLabelContent(content);
    };
    LabelUpdatPos.prototype.SetLabelContent = function (content) {
        if (this.m_label == null)
            return;
        this.m_label.text = content;
    };
    LabelUpdatPos.prototype.InitLabel = function () {
        if (this.m_label == null)
            return;
        this.m_label.width = 300;
        this.m_label.height = 50;
        this.m_label.pivotX = 150;
        this.m_label.pivotY = 25;
        this.m_label.font = "Microsoft YaHei";
        this.m_label.text = "SAMPLE DEMO";
        this.m_label.fontSize = this.m_fontsize;
        this.m_label.color = "#ffffff";
        this.m_label.stroke = 0.05;
        this.m_label.strokeColor = "#000000";
        this.m_label.align = "center";
    };
    LabelUpdatPos.prototype.SetLabelPos = function () {
        if (this.m_parent == null || this.m_camera == null)
            return;
        var floorPos = this.m_parent.transform.position;
        var newPos = new Laya.Vector3(floorPos.x, floorPos.y + 3, floorPos.z);
        var screenPos = new Laya.Vector3();
        this.m_camera.worldToViewportPoint(newPos, screenPos);
        this.m_label.pos(screenPos.x, screenPos.y + 15);
    };
    return LabelUpdatPos;
}(Laya.Script));
exports.default = LabelUpdatPos;
},{}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var LightControl = /** @class */ (function (_super) {
    __extends(LightControl, _super);
    function LightControl() {
        return _super.call(this) || this;
    }
    LightControl.prototype.onAwake = function () {
        this.Light = this.owner;
    };
    LightControl.prototype.onUpdate = function () {
        this.Light.transform.position = this.Camera.transform.position;
        this.Light.transform.rotationEuler = this.Camera.transform.rotationEuler;
    };
    return LightControl;
}(Laya.Script3D));
exports.default = LightControl;
},{}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var Vector3 = Laya.Vector3;
var EventManager_1 = require("../Events/EventManager");
var Events_1 = require("../Events/Events");
var RaySelector = /** @class */ (function (_super) {
    __extends(RaySelector, _super);
    function RaySelector() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.m_mousePoint = new Laya.Vector2();
        return _this;
    }
    RaySelector.prototype.onAwake = function () {
        if (this.owner != null) {
            var cam = this.owner;
            if (cam != null) {
                this.Camera = cam;
            }
        }
        this.m_ray = new Laya.Ray(new Vector3(), new Vector3());
        this.m_hitResult = new Laya.HitResult();
        this.AddMouseEvent();
    };
    RaySelector.prototype.onUpdate = function () {
        this.RayCastHit();
    };
    RaySelector.prototype.AddMouseEvent = function () {
        Laya.stage.on(Laya.Event.CLICK, this, this.OnRayCastClicked);
    };
    RaySelector.prototype.RemoveMouseEvent = function () {
        Laya.stage.off(Laya.Event.CLICK, this, this.OnRayCastClicked);
    };
    RaySelector.prototype.onDisable = function () {
        this.RemoveMouseEvent();
    };
    RaySelector.prototype.RayCastHit = function () {
        this.m_mousePoint.x = Laya.stage.mouseX;
        this.m_mousePoint.y = Laya.stage.mouseY;
        if (this.Camera != null && this.Scene3D != null) {
            this.Camera.viewportPointToRay(this.m_mousePoint, this.m_ray);
            this.Scene3D.physicsSimulation.rayCast(this.m_ray, this.m_hitResult);
            if (this.m_hitResult.succeeded) {
                var collider = this.m_hitResult.collider.owner;
                //this.m_deltaClickTime +=Laya.timer.delta;
                if (this.m_isClicked) {
                    EventManager_1.default.Instance().PostEvent(Events_1.Events.OnSpaceClicked.toString(), collider);
                    GameManager_1.default.Instance().BIM.SetLayaColor(collider, Laya.Color.RED);
                }
                if (this.m_selected != collider) {
                    this.m_isClicked = false;
                    if (this.m_selected != null) {
                        EventManager_1.default.Instance().PostEvent(Events_1.Events.OnSpaceExit.toString(), this.m_selected);
                        GameManager_1.default.Instance().BIM.ResetColor(this.m_selected);
                        this.m_selected = null;
                    }
                    this.m_selected = collider;
                    EventManager_1.default.Instance().PostEvent(Events_1.Events.OnSpaceExit.toString(), this.m_selected);
                    GameManager_1.default.Instance().BIM.SetLayaColor(collider, Laya.Color.YELLOW);
                }
            }
        }
    };
    RaySelector.prototype.OnRayCastClicked = function () {
        this.m_isClicked = true;
        // this.m_mousePoint.x = Laya.stage.mouseX;
        // this.m_mousePoint.y = Laya.stage.mouseY;
        // this.Camera.viewportPointToRay(this.m_mousePoint,this.m_ray);
        // if(this.Scene3D!=null){
        //     this.Scene3D.physicsSimulation.rayCast(this.m_ray,this.m_hitResult);
        //     if(this.m_hitResult.succeeded){
        //         var colliderName = this.m_hitResult.collider.owner.name;
        //         //console.debug("碰撞的对象为："+ colliderName);
        //         var floor:Laya.MeshSprite3D = GameManager.Instance().BIM.GetOneFloorSprite3D(colliderName);
        //         if(floor==null)return ;
        //         var mats = floor.meshRenderer.materials;
        //         mats.forEach(element => {
        //             var mat:Laya.BlinnPhongMaterial = element as Laya.BlinnPhongMaterial;
        //             mat.albedoColor = new Laya.Vector4(1,0,0,1);
        //         });
        //     }
        // }
    };
    RaySelector.prototype.DrawLine = function () {
        // this.m_mousePoint.x = Laya.MouseManager.instance.mouseX;
        // this.m_mousePoint.y = Laya.MouseManager.instance.mouseY;
        // this.m_camera.worldToViewportPoint(this.m_camera.transform.position,this.camPos);
        // this.sp.graphics.clear();
        // this.sp.graphics.drawLine(this.camPos.x,this.camPos.y,this.m_mousePoint.x,this.m_mousePoint.y,"#ff0000",1); 
    };
    return RaySelector;
}(Laya.Script3D));
exports.default = RaySelector;
},{"../Events/EventManager":16,"../Events/Events":17,"../GameManager":18}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var NameConfig = /** @class */ (function () {
    function NameConfig() {
    }
    NameConfig.ip = "meetoo.cn";
    NameConfig.port = "1986";
    NameConfig.userName = "yangxin";
    NameConfig.userPassprot = "81DC9BDB52D04DC20036DBD8313ED055";
    NameConfig.screenWidth = Laya.Browser.width;
    NameConfig.screenHegiht = Laya.Browser.height;
    NameConfig.floorLayer = "buildingLevels";
    NameConfig.floor = "Floor";
    NameConfig.campusCode = "PUMCHW";
    return NameConfig;
}());
exports.default = NameConfig;
},{}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var TableOrgnization_1 = require("./TableOrgnization");
var TableBIMUsageType_1 = require("./TableBIMUsageType");
var TableBIMSpace_1 = require("./TableBIMSpace");
var DataManager = /** @class */ (function () {
    function DataManager() {
    }
    DataManager.prototype.Init = function () {
        this.RegisterTables();
    };
    DataManager.prototype.RegisterTables = function () {
        var _this = this;
        this.tableBimSpace = new TableBIMSpace_1.default();
        this.tableBimSpace.Init(GameManager_1.default.Instance().Http.URL, function () {
            _this.tableOrganization = new TableOrgnization_1.default();
            _this.tableOrganization.Init(GameManager_1.default.Instance().Http.URL, function () {
                _this.tableUsageType = new TableBIMUsageType_1.default();
                _this.tableUsageType.Init(GameManager_1.default.Instance().Http.URL, function () {
                    GameManager_1.default.Instance().LoadRes();
                });
            });
        });
    };
    DataManager.prototype.GetOneOrganizationName = function (code, level) {
        if (this.tableOrganization.IsLoaded) {
            return this.tableOrganization.GetOneOrganizationName(code, level);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneOrganizationColor = function (code) {
        if (this.tableOrganization.IsLoaded) {
            return this.tableOrganization.GetOneOrganizationColor(code);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneUsageName = function (code) {
        if (this.tableUsageType.IsLoaded) {
            return this.tableUsageType.GetOneUsageName(code);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneUsageColor = function (code) {
        if (this.tableUsageType.IsLoaded) {
            return this.tableUsageType.GetOneUsageColor(code);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneSpaceData = function (code) {
        if (this.tableBimSpace.IsLoaded) {
            return this.tableBimSpace.GetOneSpaceData(code);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneLevelOrganizations = function (level) {
        if (this.tableBimSpace.IsLoaded) {
            return this.tableBimSpace.GetOneLevelOrgnizations(level);
        }
        else
            return null;
    };
    DataManager.prototype.GetOneLevelFloorsByOrgs = function (level, orgs) {
        if (this.tableBimSpace.IsLoaded) {
            return this.tableBimSpace.GetOneLevelCodesByOrgs(level, orgs);
        }
        else {
            return null;
        }
    };
    return DataManager;
}());
exports.default = DataManager;
},{"../GameManager":18,"./TableBIMSpace":13,"./TableBIMUsageType":14,"./TableOrgnization":15}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var TableBIMSpace = /** @class */ (function () {
    function TableBIMSpace() {
        this.TabelName = "BIMSpace";
    }
    TableBIMSpace.prototype.Init = function (url, finished) {
        this.InitContainer();
        var postUrl = url.concat("/IVS/BIMSpace/dynamicQuery");
        var postBody = JSON.stringify({ "levelCodeList": ["PUMCHW-D03-F001", "PUMCHW-D03-F002", "PUMCHW-D03-F003"] });
        this.AsynLoadData(postUrl, postBody, finished);
    };
    TableBIMSpace.prototype.GetOneSpaceData = function (code) {
        if (code == null)
            return null;
        if (this.SpaceDataDic.has(code)) {
            return this.SpaceDataDic.get(code);
        }
        else
            return null;
    };
    TableBIMSpace.prototype.GetOrganizationByCode = function (code) {
        if (code == null)
            return null;
        if (this.SpaceDataDic.has(code)) {
            return this.SpaceDataDic.get(code).organizationCode;
        }
        else
            return null;
    };
    TableBIMSpace.prototype.GetOneLevelOrgnizations = function (level) {
        var _this = this;
        var orgs = new Array();
        if (this.m_levelSpaceCodes.has(level)) {
            this.m_levelSpaceCodes.get(level).forEach(function (element) {
                var orgCode = _this.GetOrganizationByCode(element);
                var b = orgs.some(function (code) { return code == orgCode; });
                if (!b)
                    orgs.push(orgCode);
            });
        }
        return orgs;
    };
    TableBIMSpace.prototype.GetOneLevelCodesByOrgs = function (level, orgs) {
        var _this = this;
        var floorCodes = new Array();
        if (this.m_levelSpaceCodes.has(level)) {
            this.m_levelSpaceCodes.get(level).forEach(function (element) {
                var orgCode = _this.GetOrganizationByCode(element);
                var b = orgs.some(function (code) {
                    return code == orgCode;
                });
                if (b) {
                    floorCodes.push(element);
                }
            });
        }
        return floorCodes;
    };
    TableBIMSpace.prototype.InitContainer = function () {
        this.m_levelSpaceCodes = new Laya.WeakObject();
        this.SpaceDataDic = new Laya.WeakObject();
    };
    TableBIMSpace.prototype.AsynLoadData = function (url, postBody, finished) {
        var _this = this;
        if (url == null || postBody == null)
            return;
        GameManager_1.default.Instance().Http.post(url, postBody, this, function (e) {
            if (e.state == "succeed") {
                var rst = e.data["data"]["list"];
                rst.forEach(function (element) {
                    var ele = _this.CreateSpaceData(element);
                    if (ele != null && ele.code != null) {
                        if (!_this.SpaceDataDic.has(ele.code)) {
                            _this.SpaceDataDic.set(ele.code, ele);
                        }
                    }
                    //levelCodes
                    var level = ele.levelCode;
                    if (!_this.m_levelSpaceCodes.has(level)) {
                        _this.m_levelSpaceCodes.set(level, new Array());
                    }
                    _this.m_levelSpaceCodes.get(level).push(ele.code);
                });
                finished.apply();
                _this.IsLoaded = true;
            }
        });
    };
    TableBIMSpace.prototype.CreateSpaceData = function (element) {
        var data = new SpaceData();
        data.code = element.code;
        data.usageName = element.usageName;
        data.buildingCode = element.buildingCode;
        data.campusCode = element.campusCode;
        data.levelCode = element.levelCode;
        data.organizationCode = element.organizationCode;
        data.usageTypeCode = element.usageTypeCode;
        data.useArea = element.useArea.toFixed(2).toString() + "m²";
        data.perimeter = element.perimeter;
        return data;
    };
    return TableBIMSpace;
}());
exports.default = TableBIMSpace;
var SpaceData = /** @class */ (function () {
    function SpaceData() {
    }
    return SpaceData;
}());
exports.SpaceData = SpaceData;
},{"../GameManager":18}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var TableUsageType = /** @class */ (function () {
    function TableUsageType() {
        this.TabelName = "BIMUsageType";
    }
    TableUsageType.prototype.Init = function (url, finished) {
        this.InitContainer();
        var postUrl = url.concat("/IVS/Common/retrieveAllByTableName");
        var postBody = JSON.stringify({ "tableName": this.TabelName });
        this.AsynLoadData(postUrl, postBody, finished);
    };
    TableUsageType.prototype.GetOneUsageName = function (code) {
        if (code == null)
            return null;
        if (this.UsageTypeDic.has(code)) {
            var data = this.UsageTypeDic.get(code);
            return data.name;
        }
        else {
            return null;
        }
    };
    TableUsageType.prototype.GetOneUsageColor = function (code) {
        if (code == null)
            return null;
        var level = this.GetUsageLevelLevel(code);
        if (level != "2") {
            code = code.substr(0, 4);
        }
        if (this.UsageTypeDic.has(code)) {
            var data = this.UsageTypeDic.get(code);
            return data.color;
        }
        else {
            return null;
        }
    };
    TableUsageType.prototype.GetUsageLevelLevel = function (code) {
        if (code == null)
            return null;
        if (this.UsageTypeDic.has(code)) {
            var data = this.UsageTypeDic.get(code);
            return data.level;
        }
        else {
            return null;
        }
    };
    TableUsageType.prototype.InitContainer = function () {
        this.UsageTypeDic = new Laya.WeakObject();
    };
    TableUsageType.prototype.AsynLoadData = function (url, postbody, fininshed) {
        var _this = this;
        GameManager_1.default.Instance().Http.post(url, postbody, this, function (e) {
            if (e.state == "succeed") {
                var rst = e.data["data"]["list"];
                rst.forEach(function (element) {
                    var ele = _this.CreateUsageType(element);
                    if (ele != null && ele.code != null) {
                        if (!_this.UsageTypeDic.has(ele.code)) {
                            _this.UsageTypeDic.set(ele.code, ele);
                        }
                    }
                });
                fininshed.apply();
                _this.IsLoaded = true;
            }
        });
    };
    TableUsageType.prototype.CreateUsageType = function (element) {
        var data = new UsageType();
        data.code = element.code;
        data.name = element.name;
        data.level = element.level;
        data.color = element.color;
        return data;
    };
    return TableUsageType;
}());
exports.default = TableUsageType;
var UsageType = /** @class */ (function () {
    function UsageType() {
    }
    return UsageType;
}());
exports.UsageType = UsageType;
},{"../GameManager":18}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../GameManager");
var TableOrgnization = /** @class */ (function () {
    function TableOrgnization() {
        this.TabelName = "Organization";
    }
    TableOrgnization.prototype.Init = function (url, finished) {
        this.InitContainer();
        var postUrl = url.concat("/IVS/Common/retrieveAllByTableName");
        var postBody = JSON.stringify({ "tableName": this.TabelName });
        this.AsynLoadData(postUrl, postBody, finished);
    };
    TableOrgnization.prototype.GetOneOrganizationName = function (code, level) {
        if (code == null)
            return null;
        code = level == null ? code : code.substr(0, 2 * parseInt(level));
        if (this.orgnizationDic.has(code)) {
            var data = this.orgnizationDic.get(code);
            return data.name;
        }
        else {
            return null;
        }
    };
    TableOrgnization.prototype.GetOneOrganizationColor = function (code) {
        if (code == null)
            return null;
        var level = this.GetOrganizationLevel(code);
        if (level != "2") {
            code = code.substr(0, 4);
        }
        if (this.orgnizationDic.has(code)) {
            var data = this.orgnizationDic.get(code);
            return data.color;
        }
        else {
            return null;
        }
    };
    TableOrgnization.prototype.GetOrganizationLevel = function (code) {
        if (code == null)
            return null;
        if (this.orgnizationDic.has(code)) {
            var data = this.orgnizationDic.get(code);
            return data.level;
        }
        else {
            return null;
        }
    };
    TableOrgnization.prototype.InitContainer = function () {
        this.orgnizationDic = new Laya.WeakObject();
    };
    TableOrgnization.prototype.AsynLoadData = function (url, postbody, fininshed) {
        var _this = this;
        GameManager_1.default.Instance().Http.post(url, postbody, this, function (e) {
            if (e.state == "succeed") {
                var rst = e.data["data"]["list"];
                rst.forEach(function (element) {
                    var ele = _this.CreateOrganization(element);
                    if (ele != null && ele.code != null) {
                        if (!_this.orgnizationDic.has(ele.code)) {
                            _this.orgnizationDic.set(ele.code, ele);
                        }
                    }
                });
                fininshed.apply();
                _this.IsLoaded = true;
            }
        });
    };
    TableOrgnization.prototype.CreateOrganization = function (element) {
        var data = new Orgnization();
        data.code = element.code;
        data.name = element.name;
        data.level = element.level;
        data.color = element.color;
        return data;
    };
    return TableOrgnization;
}());
exports.default = TableOrgnization;
var Orgnization = /** @class */ (function () {
    function Orgnization() {
    }
    return Orgnization;
}());
exports.Orgnization = Orgnization;
},{"../GameManager":18}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EventDispatcher = laya.events.EventDispatcher;
var EventManager = /** @class */ (function (_super) {
    __extends(EventManager, _super);
    function EventManager() {
        return _super.call(this) || this;
    }
    EventManager.Instance = function () {
        if (EventManager._instance == null) {
            EventManager._instance = new EventManager();
        }
        return EventManager._instance;
    };
    EventManager.prototype.PostEvent = function (eName, args) {
        //onsole.debug("分发事件");
        EventManager.eventDispatcher.event(eName, args);
    };
    EventManager.prototype.AddEventListener = function (eName, caller, listener, args) {
        //console.log("侦听事件",eName);
        EventManager.eventDispatcher.on(eName, caller, listener, args);
    };
    EventManager.prototype.RemoveEventListener = function (eName, caller, listener, once) {
        //console.log("移除事件",eName);
        EventManager.eventDispatcher.off(eName, caller, listener, once);
    };
    EventManager.eventDispatcher = new EventDispatcher();
    return EventManager;
}(EventDispatcher));
exports.default = EventManager;
},{}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Events;
(function (Events) {
    Events[Events["OnUI_LevelBtn_Clicked"] = 0] = "OnUI_LevelBtn_Clicked";
    Events[Events["OnLevelChanged"] = 1] = "OnLevelChanged";
    Events[Events["OnSpaceEnter"] = 2] = "OnSpaceEnter";
    Events[Events["OnSpaceClicked"] = 3] = "OnSpaceClicked";
    Events[Events["OnSpaceExit"] = 4] = "OnSpaceExit";
    Events[Events["OnCameraDistanceChanged"] = 5] = "OnCameraDistanceChanged";
    Events[Events["OnDepTreeItemClicked"] = 6] = "OnDepTreeItemClicked";
})(Events = exports.Events || (exports.Events = {}));
},{}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MtHttp_1 = require("./Network/MtHttp");
var NameConfig_1 = require("./Configure/NameConfig");
var DataManager_1 = require("./Data/DataManager");
var Handler = Laya.Handler;
var MainUI_1 = require("./MainUI");
var BIMManager_1 = require("./BIM/BIMManager");
var CameraManager_1 = require("./Camera/CameraManager");
var EventManager_1 = require("./Events/EventManager");
var Events_1 = require("./Events/Events");
var GameManager = /** @class */ (function () {
    function GameManager() {
        this.LoginLock = false;
        this.Http = new MtHttp_1.default(NameConfig_1.default.ip, NameConfig_1.default.port);
        this.BIM = new BIMManager_1.default();
        this.Data = new DataManager_1.default();
        this.Camera = new CameraManager_1.default();
        this.AddEvents();
    }
    GameManager.Instance = function () {
        if (GameManager._instance == null) {
            GameManager._instance = new GameManager();
        }
        return GameManager._instance;
    };
    GameManager.prototype.AddEvents = function () {
        EventManager_1.default.Instance().AddEventListener(Events_1.Events.OnUI_LevelBtn_Clicked.toString(), this, this.OnLevelBtnClicked);
    };
    GameManager.prototype.OnLevelBtnClicked = function (levelName) {
        this.BIM.HideOneLevelFloors(this.BIM.CurrenLevel);
        this.BIM.ShowOneLevelFloors(levelName);
        EventManager_1.default.Instance().PostEvent(Events_1.Events.OnLevelChanged.toString(), [this.BIM.CurrenLevel, this.BIM.PreLevel]);
        this.MainUI.CreateTree(this.Data.GetOneLevelOrganizations(this.BIM.CurrenLevel));
    };
    GameManager.prototype.Login = function () {
        if (this.LoginLock)
            return;
        var longinUrl = this.Http.URL.concat("/IVS/login");
        var postBody = JSON.stringify({ "name": NameConfig_1.default.userName,
            "pwd": NameConfig_1.default.userPassprot,
            "thirdPartyCode": "0" });
        this.Http.post(longinUrl, postBody, this, this.LoginSucceed);
        this.LoginLock = true;
    };
    GameManager.prototype.LoginSucceed = function (e) {
        if (e.state == "succeed") {
            console.debug("Login succeed!");
            this.LoadData();
            //test
            //this.LoadRes();
        }
        else {
            alert(e.msg);
        }
    };
    GameManager.prototype.LoadData = function () {
        this.Data.Init();
    };
    GameManager.prototype.LoadRes = function () {
        var _this = this;
        Laya.loader.load("res/JsonFile/res_pumchw.json", Handler.create(this, function (data) {
            var resUrl = new Array();
            data.url.forEach(function (element) {
                resUrl.push(_this.Http.URL.concat("/Patch/res/", element));
            });
            _this.BIM.LoadRes(resUrl, function () {
                _this.InitMainUI();
                _this.BIM.ShowOneLevelFloors(_this.BIM.CurrenLevel);
            });
        }));
    };
    GameManager.prototype.Init3DScene = function () {
        if (this.IsInitScene)
            return;
        Laya3D.init(0, 0, true);
        Laya.stage.scaleMode = Laya.Stage.SCALE_FULL;
        Laya.stage.screenMode = Laya.Stage.SCREEN_NONE;
        //Laya.Stat.show();
        this.MainScene = new Laya.Scene3D();
        Laya.stage.addChild(this.MainScene);
        this.Camera.InitCamera();
        this.IsInitScene = true;
    };
    GameManager.prototype.InitMainUI = function () {
        this.MainUI = new MainUI_1.default();
        Laya.stage.addChild(this.MainUI);
        //this.MainUI.CreateTree(this.Data.GetOneLevelOrganizations(this.BIM.CurrenLevel));
        this.MainUI.CreateLevels(this.BIM.Levels);
    };
    return GameManager;
}());
exports.default = GameManager;
},{"./BIM/BIMManager":3,"./Camera/CameraManager":4,"./Configure/NameConfig":11,"./Data/DataManager":12,"./Events/EventManager":16,"./Events/Events":17,"./MainUI":20,"./Network/MtHttp":21}],19:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var GameManager_1 = require("./GameManager");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        GameUI._instance = _this;
        _this.GameManager = GameManager_1.default.Instance();
        _this.UIAdapter();
        _this.LoginBtn.on(Laya.Event.CLICK, _this, _this.OnLoginBtnClicked);
        Laya.stage.on(Laya.Event.RESIZE, Laya.stage, function () {
            _this.UIAdapter();
        });
        return _this;
    }
    //Enable初始化
    GameUI.prototype.onEnable = function () {
    };
    //登陆
    GameUI.prototype.OnLoginBtnClicked = function (e) {
        //GameManager.Instance().Login();
        this.GameManager.Login();
    };
    //设置资源加载进度
    GameUI.prototype.SetLoadPercent = function (percent) {
        this.ProgressBar.visible = true;
        this.ProgressBar.value = percent;
        if (percent == 1) {
            this.DestroyScene();
        }
    };
    GameUI.prototype.DestroyScene = function () {
        //this.destroy();
        Laya.Scene.close(this.scene);
    };
    //UI适配
    GameUI.prototype.UIAdapter = function () {
        var width = Laya.Browser.width;
        var height = Laya.Browser.height;
        this.width = width;
        this.height = height;
        this.Background.width = width;
        this.Background.height = height;
        this.Title.pos(width / 2, height / 4);
        this.LoginBtn.pos(width / 2, height / 3 + 100);
        this.ProgressBar.pos(width / 2, height * 3 / 4);
        this.ProgressBar.visible = false;
    };
    return GameUI;
}(layaMaxUI_1.ui.portal.LoadingUI));
exports.default = GameUI;
},{"./../ui/layaMaxUI":26,"./GameManager":18}],20:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var GameManager_1 = require("./GameManager");
var BIMManager_1 = require("./BIM/BIMManager");
var Button = Laya.Button;
var Common_1 = require("./Common/Common");
var EventManager_1 = require("./Events/EventManager");
var Events_1 = require("./Events/Events");
var UITree_1 = require("./UI/Tree/UITree");
var UITreeItem_1 = require("./UI/Tree/UITreeItem");
var MainUI = /** @class */ (function (_super) {
    __extends(MainUI, _super);
    function MainUI() {
        var _this = _super.call(this) || this;
        _this.m_isShowMultiBtns = true;
        _this.m_isShowAllLevels = false;
        _this.CurrentLabelType = BIMManager_1.LabelType.Usage;
        _this.isShowDepartTree = false;
        _this.m_orgLevel1 = new Laya.WeakObject();
        _this.m_orgLevel2 = new Laya.WeakObject();
        _this.m_level1arrs = new Array();
        _this.m_level2arrs = new Array();
        _this.uitree = new UITree_1.default();
        _this.treedata = new Array();
        return _this;
    }
    MainUI.prototype.onEnable = function () {
        var _this = this;
        MainUI._instance = this;
        this.UIAdapter();
        this.AddEvent();
        this.m_is2D = false;
        this.m_levelBtns = new Array();
        this.m_levelBtnPos = new Laya.WeakObject();
        Laya.stage.on(Laya.Event.RESIZE, Laya.stage, function () {
            _this.UIAdapter();
        });
    };
    MainUI.prototype.UIAdapter = function () {
        var _this = this;
        var width = Laya.stage.width;
        var height = Laya.stage.height;
        this.width = width;
        this.height = height;
        this._2D3DBtn.pos(100, height - 100);
        this.DepBtn.pos(100, height / 3);
        this.UsageBtn.pos(100, height / 3 + 150);
        this.AreaBtn.pos(100, height / 3 + 300);
        this.MultiBtn.pos(width - 150, height - 180);
        this.AllBtn.pos(width - 150, height - 100);
        this.DistributeBtn.pos(width - 150, 100);
        this.uitree;
        //重新刷新levelbtn
        if (this.m_levelBtns && this.m_levelBtns.length != 0) {
            var index_1 = 0;
            this.m_levelBtns.forEach(function (element) {
                _this.m_levelBtnOriPos = new Laya.Vector2(_this.MultiBtn.x, _this.MultiBtn.y);
                element.pos(_this.MultiBtn.x, _this.MultiBtn.y - ++index_1 * 80);
                if (_this.m_levelBtnPos.has(element)) {
                    _this.m_levelBtnPos.del(element);
                    _this.m_levelBtnPos.set(element, new Laya.Vector2(element.x, element.y));
                }
            });
        }
    };
    //应该有RemoveEvenet
    MainUI.prototype.AddEvent = function () {
        var _this = this;
        this._2D3DBtn.on(Laya.Event.CLICK, null, function (e) {
            _this._2D3DBtnClicked();
            e.stopPropagation();
        });
        this.DepBtn.on(Laya.Event.CLICK, null, function (e) {
            GameManager_1.default.Instance().BIM.RefreshLabelContent(BIMManager_1.LabelType.Depart);
            _this.CurrentLabelType = BIMManager_1.LabelType.Depart;
            e.stopPropagation();
        });
        this.UsageBtn.on(Laya.Event.CLICK, null, function (e) {
            GameManager_1.default.Instance().BIM.RefreshLabelContent(BIMManager_1.LabelType.Usage);
            _this.CurrentLabelType = BIMManager_1.LabelType.Usage;
            e.stopPropagation();
        });
        this.AreaBtn.on(Laya.Event.CLICK, null, function (e) {
            GameManager_1.default.Instance().BIM.RefreshLabelContent(BIMManager_1.LabelType.Area);
            e.stopPropagation();
        });
        this.MultiBtn.on(Laya.Event.CLICK, null, function (e) {
            _this.ShowLevels(_this.m_isShowMultiBtns);
            e.stopPropagation();
        });
        this.DistributeBtn.on(Laya.Event.CLICK, null, function (e) {
            _this.ShowDepartmentTree();
            e.stopPropagation();
        });
        this.AllBtn.on(Laya.Event.CLICK, null, function (e) {
            _this.m_isShowAllLevels = !_this.m_isShowAllLevels;
            GameManager_1.default.Instance().BIM.ShowAllLevels(_this.m_isShowAllLevels);
            e.stopPropagation();
        });
    };
    MainUI.prototype.CreateLevels = function (levels) {
        var _this = this;
        if (levels == null || levels.length == 0)
            return;
        this.m_levelBtns.splice(0);
        var underGroundLevel = new Array();
        var upGroundLevel = new Array();
        levels.forEach(function (element) {
            if (element.length != 15) {
                console.debug("level name is not legal!");
                return;
            }
            if (Common_1.default.GetPurLevel(element).match("B") != null) {
                underGroundLevel.push(element);
            }
            else {
                upGroundLevel.push(element);
            }
        });
        underGroundLevel.sort(function (a, b) {
            return a.charAt(14) > b.charAt(14) ? -1 : 1;
        });
        upGroundLevel.sort(function (a, b) {
            return a.charAt(14) > b.charAt(14) ? 1 : -1;
        });
        this.LevelNames = underGroundLevel.concat(upGroundLevel);
        //temp
        var index = 0;
        this.m_levelBtnOriPos = new Laya.Vector2(this.MultiBtn.x, this.MultiBtn.y);
        this.LevelNames.forEach(function (element) {
            _this.CreateOneButton(element, new Laya.Vector2(_this.m_levelBtnOriPos.x, _this.m_levelBtnOriPos.y - ++index * 80));
        });
    };
    MainUI.prototype.CreateOneButton = function (levelCode, pos) {
        if (levelCode == null)
            return;
        var purLevel = Common_1.default.GetPurLevel(levelCode);
        var lvlBtn = new Button("comp/button.png");
        lvlBtn.name = levelCode;
        lvlBtn.width = 80;
        lvlBtn.height = 60;
        lvlBtn.pos(pos.x, pos.y);
        lvlBtn.labelSize = 30;
        lvlBtn.label = purLevel.charAt(0) + purLevel.charAt(3);
        lvlBtn.on(Laya.Event.CLICK, null, function (e, lvlName) {
            e.stopPropagation();
            EventManager_1.default.Instance().PostEvent(Events_1.Events.OnUI_LevelBtn_Clicked.toString(), lvlBtn.name);
        });
        Laya.stage.addChild(lvlBtn);
        this.m_levelBtns.push(lvlBtn);
        this.m_levelBtnPos.set(lvlBtn, new Laya.Vector2(lvlBtn.x, lvlBtn.y));
    };
    MainUI.prototype.ShowLevels = function (b) {
        var _this = this;
        this.m_isShowMultiBtns = !b;
        if (!this.m_isShowMultiBtns) {
            this.MultiBtn.label = "展开";
            this.m_levelBtns.forEach(function (element) {
                Laya.Tween.to(element, { x: _this.m_levelBtnOriPos.x, y: _this.m_levelBtnOriPos.y }, 50, Laya.Ease.linearIn, Laya.Handler.create(_this, function () {
                    element.visible = _this.m_isShowMultiBtns;
                }));
            });
        }
        else {
            this.MultiBtn.label = "折叠";
            this.m_levelBtns.forEach(function (element) {
                element.visible = _this.m_isShowMultiBtns;
                var pos = _this.m_levelBtnPos.get(element);
                Laya.Tween.to(element, { x: pos.x, y: pos.y }, 50);
            });
        }
    };
    MainUI.prototype._2D3DBtnClicked = function () {
        this.m_is2D = !this.m_is2D;
        GameManager_1.default.Instance().Camera.ResetCamera(this.m_is2D);
        if (this.m_is2D) {
            this._2D3DBtn.label = "3D";
        }
        else {
            this._2D3DBtn.label = "2D";
        }
    };
    MainUI.prototype.ShowDepartmentTree = function () {
        this.isShowDepartTree = !this.isShowDepartTree;
        if (this.isShowDepartTree) {
            var data = GameManager_1.default.Instance().Data.GetOneLevelOrganizations(GameManager_1.default.Instance().BIM.CurrenLevel);
            this.CreateTree(data);
        }
        if (this.uitree && this.uitree.m_tree)
            this.uitree.m_tree.visible = this.isShowDepartTree;
    };
    MainUI.prototype.CreateTree = function (orgs) {
        //TEMP:默认为3级
        var _this = this;
        this.cleardic();
        var level1;
        var level2;
        var level3;
        orgs.forEach(function (element) {
            switch (element.length) {
                case 2:
                    if (!_this.m_orgLevel1.has(element)) {
                        _this.m_orgLevel1.set(element, new Array());
                        _this.m_level1arrs.push(element);
                    }
                    break;
                case 4:
                    level1 = element.substr(0, 2);
                    level2 = element.substr(0, 4);
                    if (!_this.m_orgLevel1.has(level1)) {
                        _this.m_orgLevel1.set(level1, new Array());
                        _this.m_level1arrs.push(level1);
                    }
                    var b = _this.m_orgLevel1.get(level1).some(function (code) { return code == level2; });
                    if (!b)
                        _this.m_orgLevel1.get(level1).push(level2);
                    break;
                case 6:
                    level1 = element.substr(0, 2);
                    level2 = element.substr(0, 4);
                    level3 = element.substr(0, 6);
                    if (!_this.m_orgLevel1.has(level1)) {
                        _this.m_orgLevel1.set(level1, new Array());
                        _this.m_level1arrs.push(level1);
                    }
                    var b2 = _this.m_orgLevel1.get(level1).some(function (code) { return code == level2; });
                    if (!b2)
                        _this.m_orgLevel1.get(level1).push(level2);
                    if (!_this.m_orgLevel2.has(level2)) {
                        _this.m_orgLevel2.set(level2, new Array());
                        _this.m_level2arrs.push(level2);
                    }
                    var b3 = _this.m_orgLevel2.get(level2).some(function (code) { return code == level3; });
                    if (!b3)
                        _this.m_orgLevel2.get(level2).push(level3);
                    break;
            }
        });
        this.m_level1arrs.forEach(function (lvl1) {
            var root = _this.createTreeItem(lvl1, GameManager_1.default.Instance().Data.GetOneOrganizationName(lvl1), 1, false, null);
            _this.treedata.push(root);
            _this.m_orgLevel1.get(lvl1).forEach(function (lvl2) {
                var isleaf = (!_this.m_orgLevel2.has(lvl2) || _this.m_orgLevel2.get(lvl2).length == 0) ? true : false;
                var level2 = _this.createTreeItem(lvl2, GameManager_1.default.Instance().Data.GetOneOrganizationName(lvl2), 2, isleaf, lvl1);
                root.children.push(level2);
                if (_this.m_orgLevel2.has(lvl2)) {
                    _this.m_orgLevel2.get(lvl2).forEach(function (lvl3) {
                        var level3 = _this.createTreeItem(lvl3, GameManager_1.default.Instance().Data.GetOneOrganizationName(lvl3), 3, true, lvl2);
                        level2.children.push(level3);
                    });
                }
            });
        });
        this.uitree.InitTree(this.treedata, null, new Laya.Vector2(Laya.Browser.width - 600, 10), "#FFD700");
        this.uitree.OnValueChanged = function (data, b) {
            _this.OnValueChanged(data, b);
        };
    };
    MainUI.prototype.createTreeItem = function (code, name, level, isLeaf, parentCode) {
        var item = new UITreeItem_1.TreeItemData();
        item.code = code;
        item.name = name;
        item.level = level;
        item.isLeaf = isLeaf;
        item.parentCode = parentCode;
        item.children = new Array();
        return item;
    };
    MainUI.prototype.OnValueChanged = function (arr, b) {
        var str = new Array();
        arr.forEach(function (element) {
            str.push(element.ItemData.code);
        });
        EventManager_1.default.Instance().PostEvent(Events_1.Events.OnDepTreeItemClicked.toString(), [str, b]);
    };
    MainUI.prototype.cleardic = function () {
        var _this = this;
        this.m_level1arrs.forEach(function (element) {
            _this.m_orgLevel1.del(element);
        });
        this.m_level1arrs.splice(0);
        this.m_level2arrs.forEach(function (element) {
            _this.m_orgLevel2.del(element);
        });
        this.m_level2arrs.splice(0);
        this.treedata.splice(0);
    };
    MainUI._instance = null;
    return MainUI;
}(layaMaxUI_1.ui.MainScene.MainSceneUI));
exports.default = MainUI;
},{"./../ui/layaMaxUI":26,"./BIM/BIMManager":3,"./Common/Common":5,"./Events/EventManager":16,"./Events/Events":17,"./GameManager":18,"./UI/Tree/UITree":24,"./UI/Tree/UITreeItem":25}],21:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MtProtocalCommon_1 = require("./MtProtocalCommon");
var MtHttp = /** @class */ (function () {
    function MtHttp(ip, port) {
        this.m_ip = ip;
        this.m_port = port;
        this.URL = "http://" + this.m_ip + ":" + this.m_port;
        this.m_http = new Laya.HttpRequest;
        this.m_protocalCommon = new MtProtocalCommon_1.default();
    }
    MtHttp.prototype.get = function (url, caller, callback) {
        this.m_caller = caller;
        this.m_callback = callback;
        this.m_http.once(Laya.Event.COMPLETE, this, this.onHttpRequestComplete);
        this.m_http.once(Laya.Event.ERROR, this, this.onHttpRequestError);
        this.m_http.send(url, null, 'get', 'text');
        return this;
    };
    MtHttp.prototype.post = function (url, data, caller, callback) {
        this.m_caller = caller;
        this.m_callback = callback;
        this.m_http.once(Laya.Event.COMPLETE, this, this.onHttpRequestComplete);
        this.m_http.once(Laya.Event.ERROR, this, this.onHttpRequestError);
        this.m_http.send(url, data, 'post', 'json', this.m_protocalCommon.CommonHeader);
        return this;
    };
    MtHttp.prototype.onHttpRequestError = function (e) {
        this.m_callback.apply(this.m_caller, [{ state: "failed", msg: e }]);
    };
    MtHttp.prototype.onHttpRequestComplete = function (e) {
        this.m_callback.apply(this.m_caller, [{ state: "succeed", data: this.m_http.data }]);
    };
    return MtHttp;
}());
exports.default = MtHttp;
},{"./MtProtocalCommon":22}],22:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
//协议--请求头文件
var ProtocolCommon = /** @class */ (function () {
    function ProtocolCommon() {
        this.AccessControlAllowOrigin = "Access-Control-Allow-Origin";
        this.AccessControlAllowOriginValue = "*";
        this.AccessControlAllowHeaders = "Access-Control-Allow-Headers";
        this.AccessControlAllowHeadersValue = "Content-Type,Content-Length, Authorization, Accept,X-Requested-With";
        this.AccessControlAllowMethods = "Access-Control-Allow-Methods";
        this.AccessControlAllowMethodsValue = "POST, GET, OPTIONS,DELETE,PUT";
        this.XAuthTokenField = "X-Auth-Token";
        this.XAuthTokenFieldValue = "open-sesame";
        this.AcceptField = "Accept";
        this.ContentTypeFieldValue = "application/json";
        this.ContentTypeField = "Content-Type";
        this.TokenField = "cookie";
        this.CommonHeader = new Array();
        this.CommonHeader.push(this.AccessControlAllowOrigin, this.AccessControlAllowOriginValue);
        this.CommonHeader.push(this.AccessControlAllowHeaders, this.AccessControlAllowHeadersValue);
        this.CommonHeader.push(this.AccessControlAllowMethods, this.AccessControlAllowMethodsValue);
        this.CommonHeader.push(this.XAuthTokenField, this.XAuthTokenFieldValue);
        this.CommonHeader.push(this.AcceptField, this.ContentTypeFieldValue);
        this.CommonHeader.push(this.ContentTypeField, this.ContentTypeFieldValue);
    }
    ProtocolCommon.prototype.SetCookies = function (cookie) {
        cookie = cookie;
    };
    return ProtocolCommon;
}());
exports.default = ProtocolCommon;
},{}],23:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Handler = laya.utils.Handler;
var GameUI_1 = require("../GameUI");
var ResManager = /** @class */ (function () {
    function ResManager() {
        this.ResNames = new Array();
        this.ResEnitityDic = new Laya.WeakObject();
    }
    ResManager.Instance = function () {
        if (ResManager._instance == null) {
            ResManager._instance = new ResManager();
        }
        return ResManager._instance;
    };
    //加载多个资源
    ResManager.prototype.LoadPrefabAssets = function (resNames, finished) {
        var _this = this;
        if (resNames == null || resNames.length == 0)
            return;
        this.ResNames = resNames;
        Laya.loader.create(resNames, Handler.create(this, function () {
            _this.ResNames.forEach(function (element) {
                var res = Laya.loader.getRes(element.url);
                if (!_this.ResEnitityDic.has(element.url)) {
                    _this.ResEnitityDic.set(element.url, res);
                }
                if (finished != null) {
                    var params = [element.url, res];
                    finished.runWith(params);
                }
            });
        }), Handler.create(this, function (p) {
            _this.SetLoadPercent(p);
        }));
    };
    ResManager.prototype.GetOneAsset = function (url) {
        if (url == null)
            return null;
        if (this.ResEnitityDic.has(url)) {
            return this.ResEnitityDic.get(url);
        }
        else {
            return null;
        }
    };
    ResManager.prototype.ReleaseOneAsset = function (url) {
        if (url == null)
            return;
        var res = this.GetOneAsset(url);
        if (res != null) {
            //待测试，是否释放了内存
            res.destroy(true);
        }
    };
    //待测试
    ResManager.prototype.ReleaseAllAssets = function () {
        var _this = this;
        if (this.ResEnitityDic != null) {
            this.ResNames.forEach(function (element) {
                if (_this.ResEnitityDic.has(element)) {
                    _this.ResEnitityDic.get(element).destroy(true);
                }
            });
        }
    };
    ResManager.prototype.SetLoadPercent = function (p) {
        GameUI_1.default._instance.SetLoadPercent(p);
    };
    return ResManager;
}());
exports.default = ResManager;
},{"../GameUI":19}],24:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var UITreeItem_1 = require("./UITreeItem");
var Handler = Laya.Handler;
/**
 * 创建简易树
 */
var UITree = /** @class */ (function () {
    function UITree() {
        this.m_ItemCodes = new Array();
        this.m_treeItemsDic = new Laya.WeakObject();
        this.m_valueChangedItem = new Array();
    }
    UITree.prototype.InitTree = function (items, style, treePos, treeBgColor, uitreeAtlas) {
        var _this = this;
        if (items == null || items.length == 0)
            return;
        var defaultPath = "res/atlas/tree.atlas";
        var _uitreeAtlas = uitreeAtlas == null ? defaultPath : uitreeAtlas;
        Laya.loader.load(_uitreeAtlas, Handler.create(this, function () {
            _this.ClearTreeItemDic();
            if (_this.m_tree == null) {
                //Temp，用VBox制作一个Tree
                _this.m_tree = new Laya.VBox();
                _this.m_tree.x = treePos == null ? 0 : treePos.x;
                _this.m_tree.y = treePos == null ? 0 : treePos.y;
                _this.m_tree.bgColor = treeBgColor == null ? "#ffffff" : treeBgColor;
                Laya.stage.addChild(_this.m_tree);
            }
            if (treeBgColor != null) {
                if (style == null)
                    style = new UITreeItem_1.TreeItemStyle();
                style.ItemColor = treeBgColor;
            }
            items.forEach(function (element) {
                _this.AddItem(element, style);
            });
            _this.RefreshItemPosition();
        }));
    };
    UITree.prototype.AddItem = function (item, style) {
        var _this = this;
        if (item == null)
            return;
        var treeItem = new UITreeItem_1.default();
        treeItem.InitTreeItem(item, style);
        treeItem.OnArrowClick = (function (item, b) { _this.OnArrowClicked(item, b); });
        treeItem.OnCheckBoxClick = (function (item, b) { _this.OnCheckBoxClicked(item, b); });
        this.m_ItemCodes.push(item.code);
        if (!this.m_treeItemsDic.has(item.code))
            this.m_treeItemsDic.set(item.code, treeItem);
        this.m_tree.addChild(treeItem.TreeItem);
        if (!item.isLeaf) {
            item.children.forEach(function (element) {
                _this.AddItem(element, style);
            });
        }
    };
    UITree.prototype.OnArrowClicked = function (item, b) {
        if (item == null)
            return;
        this.RefreshArrowStatus(item.ItemData.code, b);
        this.RefreshItemPosition();
    };
    UITree.prototype.OnCheckBoxClicked = function (item, b) {
        if (item == null)
            return;
        this.m_valueChangedItem.splice(0);
        if (!item.ItemData.isLeaf)
            this.RefreshCheckStatusByParent(item.ItemData, b);
        else
            this.m_valueChangedItem.push(item);
        this.RefreshCheckStatusByChildren(item.ItemData);
        if (this.OnValueChanged)
            this.OnValueChanged(this.m_valueChangedItem, b);
    };
    UITree.prototype.RefreshCheckStatusByParent = function (data, b) {
        var _this = this;
        if (data == null || !this.m_treeItemsDic.has(data.code))
            return;
        var treeItem = this.m_treeItemsDic.get(data.code);
        if (treeItem.ItemData.children != null) {
            treeItem.ItemData.children.forEach(function (element) {
                if (_this.m_treeItemsDic.has(element.code)) {
                    var child = _this.m_treeItemsDic.get(element.code);
                    child.SetCheckboxStatus(b ? UITreeItem_1.CheckStatus.check : UITreeItem_1.CheckStatus.uncheck);
                    if (child.ItemData.isLeaf)
                        _this.m_valueChangedItem.push(child);
                    _this.RefreshCheckStatusByParent(child.ItemData, b);
                }
            });
        }
    };
    UITree.prototype.RefreshCheckStatusByChildren = function (data) {
        if (data.level == 1)
            return;
        var check = 0;
        var partly = 0;
        var parent = this.m_treeItemsDic.has(data.parentCode) ? this.m_treeItemsDic.get(data.parentCode) : null;
        if (parent) {
            parent.ItemData.children.forEach(function (element) {
                switch (element.status) {
                    case UITreeItem_1.CheckStatus.check:
                        check++;
                        break;
                    case UITreeItem_1.CheckStatus.partly:
                        partly++;
                        break;
                }
            });
            if (partly > 0) {
                parent.SetCheckboxStatus(UITreeItem_1.CheckStatus.partly);
            }
            else {
                if (check == 0) {
                    parent.SetCheckboxStatus(UITreeItem_1.CheckStatus.uncheck);
                    this.RefreshCheckStatusByChildren(parent.ItemData);
                }
                else if (check == parent.ItemData.children.length) {
                    parent.SetCheckboxStatus(UITreeItem_1.CheckStatus.check);
                    this.RefreshCheckStatusByChildren(parent.ItemData);
                }
                else {
                    parent.SetCheckboxStatus(UITreeItem_1.CheckStatus.partly);
                }
            }
        }
    };
    UITree.prototype.RefreshArrowStatus = function (code, b) {
        var _this = this;
        if (code == null || !this.m_treeItemsDic.has(code))
            return;
        var treeItem = this.m_treeItemsDic.get(code);
        treeItem.ItemData.children.forEach(function (element) {
            if (_this.m_treeItemsDic.has(element.code)) {
                var child = _this.m_treeItemsDic.get(element.code);
                child.TreeItem.visible = b;
                if (!b && !child.ItemData.isLeaf) {
                    _this.RefreshArrowStatus(child.ItemData.code, b);
                    child.SetArrowStatus(b);
                }
            }
        });
    };
    UITree.prototype.RefreshItemPosition = function () {
        var _this = this;
        var treelist = new Array();
        treelist.splice(0);
        this.m_ItemCodes.forEach(function (element) {
            var item = _this.m_treeItemsDic.get(element);
            if (item.TreeItem.visible) {
                treelist.push(item);
            }
        });
        var treeItemHeight = treelist[0].TreeItem.height;
        for (var i = 0; i < treelist.length; i++) {
            treelist[i].TreeItem.y = i * treeItemHeight;
        }
        this.m_tree.height = treelist.length * treeItemHeight;
    };
    UITree.prototype.ClearTreeItemDic = function () {
        var _this = this;
        this.m_ItemCodes.forEach(function (element) {
            if (_this.m_treeItemsDic.has(element)) {
                var item = _this.m_treeItemsDic.get(element);
                item.TreeItem.destroy();
                _this.m_treeItemsDic.del(element);
            }
        });
        this.m_ItemCodes.splice(0);
    };
    return UITree;
}());
exports.default = UITree;
},{"./UITreeItem":25}],25:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var TreeItemData = /** @class */ (function () {
    function TreeItemData() {
    }
    return TreeItemData;
}());
exports.TreeItemData = TreeItemData;
var TreeItemStyle = /** @class */ (function () {
    function TreeItemStyle() {
    }
    return TreeItemStyle;
}());
exports.TreeItemStyle = TreeItemStyle;
var TreeStyle;
(function (TreeStyle) {
    TreeStyle[TreeStyle["Normal"] = 0] = "Normal";
    TreeStyle[TreeStyle["Legend"] = 1] = "Legend";
})(TreeStyle = exports.TreeStyle || (exports.TreeStyle = {}));
var CheckStatus;
(function (CheckStatus) {
    CheckStatus[CheckStatus["check"] = 0] = "check";
    CheckStatus[CheckStatus["partly"] = 1] = "partly";
    CheckStatus[CheckStatus["uncheck"] = 2] = "uncheck";
})(CheckStatus = exports.CheckStatus || (exports.CheckStatus = {}));
var UITreeItem = /** @class */ (function () {
    function UITreeItem() {
        this.m_treeItemWidth = 300;
        this.m_treeItemHeight = 50;
        this.m_treeItemIntentLevel = 30;
        this.m_treeItemInnerSpace = 10;
        this.m_treeItemBgColor = "#ffffff";
        this.m_labelColor = "#000000";
        this.m_fontsize = 30;
        this.m_align = "left";
    }
    /** *******************Public Methods*************************************************/
    UITreeItem.prototype.InitTreeItem = function (data, itemStyle) {
        if (data == null)
            return;
        this.ItemData = data;
        this.SetTreeItemStyle(itemStyle);
        this.CreateArrow();
        this.CreateCheckBox();
        this.CreateLabel();
        this.CreateHBox();
    };
    UITreeItem.prototype.SetTreeItemStyle = function (style) {
        if (style == null)
            return;
        this.m_treeItemWidth = style.ItemWidth == null ? this.m_treeItemWidth : style.ItemWidth;
        this.m_treeItemHeight = style.ItemHeigth == null ? this.m_treeItemHeight : style.ItemHeigth;
        this.m_treeItemIntentLevel = style.ItemIntentLevel == null ? this.m_treeItemIntentLevel : style.ItemIntentLevel;
        this.m_treeItemInnerSpace = style.ItemInnerSpace == null ? this.m_treeItemInnerSpace : style.ItemInnerSpace;
        this.m_treeItemBgColor = style.ItemColor == null ? this.m_treeItemBgColor : style.ItemColor;
        this.m_labelColor = style.LabelColor == null ? this.m_labelColor : style.LabelColor;
        this.m_fontsize = style.LabelFontsize == null ? this.m_fontsize : style.LabelFontsize;
        this.m_align = style.LabelAlign == null ? this.m_align : style.LabelAlign;
    };
    UITreeItem.prototype.SetArrowStatus = function (b) {
        this.ItemData.arrowStatus = b;
        if (this.ItemData.arrowStatus) {
            this.Arrow.index = 1;
        }
        else {
            this.Arrow.index = 0;
        }
    };
    UITreeItem.prototype.SetCheckboxStatus = function (status) {
        switch (status) {
            case CheckStatus.check:
                this.CheckBox.index = 2;
                this.ItemData.status = CheckStatus.check;
                break;
            case CheckStatus.partly:
                this.CheckBox.index = 1;
                this.ItemData.status = CheckStatus.partly;
                break;
            case CheckStatus.uncheck:
                this.CheckBox.index = 0;
                this.ItemData.status = CheckStatus.uncheck;
                break;
        }
    };
    UITreeItem.prototype.SetContent = function (content) {
        this.Label.text = content;
    };
    /****************************TreeItem**************************************************/
    UITreeItem.prototype.CreateHBox = function (intentLevel) {
        this.TreeItem = new Laya.HBox();
        this.TreeItem.name = "treeItem";
        this.TreeItem.x = 5;
        this.TreeItem.width = this.m_treeItemWidth;
        this.TreeItem.height = this.m_treeItemHeight;
        this.TreeItem.space = this.m_treeItemInnerSpace;
        if (this.m_treeItemBgColor.length > 7) {
            this.m_treeItemBgColor = this.m_treeItemBgColor.substr(0, 7) + "00";
        }
        this.TreeItem.bgColor = this.m_treeItemBgColor;
        this.TreeItem.x = this.m_treeItemIntentLevel * (this.ItemData.level - 1);
        this.TreeItem.addChild(this.Arrow);
        this.TreeItem.addChild(this.CheckBox);
        this.TreeItem.addChild(this.Label);
        Laya.stage.addChild(this.TreeItem);
    };
    /** ***********************arrow*******************************************************/
    UITreeItem.prototype.CreateArrow = function () {
        var _this = this;
        var arrowRes = "tree/arrow.png";
        this.Arrow = new Laya.Clip(arrowRes, 1, 2);
        this.Arrow.width = this.m_treeItemHeight > 20 ? this.m_treeItemHeight - 20 : this.m_treeItemHeight;
        this.Arrow.height = this.m_treeItemHeight > 20 ? this.m_treeItemHeight - 20 : this.m_treeItemHeight;
        this.Arrow.y = this.m_treeItemHeight > 20 ? 10 : 0;
        this.Arrow.clipY = 2;
        this.Arrow.name = "arrow";
        if (this.ItemData.isLeaf)
            this.Arrow.visible = false;
        this.SetArrowStatus(true);
        this.Arrow.on(Laya.Event.CLICK, this, function (e) {
            e.stopPropagation();
            _this.ItemData.arrowStatus = !_this.ItemData.arrowStatus;
            _this.SetArrowStatus(_this.ItemData.arrowStatus);
            if (_this.OnArrowClick)
                _this.OnArrowClick(_this, _this.ItemData.arrowStatus);
        });
        Laya.stage.addChild(this.Arrow);
    };
    /******************CheckBox************************************************************/
    UITreeItem.prototype.CreateCheckBox = function () {
        var _this = this;
        this.CheckBox = new Laya.Clip("tree/checkbox.png", 1, 2);
        this.CheckBox.width = this.m_treeItemHeight > 20 ? this.m_treeItemHeight - 20 : this.m_treeItemHeight;
        this.CheckBox.height = this.m_treeItemHeight > 20 ? this.m_treeItemHeight - 20 : this.m_treeItemHeight;
        this.CheckBox.y = this.m_treeItemHeight > 20 ? 10 : 0;
        this.CheckBox.clipY = 3;
        this.CheckBox.name = "checkbox";
        this.SetCheckboxStatus(CheckStatus.check); //默认全选
        this.CheckBox.on(Laya.Event.CLICK, this, function (e) {
            e.stopPropagation();
            var b = _this.ItemData.status == CheckStatus.uncheck ? false : true;
            _this.SetCheckboxStatus(!b ? CheckStatus.check : CheckStatus.uncheck);
            if (_this.OnCheckBoxClick)
                _this.OnCheckBoxClick(_this, !b);
        });
        Laya.stage.addChild(this.CheckBox);
    };
    /****************Label*****************************************************************/
    UITreeItem.prototype.CreateLabel = function () {
        this.Label = new Laya.Label();
        this.Label.name = "label";
        this.Label.height = this.m_treeItemHeight;
        this.Label.align = this.m_align;
        this.Label.valign = "middle";
        this.Label.fontSize = this.m_fontsize;
        this.Label.color = this.m_labelColor;
        this.SetContent(this.ItemData.name);
        Laya.stage.addChild(this.Label);
    };
    return UITreeItem;
}());
exports.default = UITreeItem;
},{}],26:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var MainScene;
    (function (MainScene) {
        var MainSceneUI = /** @class */ (function (_super) {
            __extends(MainSceneUI, _super);
            function MainSceneUI() {
                return _super.call(this) || this;
            }
            MainSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.createView(MainSceneUI.uiView);
            };
            MainSceneUI.uiView = { "type": "Scene", "props": { "width": 600, "height": 900 }, "compId": 2, "child": [{ "type": "Button", "props": { "y": 271, "x": 23, "width": 80, "var": "DepBtn", "skin": "comp/button.png", "labelSize": 30, "label": "科室", "height": 60 }, "compId": 7 }, { "type": "Button", "props": { "y": 355, "x": 23, "width": 80, "var": "UsageBtn", "skin": "comp/button.png", "labelSize": 30, "label": "用途", "height": 60 }, "compId": 8 }, { "type": "Button", "props": { "y": 437, "x": 23, "width": 80, "var": "AreaBtn", "skin": "comp/button.png", "labelSize": 30, "label": "面积", "height": 60 }, "compId": 9 }, { "type": "Button", "props": { "y": 600, "x": 476, "width": 80, "var": "MultiBtn", "skin": "comp/button.png", "labelSize": 30, "label": "折叠", "height": 60 }, "compId": 13 }, { "type": "Button", "props": { "y": 680, "x": 23, "width": 80, "var": "_2D3DBtn", "skin": "comp/button.png", "labelSize": 30, "label": "2D", "height": 60 }, "compId": 14 }, { "type": "Button", "props": { "y": 680, "x": 476, "width": 80, "var": "AllBtn", "skin": "comp/button.png", "labelSize": 30, "label": "全部", "height": 60 }, "compId": 26 }, { "type": "Button", "props": { "y": 55, "x": 476, "width": 80, "var": "DistributeBtn", "skin": "comp/button.png", "labelSize": 30, "label": "分布", "height": 60 }, "compId": 98 }], "loadList": ["comp/button.png"], "loadList3D": [] };
            return MainSceneUI;
        }(Scene));
        MainScene.MainSceneUI = MainSceneUI;
        REG("ui.MainScene.MainSceneUI", MainSceneUI);
    })(MainScene = ui.MainScene || (ui.MainScene = {}));
})(ui = exports.ui || (exports.ui = {}));
(function (ui) {
    var portal;
    (function (portal) {
        var LoadingUI = /** @class */ (function (_super) {
            __extends(LoadingUI, _super);
            function LoadingUI() {
                return _super.call(this) || this;
            }
            LoadingUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("portal/Loading");
            };
            return LoadingUI;
        }(Scene));
        portal.LoadingUI = LoadingUI;
        REG("ui.portal.LoadingUI", LoadingUI);
    })(portal = ui.portal || (ui.portal = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2lkZS9MYXlhQWlySURFX2JldGEgKDEpL3Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9NYWluLnRzIiwic3JjL010R2FtZUNvbmZpZy50cyIsInNyYy9zY3JpcHQvQklNL0JJTU1hbmFnZXIudHMiLCJzcmMvc2NyaXB0L0NhbWVyYS9DYW1lcmFNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9Db21tb24vQ29tbW9uLnRzIiwic3JjL3NjcmlwdC9Db21tb24vTXRUd2Vlbi50cyIsInNyYy9zY3JpcHQvQ29tcG9uZW50L0NhbWVyYU1vdmVTY3JpcHQudHMiLCJzcmMvc2NyaXB0L0NvbXBvbmVudC9MYWJlbFVwZGF0ZS50cyIsInNyYy9zY3JpcHQvQ29tcG9uZW50L0xpZ2h0Q29udHJvbC50cyIsInNyYy9zY3JpcHQvQ29tcG9uZW50L1JheVNlbGVjdG9yLnRzIiwic3JjL3NjcmlwdC9Db25maWd1cmUvTmFtZUNvbmZpZy50cyIsInNyYy9zY3JpcHQvRGF0YS9EYXRhTWFuYWdlci50cyIsInNyYy9zY3JpcHQvRGF0YS9UYWJsZUJJTVNwYWNlLnRzIiwic3JjL3NjcmlwdC9EYXRhL1RhYmxlQklNVXNhZ2VUeXBlLnRzIiwic3JjL3NjcmlwdC9EYXRhL1RhYmxlT3Jnbml6YXRpb24udHMiLCJzcmMvc2NyaXB0L0V2ZW50cy9FdmVudE1hbmFnZXIudHMiLCJzcmMvc2NyaXB0L0V2ZW50cy9FdmVudHMudHMiLCJzcmMvc2NyaXB0L0dhbWVNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9HYW1lVUkudHMiLCJzcmMvc2NyaXB0L01haW5VSS50cyIsInNyYy9zY3JpcHQvTmV0d29yay9NdEh0dHAudHMiLCJzcmMvc2NyaXB0L05ldHdvcmsvTXRQcm90b2NhbENvbW1vbi50cyIsInNyYy9zY3JpcHQvUmVzb3VyY2UvUmVzTWFuYWdlci50cyIsInNyYy9zY3JpcHQvVUkvVHJlZS9VSVRyZWUudHMiLCJzcmMvc2NyaXB0L1VJL1RyZWUvVUlUcmVlSXRlbS50cyIsInNyYy91aS9sYXlhTWF4VUkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVkEsK0NBQXdDO0FBQ3hDO0lBQ0M7UUFDQyxnQkFBZ0I7UUFDaEIsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDO1lBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxzQkFBVSxDQUFDLEtBQUssRUFBRSxzQkFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDOztZQUNsRSxJQUFJLENBQUMsSUFBSSxDQUFDLHNCQUFVLENBQUMsS0FBSyxFQUFFLHNCQUFVLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDNUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNsRCxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxzQkFBVSxDQUFDLFNBQVMsQ0FBQztRQUM1QyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxzQkFBVSxDQUFDLFVBQVUsQ0FBQztRQUM5QyxvQkFBb0I7UUFDcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsR0FBRyxzQkFBVSxDQUFDLGlCQUFpQixDQUFDO1FBRTFELG9EQUFvRDtRQUNwRCxJQUFJLHNCQUFVLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxJQUFJLE1BQU07WUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUM5RixJQUFJLHNCQUFVLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztZQUFFLElBQUksQ0FBQyxrQkFBa0Is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LFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUMsVUFBVSxFQUFDLE1BQU0sRUFBQyxpQkFBaUIsRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxFQUFDLE1BQU0sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxFQUFFLEVBQUMsS0FBSyxFQUFDLFVBQVUsRUFBQyxNQUFNLEVBQUMsaUJBQWlCLEVBQUMsV0FBVyxFQUFDLEVBQUUsRUFBQyxPQUFPLEVBQUMsSUFBSSxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsRUFBQyxNQUFNLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLEtBQUssRUFBQyxRQUFRLEVBQUMsTUFBTSxFQUFDLGlCQUFpQixFQUFDLFdBQVcsRUFBQyxFQUFFLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxRQUFRLEVBQUMsRUFBRSxFQUFDLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsT0FBTyxFQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUMsZUFBZSxFQUFDLE1BQU0sRUFBQyxpQkFBaUIsRUFBQyxXQUFXLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsUUFBUSxFQUFDLEVBQUUsRUFBQyxFQUFDLFFBQVEsRUFBQyxFQUFFLEVBQUMsQ0FBQyxFQUFDLFVBQVUsRUFBQyxDQUFDLGlCQUFpQixDQUFDLEVBQUMsWUFBWSxFQUFDLEVBQUUsRUFBQyxDQUFDO1lBTWxxQyxrQkFBQztTQWRELEFBY0MsQ0FkZ0MsS0FBSyxHQWNyQztRQWRZLHFCQUFXLGNBY3ZCLENBQUE7UUFDRCxHQUFHLENBQUMsMEJBQTBCLEVBQUMsV0FBVyxDQUFDLENBQUM7SUFDaEQsQ0FBQyxFQWpCZ0IsU0FBUyxHQUFULFlBQVMsS0FBVCxZQUFTLFFBaUJ6QjtBQUFELENBQUMsRUFqQmEsRUFBRSxHQUFGLFVBQUUsS0FBRixVQUFFLFFBaUJmO0FBQ0QsV0FBYyxFQUFFO0lBQUMsSUFBQSxNQUFNLENBYXRCO0lBYmdCLFdBQUEsTUFBTTtRQUNuQjtZQUErQiw2QkFBSztZQUtoQzt1QkFBZSxpQkFBTztZQUFBLENBQUM7WUFDdkIsa0NBQWMsR0FBZDtnQkFDSSxpQkFBTSxjQUFjLFdBQUUsQ0FBQztnQkFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3JDLENBQUM7WUFDTCxnQkFBQztRQUFELENBVkEsQUFVQyxDQVY4QixLQUFLLEdBVW5DO1FBVlksZ0JBQVMsWUFVckIsQ0FBQTtRQUNELEdBQUcsQ0FBQyxxQkFBcUIsRUFBQyxTQUFTLENBQUMsQ0FBQztJQUN6QyxDQUFDLEVBYmdCLE1BQU0sR0FBTixTQUFNLEtBQU4sU0FBTSxRQWF0QjtBQUFELENBQUMsRUFiYSxFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFhZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9NdEdhbWVDb25maWdcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3NjcmlwdC9HYW1lVUlcIlxyXG5pbXBvcnQgTWFpblVJIGZyb20gXCIuL3NjcmlwdC9NYWluVUlcIjtcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTY0MDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTExMzY7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZ1bGxcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cInBvcnRhbC9Mb2FkaW5nLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZVVJLnRzXCIsR2FtZVVJKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgUmVzTWFuYWdlciBmcm9tIFwiLi4vUmVzb3VyY2UvUmVzTWFuYWdlclwiO1xyXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCBDb21tb24gZnJvbSBcIi4uL0NvbW1vbi9Db21tb25cIjtcclxuaW1wb3J0IE5hbWVDb25maWcgZnJvbSBcIi4uL0NvbmZpZ3VyZS9OYW1lQ29uZmlnXCI7XHJcbmltcG9ydCB7IFNwYWNlRGF0YSB9IGZyb20gXCIuLi9EYXRhL1RhYmxlQklNU3BhY2VcIjtcclxuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tIFwiLi4vRXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi4vRXZlbnRzL0V2ZW50c1wiO1xyXG5pbXBvcnQgTGFiZWxVcGRhdFBvcyBmcm9tIFwiLi4vQ29tcG9uZW50L0xhYmVsVXBkYXRlXCI7XHJcblxyXG4vKipcclxuICogQklN566h55CG57G777yM55So5LqO5Yqg6L2944CB5Yid5aeL5YyW5qih5Z6L77yb5qih5Z6L5omT5YyF5qC85byP5Li6Lmxo5paH5Lu277yM5Lul5bGC5Li65Y2V5L2NXHJcbiAqIOminOiJsuiusOW9leS5n+WcqOatpFxyXG4gKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJJTU1hbmFnZXJ7XHJcblxyXG4gICAgcHVibGljIExldmVsczpBcnJheTxzdHJpbmc+O1xyXG4gICAgcHVibGljIEN1cnJlbkxldmVsOnN0cmluZztcclxuICAgIHB1YmxpYyBQcmVMZXZlbDpzdHJpbmc7XHJcblxyXG4gICAgcHJpdmF0ZSBtX3NwYWNlRGljOkxheWEuV2Vha09iamVjdDtcclxuICAgIHByaXZhdGUgbV9sZXZlbFNwc2NlRGljOkxheWEuV2Vha09iamVjdDtcclxuICAgIHByaXZhdGUgbV9sZXZlbFJlczpMYXlhLldlYWtPYmplY3Q7XHJcbiAgICBwcml2YXRlIG1fbGV2ZWxBbGxNZXNoU3ByaXRlM0RzOkxheWEuV2Vha09iamVjdDtcclxuXHJcbiAgICBwcml2YXRlIG1fM2RsYWJlbERpc2FwcGVhckRpc3RhbmNlOm51bWJlciA9IDgwO1xyXG4gICAgcHJpdmF0ZSBtXzNkbGFiZWxUb3RhbERpc2FwcGVhckRpc3RhbmNlOm51bWJlciA9IDE4MDtcclxuICAgIHByaXZhdGUgbV8yZGxhYmVsRGlzYXBwZWFyRGlzdGFuY2U6bnVtYmVyID0gMTAwO1xyXG4gICAgcHJpdmF0ZSBtXzJkbGFiZWxUb3RhbERpc2FwcGVhckRpc3RhbmNlOm51bWJlciA9IDE4MDtcclxuICBcclxuICAgIHByaXZhdGUgbV9kZWZhdWx0Rmxvb3JDb2xvciA9IFwiI0RDMTQzQ1wiO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5tX3NwYWNlRGljID0gbmV3IExheWEuV2Vha09iamVjdCgpO1xyXG4gICAgICAgIHRoaXMubV9sZXZlbFNwc2NlRGljID0gbmV3IExheWEuV2Vha09iamVjdCgpO1xyXG4gICAgICAgIHRoaXMubV9sZXZlbFJlcyA9IG5ldyBMYXlhLldlYWtPYmplY3QoKTtcclxuICAgICAgICB0aGlzLkxldmVscyA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcbiAgICAgICAgdGhpcy5tX2xldmVsQWxsTWVzaFNwcml0ZTNEcyA9IG5ldyBMYXlhLldlYWtPYmplY3QoKTtcclxuXHJcbiAgICAgICAgdGhpcy5BZGRFdmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIEFkZEV2ZW50cygpe1xyXG4gICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZSgpLkFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLk9uQ2FtZXJhRGlzdGFuY2VDaGFuZ2VkLnRvU3RyaW5nKCksdGhpcyx0aGlzLlNob3dIaWRlVGFnc0J5RGlzdGFuY2UpO1xyXG4gICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZSgpLkFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLk9uRGVwVHJlZUl0ZW1DbGlja2VkLnRvU3RyaW5nKCksdGhpcyx0aGlzLlNldE9uZUxldmVsRmxvb3JDb2xvcik7XHJcblxyXG4gICAgICAgIGxldCBpc1Jlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAvL1RFTVA6XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LktFWV9ET1dOLHRoaXMsKGU6TGF5YS5FdmVudCk9PntcclxuICAgICAgICAgICAgaWYoZS5rZXlDb2RlID09IExheWEuS2V5Ym9hcmQuU1BBQ0Upe1xyXG4gICAgICAgICAgICAgICAgaXNSZXNldCA9ICFpc1Jlc2V0O1xyXG4gICAgICAgICAgICAgICAgaWYoaXNSZXNldCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5TZXRPbmVGbG9vck9wYWNpdHkoMSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlNldE9uZUZsb29yT3BhY2l0eSgwLjIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKiogXHJcbiAgICAgKiDliqDovb3miYDmnInmpbzlsYLotYTmupDvvIzlubbliJ3lp4vljJbmpbzmnb/vvIzpu5jorqTpmpDol4/vvIxHYW1lTWFuYWdlcuS4reW8gOWQr+m7mOiupOWxglxyXG4gICAgICog5Zue6LCD5Ye95pWw6Iul6ZyA6KaB5omn6KGM5aSa5qyh77yM5YiZ6ZyA6KaB5bCGb25jZee9ruS4umZhbHNlXHJcbiAgICAgKiBAcGFyYW0gcmVzVXJsXHJcbiAgICAgKiBAcGFyYW0gb25Db21wbGV0ZVxyXG4gICAgICovXHJcbiAgICBMb2FkUmVzKHJlc1VybDpBcnJheTxhbnk+LG9uQ29tcGxldGU/OmFueSl7XHJcbiAgICAgICAgaWYocmVzVXJsPT1udWxsIHx8IHJlc1VybC5sZW5ndGggPT0gMCkgXHJcbiAgICAgICAgICAgIHJldHVybiA7XHJcblxyXG4gICAgICAgIHZhciBpbmRleDpudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICBSZXNNYW5hZ2VyLkluc3RhbmNlKCkuTG9hZFByZWZhYkFzc2V0cyhyZXNVcmwsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCh1cmwscmVzKT0+e1xyXG5cclxuICAgICAgICAgICAgLy/liJ3lp4vljJYzROWcuuaZr++8jOWIneWni+WMluS4gOasoVxyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkluaXQzRFNjZW5lKCk7XHJcblxyXG4gICAgICAgICAgICAvL+Wwhui1hOa6kOWKoOWFpeWcuuaZr1xyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLk1haW5TY2VuZS5hZGRDaGlsZChyZXMpO1xyXG5cclxuICAgICAgICAgICAgLy/ojrflvpfmiYDmnInmpbzlsYJcclxuICAgICAgICAgICAgdmFyIGxldmVsID0gQ29tbW9uLlBhcnNlTG9hZExldmVsKHVybCk7XHJcbiAgICAgICAgICAgIHRoaXMuTGV2ZWxzLnB1c2gobGV2ZWwpO1xyXG5cclxuICAgICAgICAgICAgLy/pgY3ljobmiYDmnInotYTmupBcclxuICAgICAgICAgICAgdGhpcy5UcmF2ZWxNZXNoU3ByaXRlM0QocmVzLGxldmVsKTtcclxuXHJcbiAgICAgICAgICAgIC8v6LWE5rqQ6buY6K6k6ZqQ6JePXHJcbiAgICAgICAgICAgIHJlcy5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8v6K6w5b2V5b2T5YmN5qW85bGC6LWE5rqQXHJcbiAgICAgICAgICAgIGlmKCF0aGlzLm1fbGV2ZWxSZXMuaGFzKGxldmVsKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWxSZXMuc2V0KGxldmVsLHJlcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGluZGV4Kys7XHJcblxyXG4gICAgICAgICAgICBpZihpbmRleCA9PSByZXNVcmwubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIC8v6K6+572u6buY6K6k55qE5qW85bGC5Li656ys5LiA5LiqXHJcbiAgICAgICAgICAgICAgICB0aGlzLkN1cnJlbkxldmVsID0gdGhpcy5MZXZlbHNbMF07XHJcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlLmFwcGx5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LG51bGwsZmFsc2UpKTsgXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yi35paw5b2T5YmN5pi+56S65qW85bGCVGFnc+eahOWGheWuue+8jOmAmui/h+agh+etvuexu+Wei0xhYmVsVHlwZeadpeaUueWPmDtcclxuICAgICAqIEBwYXJhbSB0eXBlIOagh+etvuexu+Wei1xyXG4gICAgICovXHJcbiAgICBSZWZyZXNoTGFiZWxDb250ZW50KHR5cGU6IExhYmVsVHlwZSl7XHJcbiAgICAgICAgaWYodGhpcy5DdXJyZW5MZXZlbCA9PW51bGx8fFxyXG4gICAgICAgICAgIHRoaXMubV9sZXZlbFNwc2NlRGljID09IG51bGx8fFxyXG4gICAgICAgICAgIHRoaXMubV9zcGFjZURpYyA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIGlmKHRoaXMubV9sZXZlbFNwc2NlRGljLmhhcyh0aGlzLkN1cnJlbkxldmVsKSl7XHJcbiAgICAgICAgICAgIHRoaXMubV9sZXZlbFNwc2NlRGljLmdldCh0aGlzLkN1cnJlbkxldmVsKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5tX3NwYWNlRGljLmhhcyhlbGVtZW50KSl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmbG9vcjpGbG9vckl0ZW0gPSB0aGlzLm1fc3BhY2VEaWMuZ2V0KGVsZW1lbnQpIGFzIEZsb29ySXRlbTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZmxvb3IgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoKHR5cGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIExhYmVsVHlwZS5EZXBhcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9vci5sYWJlbC50ZXh0ID0gZmxvb3IuT3JnYW5pYXp0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZXRIZXhDb2xvcihmbG9vci5PYmplY3QsIGZsb29yLm9yZ2FuaXphdGlvbkNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTGFiZWxUeXBlLkFyZWE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9vci5sYWJlbC50ZXh0ID0gZmxvb3IuYXJlYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIExhYmVsVHlwZS5Vc2FnZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yLmxhYmVsLnRleHQgPSBmbG9vci51c2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2V0SGV4Q29sb3IoZmxvb3IuT2JqZWN0LCBmbG9vci51c2FnZUNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGIg5pi+56S65oiW6ZqQ6JeP5YWo6YOo5qW85bGC77yM5pi+56S65YWo6YOo5qW85bGC5pe277yM6KaB5YWz5o6JdGFnc1xyXG4gICAgICovXHJcbiAgICBTaG93QWxsTGV2ZWxzKGI6Ym9vbGVhbil7XHJcbiAgICAgICAgaWYodGhpcy5MZXZlbHMgPT0gbnVsbHx8dGhpcy5MZXZlbHMubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5MZXZlbHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgaWYoYil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlNob3dPbmVMZXZlbEZsb29ycyhlbGVtZW50LHRydWUpXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5IaWRlT25lTGV2ZWxGbG9vcnMoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmmL7npLrpmpDol4/mpbzlsYLlj4rmpbzlsYJUYWdcclxuICAgICAqIEBwYXJhbSBsZXZlbCDmpbzlsYJcclxuICAgICAqIEBwYXJhbSBiIOaYvi/pmpBcclxuICAgICAqL1xyXG4gICAgU2hvd09uZUxldmVsRmxvb3JzKGxldmVsOnN0cmluZyxpc1Nob3dBbGw/OmJvb2xlYW4pe1xyXG4gICAgICAgIGlmKGxldmVsID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5QcmVMZXZlbCA9IHRoaXMuQ3VycmVuTGV2ZWwgPT0gbnVsbD90aGlzLkxldmVsc1swXTp0aGlzLkN1cnJlbkxldmVsO1xyXG5cclxuICAgICAgICAvL+W8gOWQr2xldmVsUm9vdFxyXG4gICAgICAgIGlmKHRoaXMubV9sZXZlbFJlcy5oYXMobGV2ZWwpKXtcclxuICAgICAgICAgICAgdmFyIHJlczpMYXlhLlNwcml0ZTNEID0gdGhpcy5tX2xldmVsUmVzLmdldChsZXZlbCk7XHJcbiAgICAgICAgICAgIHJlcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5tX2xldmVsU3BzY2VEaWMuaGFzKGxldmVsKSl7XHJcbiAgICAgICAgICAgIHRoaXMubV9sZXZlbFNwc2NlRGljLmdldChsZXZlbCkuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubV9zcGFjZURpYy5oYXMoZWxlbWVudCkpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmxvb3JJdGVtOkZsb29ySXRlbSA9IHRoaXMubV9zcGFjZURpYy5nZXQoZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZsb29ySXRlbSE9bnVsbCAmJiBmbG9vckl0ZW0ubGFiZWwhPW51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpc1Nob3dBbGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvb3JJdGVtLmxhYmVsLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9vckl0ZW0ubGFiZWwudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLkN1cnJlbkxldmVsID0gbGV2ZWw7XHJcbiAgICB9XHJcblxyXG4gICAgSGlkZU9uZUxldmVsRmxvb3JzKGxldmVsOnN0cmluZyl7XHJcbiAgICAgICAgaWYobGV2ZWwgPT0gbnVsbClcclxuICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIC8v5byA5ZCvbGV2ZWxSb290XHJcbiAgICAgICAgaWYodGhpcy5tX2xldmVsUmVzLmhhcyhsZXZlbCkpe1xyXG4gICAgICAgICAgICB2YXIgcmVzOkxheWEuU3ByaXRlM0QgPSB0aGlzLm1fbGV2ZWxSZXMuZ2V0KGxldmVsKTtcclxuICAgICAgICAgICAgcmVzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5tX2xldmVsU3BzY2VEaWMuaGFzKGxldmVsKSl7XHJcbiAgICAgICAgICAgIHRoaXMubV9sZXZlbFNwc2NlRGljLmdldChsZXZlbCkuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubV9zcGFjZURpYy5oYXMoZWxlbWVudCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmbG9vckl0ZW06Rmxvb3JJdGVtID0gdGhpcy5tX3NwYWNlRGljLmdldChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZihmbG9vckl0ZW0hPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihmbG9vckl0ZW0ubGFiZWwhPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvb3JJdGVtLmxhYmVsLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6YCa6L+HQ29kZeiOt+WPluS4gOS4qkZsb29ySXRlbVxyXG4gICAgICogQHBhcmFtIGNvZGUgXHJcbiAgICAgKi9cclxuICAgIEdldE9uZUZsb29ySXRlbShjb2RlOnN0cmluZyk6Rmxvb3JJdGVte1xyXG4gICAgICAgIGlmKGNvZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGlmKHRoaXMubV9zcGFjZURpYy5oYXMoY29kZSkpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tX3NwYWNlRGljLmdldChjb2RlKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBHZXRPbmVGbG9vclNwcml0ZTNEKGNvZGU6c3RyaW5nKTpMYXlhLk1lc2hTcHJpdGUzRHtcclxuICAgICAgICBpZihjb2RlID09IG51bGwpcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGlmKHRoaXMubV9zcGFjZURpYy5oYXMoY29kZSkpe1xyXG4gICAgICAgICAgICB2YXIgZmxvb3IgPSB0aGlzLm1fc3BhY2VEaWMuZ2V0KGNvZGUpIGFzIEZsb29ySXRlbTtcclxuICAgICAgICAgICAgcmV0dXJuIGZsb29yLk9iamVjdDtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBUcmF2ZWxNZXNoU3ByaXRlM0QocGFyZW50OkxheWEuU3ByaXRlM0QsbGV2ZWw6c3RyaW5nKXtcclxuICAgICAgICBpZihwYXJlbnQ9PSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDtpPHBhcmVudC5fY2hpbGRyZW4ubGVuZ3RoO2krKyl7XHJcblxyXG4gICAgICAgICAgICB2YXIgbWVzaFNwcml0ZTNEIDogTGF5YS5NZXNoU3ByaXRlM0QgPSBwYXJlbnQuZ2V0Q2hpbGRBdChpKSBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuXHJcbiAgICAgICAgICAgIGlmKG1lc2hTcHJpdGUzRCAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgIGlmKG1lc2hTcHJpdGUzRC5tZXNoRmlsdGVyIT1udWxsICl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKG1lc2hTcHJpdGUzRC5wYXJlbnQubmFtZSA9PSBOYW1lQ29uZmlnLmZsb29yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkluc3RhbnRpYXRlRmxvb3JJdGVtKG1lc2hTcHJpdGUzRCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLm1fbGV2ZWxBbGxNZXNoU3ByaXRlM0RzLmhhcyhsZXZlbCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWxBbGxNZXNoU3ByaXRlM0RzLnNldChsZXZlbCxuZXcgQXJyYXk8TGF5YS5NZXNoU3ByaXRlM0Q+KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWxBbGxNZXNoU3ByaXRlM0RzLmdldChsZXZlbCkucHVzaChtZXNoU3ByaXRlM0QpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5UcmF2ZWxNZXNoU3ByaXRlM0QobWVzaFNwcml0ZTNELGxldmVsKTtcclxuICAgICAgICAgICAgICAgIH0gICAgIFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOWvueixoeWMlkZsb29yXHJcbiAgICAgKiBAcGFyYW0gZmxvb3IgXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgSW5zdGFudGlhdGVGbG9vckl0ZW0oZmxvb3I6TGF5YS5NZXNoU3ByaXRlM0Qpe1xyXG4gICAgICAgIGlmKGZsb29yID09bnVsbClyZXR1cm47XHJcbiAgICAgICAgIHZhciBtZXNoTmFtZSA9IGZsb29yLm5hbWU7XHJcbiAgICAgICAgIHZhciBkYXRhOlNwYWNlRGF0YSA9IEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuRGF0YS5HZXRPbmVTcGFjZURhdGEobWVzaE5hbWUpO1xyXG5cclxuICAgICAgICAgaWYoZGF0YSE9bnVsbCl7XHJcbiAgICAgICAgICAgIHZhciBmbG9vckl0ZW0gPSB0aGlzLkNyZWF0ZUZsb29ySXRlbShmbG9vcixkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCF0aGlzLm1fc3BhY2VEaWMuaGFzKG1lc2hOYW1lKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fc3BhY2VEaWMuc2V0KG1lc2hOYW1lLGZsb29ySXRlbSk7ICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvL+iusOW9leW9k+WJjeWxguaJgOacieeahOalvOadv1xyXG4gICAgICAgICAgICBpZighdGhpcy5tX2xldmVsU3BzY2VEaWMuaGFzKGRhdGEubGV2ZWxDb2RlKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWxTcHNjZURpYy5zZXQoZGF0YS5sZXZlbENvZGUsbmV3IEFycmF5PGFueT4oKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGFycjpBcnJheTxhbnk+ID0gdGhpcy5tX2xldmVsU3BzY2VEaWMuZ2V0KGRhdGEubGV2ZWxDb2RlKTtcclxuICAgICAgICAgICAgYXJyLnB1c2gobWVzaE5hbWUpO1xyXG5cclxuICAgICAgICAgfWVsc2VcclxuICAgICAgICAge1xyXG4gICAgICAgICAgICAgY29uc29sZS5sb2coXCJEQiBub3QgY29udGFpbiB0aGlzIHswfSBmbG9vclwiLG1lc2hOYW1lKTtcclxuICAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgQ3JlYXRlRmxvb3JJdGVtKGZsb29yOkxheWEuTWVzaFNwcml0ZTNELCBkYXRhOlNwYWNlRGF0YSk6Rmxvb3JJdGVte1xyXG4gICAgICAgIGlmKGZsb29yID09IG51bGwgfHwgZGF0YSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm47ICAgICAgIFxyXG4gICAgICAgIHZhciBpdGVtID0gbmV3IEZsb29ySXRlbSgpO1xyXG4gICAgICAgIGl0ZW0uT2JqZWN0ID0gZmxvb3I7XHJcbiAgICAgICAgaXRlbS5UcmFuc2Zvcm0gPSBmbG9vci50cmFuc2Zvcm07XHJcbiAgICAgICAgaXRlbS5PcmdhbmlhenRpb24gPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkRhdGEuR2V0T25lT3JnYW5pemF0aW9uTmFtZShkYXRhLm9yZ2FuaXphdGlvbkNvZGUsXCIyXCIpO1xyXG4gICAgICAgIGl0ZW0ub3JnYW5pemF0aW9uQ29sb3IgPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkRhdGEuR2V0T25lT3JnYW5pemF0aW9uQ29sb3IoZGF0YS5vcmdhbml6YXRpb25Db2RlKTtcclxuICAgICAgICBpdGVtLnVzYWdlID0gR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5EYXRhLkdldE9uZVVzYWdlTmFtZShkYXRhLnVzYWdlVHlwZUNvZGUpXHJcbiAgICAgICAgaXRlbS51c2FnZUNvbG9yID0gR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5EYXRhLkdldE9uZVVzYWdlQ29sb3IoZGF0YS51c2FnZVR5cGVDb2RlKTtcclxuICAgICAgICBpdGVtLmFyZWEgPSBkYXRhLnVzZUFyZWE7ICBcclxuXHJcbiAgICAgICAgLy9URU1QOum7mOiupOaYvuekuueUqOmAlFxyXG4gICAgICAgIGl0ZW0ubGFiZWwgPSB0aGlzLkNyZWF0ZU9uZUZsb29yVGFnKEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQ2FtZXJhLkNhbWVyYSxmbG9vcixpdGVtLnVzYWdlKTtcclxuICAgICAgICB0aGlzLlNldEhleENvbG9yKGZsb29yLGl0ZW0udXNhZ2VDb2xvcik7XHJcblxyXG4gICAgICAgIC8v6buY6K6kVGFn6ZqQ6JePXHJcbiAgICAgICAgaXRlbS5sYWJlbC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBDcmVhdGVPbmVGbG9vclRhZyhjYW1lcmE6TGF5YS5DYW1lcmEsIGZsb29yOkxheWEuTWVzaFNwcml0ZTNEICwgY29udGVudDpzdHJpbmcpIDpMYXlhLkxhYmVse1xyXG4gICAgICAgIHZhciBsYWJlbCA6TGF5YS5MYWJlbCA9IG5ldyBMYXlhLkxhYmVsKCk7XHJcbiAgICAgICAgbGFiZWwuYWRkQ29tcG9uZW50KExhYmVsVXBkYXRQb3MpO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQobGFiZWwpO1xyXG5cclxuICAgICAgICB2YXIgY29tcG9uZW50ID0gbGFiZWwuZ2V0Q29tcG9uZW50KExhYmVsVXBkYXRQb3MpIGFzIExhYmVsVXBkYXRQb3M7XHJcbiAgICAgICAgY29tcG9uZW50LkluaXQoZmxvb3IsY2FtZXJhLGNvbnRlbnQpO1xyXG4gICAgICAgIHJldHVybiBsYWJlbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOagueaNruaRhOWDj+acuueahOWIsOWOn+eCueeahOi3neemu+aYvuekuuaIlumakOiXj0xhYmVsXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgU2hvd0hpZGVUYWdzQnlEaXN0YW5jZShkaXN0YW5jZTpudW1iZXIpe1xyXG4gICAgICAgIGxldCBzdGFydGRpc2FwcGVhcmRpcyA9IDA7XHJcbiAgICAgICAgbGV0IHRvdGFsZGlzYXBwZWFyZGlzID0gMDtcclxuXHJcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5DYW1lcmEuSXMyRCl7XHJcbiAgICAgICAgICAgIHN0YXJ0ZGlzYXBwZWFyZGlzID0gdGhpcy5tXzJkbGFiZWxEaXNhcHBlYXJEaXN0YW5jZTtcclxuICAgICAgICAgICAgdG90YWxkaXNhcHBlYXJkaXMgPSB0aGlzLm1fMmRsYWJlbFRvdGFsRGlzYXBwZWFyRGlzdGFuY2VcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgc3RhcnRkaXNhcHBlYXJkaXMgPSB0aGlzLm1fM2RsYWJlbERpc2FwcGVhckRpc3RhbmNlO1xyXG4gICAgICAgICAgICB0b3RhbGRpc2FwcGVhcmRpcyA9IHRoaXMubV8zZGxhYmVsVG90YWxEaXNhcHBlYXJEaXN0YW5jZVxyXG4gICAgICAgIH0gIFxyXG5cclxuICAgICAgICBpZihkaXN0YW5jZSA+IHN0YXJ0ZGlzYXBwZWFyZGlzKXtcclxuICAgICAgICAgICAgbGV0IGZsb29yczpBcnJheTxhbnk+ID0gdGhpcy5tX2xldmVsU3BzY2VEaWMuZ2V0KHRoaXMuQ3VycmVuTGV2ZWwpO1xyXG4gICAgICAgICAgICBsZXQgY291bnQgPSBmbG9vcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICBsZXQgaW50ZXJ2YWwgPSAodG90YWxkaXNhcHBlYXJkaXMgLSBzdGFydGRpc2FwcGVhcmRpcykgLyBjb3VudDtcclxuICAgICAgICAgICAgbGV0IHBvaW50ZXIgPSAoZGlzdGFuY2UgLSBzdGFydGRpc2FwcGVhcmRpcykgLyBpbnRlcnZhbDtcclxuXHJcbiAgICAgICAgICAgIGZsb29ycy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gZmxvb3JzLmluZGV4T2YoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmxvb3I6Rmxvb3JJdGVtID0gdGhpcy5tX3NwYWNlRGljLmdldChlbGVtZW50KTsgXHJcbiAgICAgICAgICAgICAgICBpZihmbG9vciE9bnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGluZGV4IDw9IHBvaW50ZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9vci5sYWJlbC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yLmxhYmVsLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgU2V0T25lTGV2ZWxGbG9vckNvbG9yKG9yZ3M6QXJyYXk8c3RyaW5nPixiOmJvb2xlYW4pe1xyXG4gICAgICAgIGlmKG9yZ3MubGVuZ3RoID09IDApIHJldHVybiA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGZsb29ycyA9IEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuRGF0YS5HZXRPbmVMZXZlbEZsb29yc0J5T3Jncyh0aGlzLkN1cnJlbkxldmVsLG9yZ3MpO1xyXG5cclxuICAgICAgICBpZihmbG9vcnM9PW51bGx8fGZsb29ycy5sZW5ndGggPT0gMCkgcmV0dXJuIDtcclxuICAgICAgICBmbG9vcnMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgdmFyIGZsb29yOkZsb29ySXRlbSA9IHRoaXMubV9zcGFjZURpYy5nZXQoZWxlbWVudCkgYXMgRmxvb3JJdGVtO1xyXG4gICAgICAgICAgICBpZihmbG9vciA9PSBudWxsKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBpZihiKXtcclxuICAgICAgICAgICAgICAgIHN3aXRjaChHYW1lTWFuYWdlci5JbnN0YW5jZSgpLk1haW5VSS5DdXJyZW50TGFiZWxUeXBlKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIExhYmVsVHlwZS5EZXBhcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2V0SGV4Q29sb3IoZmxvb3IuT2JqZWN0LCBmbG9vci5vcmdhbml6YXRpb25Db2xvcilcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIExhYmVsVHlwZS5Vc2FnZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TZXRIZXhDb2xvcihmbG9vci5PYmplY3QsIGZsb29yLnVzYWdlQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuU2V0SGV4Q29sb3IoZmxvb3IuT2JqZWN0LHRoaXMubV9kZWZhdWx0Rmxvb3JDb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgU2V0T25lRmxvb3JPcGFjaXR5KHZhbHVlOm51bWJlcixsZXZlbD86c3RyaW5nKXtcclxuICAgICAgICBsZXZlbCA9IGxldmVsID09IG51bGw/dGhpcy5DdXJyZW5MZXZlbDpsZXZlbDtcclxuXHJcbiAgICAgICAgaWYoIXRoaXMubV9sZXZlbEFsbE1lc2hTcHJpdGUzRHMuaGFzKGxldmVsKSlyZXR1cm4gO1xyXG5cclxuICAgICAgICBsZXQgbWVzaGVzID0gdGhpcy5tX2xldmVsQWxsTWVzaFNwcml0ZTNEcy5nZXQobGV2ZWwpO1xyXG5cclxuICAgICAgICBtZXNoZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgQ29tbW9uLlNldE9wYWNpdHkoZWxlbWVudCx2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKuaaguaXtuWFiOWwhuiuvue9ruminOiJsueahOaWueazleaUvuWIsEJJTeWGhSoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICog6K6w5b2V6K6+572u6aKc6Imy5ZCO55qE5p2Q6LSo55CD77ybXHJcbiAgICAqL1xyXG4gICAgcHJpdmF0ZSBNYXRlcmlhbHNEaWM6TGF5YS5XZWFrT2JqZWN0ID0gbmV3IExheWEuV2Vha09iamVjdCgpO1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuvue9ruWvueixoeminOiJslxyXG4gICAgICogQHBhcmFtIHRhcmdldCBcclxuICAgICAqIEBwYXJhbSBjb2xvciBMYXlh5YaF6YOo55qEQ29sb3JcclxuICAgICAqL1xyXG4gICAgU2V0TGF5YUNvbG9yKHRhcmdldDpMYXlhLk1lc2hTcHJpdGUzRCxjb2xvcjpMYXlhLkNvbG9yKXtcclxuICAgICAgICBpZih0YXJnZXQgPT0gbnVsbHx8Y29sb3IgPT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgbWF0cyA9IHRhcmdldC5tZXNoUmVuZGVyZXIubWF0ZXJpYWxzO1xyXG5cclxuICAgICAgICBpZihtYXRzID09IG51bGwpIHJldHVybiA7XHJcblxyXG4gICAgICAgIG1hdHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5TZXRDb2xvcihlbGVtZW50LG5ldyBMYXlhLlZlY3RvcjQoY29sb3Iucixjb2xvci5nLGNvbG9yLmIsY29sb3IuYSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIOiuvue9ruWvueixoeeahOminOiJslxyXG4gICAgICogQHBhcmFtIHRhcmdldCDlr7nosaFcclxuICAgICAqIEBwYXJhbSBoZXhDb2xvciDljYHlha3ov5vliLbpopzoibJcclxuICAgICAqL1xyXG4gICAgU2V0SGV4Q29sb3IodGFyZ2V0OkxheWEuTWVzaFNwcml0ZTNELGhleENvbG9yOnN0cmluZyl7XHJcbiAgICAgICAgaWYodGFyZ2V0ID09IG51bGx8fGhleENvbG9yID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgdmFyIG1hdHMgPSB0YXJnZXQubWVzaFJlbmRlcmVyLm1hdGVyaWFscztcclxuXHJcbiAgICAgICAgaWYobWF0cyA9PSBudWxsKSByZXR1cm4gO1xyXG5cclxuICAgICAgICB2YXIgY29sb3I6TGF5YS5WZWN0b3I0ID0gdGhpcy5Db252ZXJ0Q29sb3IoaGV4Q29sb3IpO1xyXG5cclxuICAgICAgICBtYXRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuU2V0Q29sb3IoZWxlbWVudCxjb2xvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU2V0Q29sb3IobWF0OkxheWEuQmFzZU1hdGVyaWFsLGNvbG9yOkxheWEuVmVjdG9yNCl7XHJcbiAgICAgICAgaWYobWF0ID09IG51bGwgfHwgY29sb3IgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIChtYXQgYXMgTGF5YS5CbGlublBob25nTWF0ZXJpYWwpLmFsYmVkb0NvbG9yID0gY29sb3I7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoIXRoaXMuTWF0ZXJpYWxzRGljLmhhcyhtYXQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTWF0ZXJpYWxzRGljLnNldChtYXQsY29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOminOiJsui9rOaNou+8jOWwhmhleENvbG9y6L2s5o2i5oiQVmVjdG9yNFxyXG4gICAgICogQHBhcmFtIGhleENvbG9yIFxyXG4gICAgICovXHJcbiAgICBDb252ZXJ0Q29sb3IoaGV4Q29sb3I6c3RyaW5nKTpMYXlhLlZlY3RvcjR7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGNvdW50Om51bWJlciA9IGhleENvbG9yLmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIHIgPSBwYXJzZUludChoZXhDb2xvci5zdWJzdHIoMCwgMiksIDE2KTtcclxuICAgICAgICAgICAgdmFyIGcgPSBwYXJzZUludChoZXhDb2xvci5zdWJzdHIoMiwgMiksIDE2KTtcclxuICAgICAgICAgICAgdmFyIGIgPSBwYXJzZUludChoZXhDb2xvci5zdWJzdHIoNCwgMiksIDE2KTtcclxuICAgICAgICAgICAgdmFyIGEgPSAyNTU7XHJcbiAgICAgICAgICAgIGlmIChjb3VudCA9PSA4KVxyXG4gICAgICAgICAgICAgICAgYSA9IHBhcnNlSW50KGhleENvbG9yLnN1YnN0cig2LCAyKSwgMTYpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5Db252ZXJ0KHIsIGcsIGIsIGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoXCI8Y29sb3I9eWVsbG93PnswfTwvY29sb3I+XCIsIFwi5Y2B5YWt6L+b5Yi26aKc6Imy5YC85qC85byP6ZSZ6K+vLOmcgOi+k+WFpTbkvY3miJY45L2NKOW4pmFscGhhKTE26L+b5Yi25YC8LOWmgjowMDkxRUFGRizkuI3liqAj5oiWMHhcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgTGF5YS5WZWN0b3I0KDEsMSwxLDEpO1xyXG4gICAgfVxyXG5cclxuICAgIENvbnZlcnQocjpudW1iZXIsZzpudW1iZXIsIGI6bnVtYmVyLCBhOm51bWJlcikgOkxheWEuVmVjdG9yNHtcclxuICAgICAgICByZXR1cm4gbmV3IExheWEuVmVjdG9yNChyLzI1NSxnLzI1NSwgYi8yNTUsIGEvMjU1KTtcclxuICAgIH1cclxuXHJcbiAgICBSZXNldENvbG9yKGZsb29yOkxheWEuTWVzaFNwcml0ZTNEKXtcclxuICAgICAgICBpZihmbG9vciA9PSBudWxsfHxmbG9vci5tZXNoUmVuZGVyZXIgPT0gbnVsbCkgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgdmFyIG1hdHMgPSBmbG9vci5tZXNoUmVuZGVyZXIubWF0ZXJpYWxzO1xyXG4gICAgICAgIGlmKG1hdHMhPW51bGwpe1xyXG4gICAgICAgICAgICBtYXRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLk1hdGVyaWFsc0RpYy5oYXMoZWxlbWVudCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXQ6TGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSBlbGVtZW50IGFzIExheWEuQmxpbm5QaG9uZ01hdGVyaWFsO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdC5hbGJlZG9Db2xvciA9IHRoaXMuTWF0ZXJpYWxzRGljLmdldChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZW51bSBMYWJlbFR5cGV7XHJcbiAgICBEZXBhcnQsXHJcbiAgICBVc2FnZSxcclxuICAgIEFyZWEsXHJcbn1cclxuXHJcbmNsYXNzIEZsb29ySXRlbXtcclxuICAgIHB1YmxpYyBPYmplY3Q6TGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICBwdWJsaWMgVHJhbnNmb3JtOkxheWEuVHJhbnNmb3JtM0Q7XHJcbiAgICBwdWJsaWMgT3JnYW5pYXp0aW9uOnN0cmluZztcclxuICAgIHB1YmxpYyBvcmdhbml6YXRpb25Db2xvcjpzdHJpbmc7XHJcbiAgICBwdWJsaWMgdXNhZ2U6c3RyaW5nO1xyXG4gICAgcHVibGljIHVzYWdlQ29sb3I6c3RyaW5nO1xyXG4gICAgcHVibGljIGFyZWE6c3RyaW5nO1xyXG4gICAgcHVibGljIGxhYmVsOkxheWEuTGFiZWw7XHJcbn0iLCJpbXBvcnQgVmVjdG9yMyA9IExheWEuVmVjdG9yMztcclxuaW1wb3J0IEhhbmRsZXIgPSBMYXlhLkhhbmRsZXI7XHJcblxyXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSBcIi4uL0V2ZW50cy9FdmVudE1hbmFnZXJcIjtcclxuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSBcIi4uL0V2ZW50cy9FdmVudHNcIjtcclxuaW1wb3J0IENhbWVyYU1vdmVTY3JpcHQgZnJvbSBcIi4uL0NvbXBvbmVudC9DYW1lcmFNb3ZlU2NyaXB0XCI7XHJcbmltcG9ydCBSYXlTZWxlY3RvciBmcm9tIFwiLi4vQ29tcG9uZW50L1JheVNlbGVjdG9yXCI7XHJcbmltcG9ydCBMaWdodENvbnRyb2wgZnJvbSBcIi4uL0NvbXBvbmVudC9MaWdodENvbnRyb2xcIjtcclxuaW1wb3J0IE10VHdlZW4gZnJvbSBcIi4uL0NvbW1vbi9NdFR3ZWVuXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhTWFuYWdlcntcclxuXHJcbiAgICBDYW1lcmE6TGF5YS5DYW1lcmE7XHJcblxyXG4gICAgcHVibGljIElzMkQ6Qm9vbGVhbjtcclxuXHJcbiAgICBwcml2YXRlIF8zZFBvczpWZWN0b3IzO1xyXG4gICAgcHJpdmF0ZSBfM2RSb3Q6VmVjdG9yMztcclxuICAgIHByaXZhdGUgXzJkUG9zOlZlY3RvcjM7XHJcbiAgICBwcml2YXRlIF8yZFJvdDpWZWN0b3IzO1xyXG4gICAgcHJpdmF0ZSBfb3JpT3J0aFNpemU7XHJcblxyXG4gICAgLy90ZW1wXHJcbiAgICBwcml2YXRlIF9sZXZlbERpc3RhbmNlID0gMztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHRoaXMuXzNkUG9zID0gbmV3IFZlY3RvcjMoLTYsNDUsMTcpO1xyXG4gICAgICAgIHRoaXMuXzNkUm90ID0gbmV3IFZlY3RvcjMoLTc4LDAsMCk7XHJcbiAgICAgICAgdGhpcy5fMmRQb3MgPSBuZXcgVmVjdG9yMygtNSw1MCwxNyk7XHJcbiAgICAgICAgdGhpcy5fMmRSb3QgPSBuZXcgVmVjdG9yMygtOTAsMCwwKTtcclxuICAgICAgICB0aGlzLl9vcmlPcnRoU2l6ZSA9IDcwO1xyXG5cclxuICAgICAgICB0aGlzLkFkZEV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIEFkZEV2ZW50cygpe1xyXG4gICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZSgpLkFkZEV2ZW50TGlzdGVuZXIoRXZlbnRzLk9uTGV2ZWxDaGFuZ2VkLnRvU3RyaW5nKCksdGhpcyx0aGlzLk9uTGV2ZWxCdG5DbGlja2VkKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgSW5pdENhbWVyYSgpe1xyXG4gICAgICAgIHZhciBjYW1lcmE6TGF5YS5DYW1lcmEgPSBuZXcgTGF5YS5DYW1lcmEoKTsgXHJcbiAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbiA9IHRoaXMuXzNkUG9zO1xyXG4gICAgICAgIGNhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyID0gdGhpcy5fM2RSb3Q7XHJcbiAgICAgICAgY2FtZXJhLmNsZWFyQ29sb3IgPSBuZXcgTGF5YS5WZWN0b3I0KDAsMCwwLDApO1xyXG4gICAgICAgIHRoaXMuQ2FtZXJhID0gY2FtZXJhO1xyXG5cclxuICAgICAgICAvL+aRhOWDj+acuuaOp+WItlxyXG4gICAgICAgIGNhbWVyYS5hZGRDb21wb25lbnQoQ2FtZXJhTW92ZVNjcmlwdCk7XHJcbiAgICAgICAgbGV0IGNhbWN0cmwgPSBjYW1lcmEuZ2V0Q29tcG9uZW50KENhbWVyYU1vdmVTY3JpcHQpIGFzIENhbWVyYU1vdmVTY3JpcHQ7XHJcbiAgICAgICAgY2FtY3RybC5tX3NjZW5lM2QgPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLk1haW5TY2VuZTtcclxuXHJcbiAgICAgICAgLy/lsITnur/mo4DmtYtcclxuICAgICAgICBjYW1lcmEuYWRkQ29tcG9uZW50KFJheVNlbGVjdG9yKTtcclxuICAgICAgICB2YXIgcmF5c2VsZWN0b3IgPSBjYW1lcmEuZ2V0Q29tcG9uZW50KFJheVNlbGVjdG9yKSBhcyBSYXlTZWxlY3RvcjtcclxuICAgICAgICByYXlzZWxlY3Rvci5TY2VuZTNEID0gR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5NYWluU2NlbmU7XHJcblxyXG4gICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuTWFpblNjZW5lLmFkZENoaWxkKGNhbWVyYSk7XHJcblxyXG4gICAgICAgIHRoaXMuSW5pdExpZ2h0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdExpZ2h0KCl7XHJcbiAgICAgICAgdmFyIGRpcmVjdGlvbkxpZ2h0OiBMYXlhLkRpcmVjdGlvbkxpZ2h0ID0gbmV3IExheWEuRGlyZWN0aW9uTGlnaHQoKTtcclxuICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLk1haW5TY2VuZS5hZGRDaGlsZChkaXJlY3Rpb25MaWdodCk7XHJcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQuY29sb3IgPSBuZXcgTGF5YS5WZWN0b3IzKDAuMiwgMC4yLCAwLjIpO1xyXG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LnRyYW5zZm9ybS53b3JsZE1hdHJpeC5zZXRGb3J3YXJkKG5ldyBMYXlhLlZlY3RvcjMoMSwgLTEsIDApKTtcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC50cmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLkNhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb247XHJcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQudHJhbnNmb3JtLnJvdGF0aW9uID0gdGhpcy5DYW1lcmEudHJhbnNmb3JtLnJvdGF0aW9uO1xyXG5cclxuICAgICAgICBkaXJlY3Rpb25MaWdodC5hZGRDb21wb25lbnQoTGlnaHRDb250cm9sKTtcclxuICAgICAgICB2YXIgbGlnaHRjb250cmwgPSBkaXJlY3Rpb25MaWdodC5nZXRDb21wb25lbnQoTGlnaHRDb250cm9sKSBhcyBMaWdodENvbnRyb2w7XHJcbiAgICAgICAgbGlnaHRjb250cmwuQ2FtZXJhID0gdGhpcy5DYW1lcmE7XHJcbiAgICB9XHJcblxyXG4gICAgUmVzZXRDYW1lcmEoaXMyRDpCb29sZWFuKXtcclxuICAgICAgICB0aGlzLklzMkQgPSBpczJEO1xyXG4gICAgICAgIHZhciBjb21wb25lbnQgPSB0aGlzLkNhbWVyYS5nZXRDb21wb25lbnQoQ2FtZXJhTW92ZVNjcmlwdCkgYXMgQ2FtZXJhTW92ZVNjcmlwdDtcclxuICAgICAgICBpZihpczJEKXtcclxuICAgICAgICAgICAgTXRUd2Vlbi5Sb3RhdGUodGhpcy5DYW1lcmEsdGhpcy5fMmRSb3QsMTAwKTtcclxuICAgICAgICAgICAgTXRUd2Vlbi5Nb3ZlKHRoaXMuQ2FtZXJhLHRoaXMuXzJkUG9zLDUwMCxudWxsLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xyXG4gICAgICAgICAgICAgICAgdGhpcy5DYW1lcmEub3J0aG9ncmFwaGljID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuQ2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSA9IDYwO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LklzMkQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIE10VHdlZW4uUm90YXRlKHRoaXMuQ2FtZXJhLHRoaXMuXzNkUm90LDEwMCk7XHJcbiAgICAgICAgICAgIE10VHdlZW4uTW92ZSh0aGlzLkNhbWVyYSx0aGlzLl8zZFBvcyw1MDAsbnVsbCxMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsKCk9PntcclxuICAgICAgICAgICAgICAgIHRoaXMuQ2FtZXJhLm9ydGhvZ3JhcGhpYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LklzMkQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSkpOyAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgT25MZXZlbEJ0bkNsaWNrZWQoY3VyTGV2ZWw6c3RyaW5nLHByZUxldmVsOnN0cmluZyl7XHJcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gMDtcclxuICAgICAgICBsZXQgdG9Qb3MgPSB0aGlzLkNhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb247XHJcbiAgICAgICAgaWYoY3VyTGV2ZWwgPT0gcHJlTGV2ZWwpIGRpc3RhbmNlID0gMDtcclxuICAgICAgICBsZXQgbGV2ZWxzID0gR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5NYWluVUkuTGV2ZWxOYW1lcztcclxuICAgICAgICBkaXN0YW5jZSA9IChsZXZlbHMuaW5kZXhPZihjdXJMZXZlbCkgLSBsZXZlbHMuaW5kZXhPZihwcmVMZXZlbCkpICogdGhpcy5fbGV2ZWxEaXN0YW5jZTtcclxuICAgICAgICB0b1BvcyA9IG5ldyBMYXlhLlZlY3RvcjModG9Qb3MueCx0b1Bvcy55ICsgZGlzdGFuY2UsdG9Qb3Mueik7XHJcbiAgICAgICAgTXRUd2Vlbi5Nb3ZlKHRoaXMuQ2FtZXJhLHRvUG9zLDUwMCxudWxsLExheWEuSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xyXG5cclxuICAgICAgICB9KSlcclxuICAgIH1cclxufSIsImltcG9ydCBNdFR3ZWVuIGZyb20gXCIuL010VHdlZW5cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1vbntcclxuXHJcbiAgICBzdGF0aWMgU2V0T3BhY2l0eSh0YXJnZXQ6TGF5YS5NZXNoU3ByaXRlM0QsdmFsdWU6bnVtYmVyLGR1cmF0aW9uPzpudW1iZXIpe1xyXG4gICAgICAgIGlmKHRhcmdldCA9PSBudWxsKSByZXR1cm4gO1xyXG4gICAgICAgIGR1cmF0aW9uID0gZHVyYXRpb24gPT0gbnVsbD8xMDA6ZHVyYXRpb247XHJcbiAgICAgICAgLy9NdFR3ZWVuLkFscGhhKHRhcmdldCx2YWx1ZSxkdXJhdGlvbik7XHJcbiAgICAgICAgTXRUd2Vlbi5NdWx0aUFscGhhKHRhcmdldCx2YWx1ZSxkdXJhdGlvbik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog6YCa6L+H5qW85p2/Q29kZeiOt+W+l0xldmVsQ29kZVxyXG4gICAgICogQHBhcmFtIGNvZGUgXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBHZXRMZXZlbEJ5Rmxvb3JDb2RlKGNvZGU6c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYoY29kZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIG5hbWVzID0gY29kZS5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgaWYobmFtZXMubGVuZ3RoIDwgMyl7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gY29kZS5zdWJzdHJpbmcoMCwxNSk7XHJcbiAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiDpgJrov4fmpbzmnb9Db2Rl6I635b6XQnVpbGRpbmdDb2RlXHJcbiAgICAgKiBAcGFyYW0gY29kZSBcclxuICAgICAqL1xyXG4gICAgc3RhdGljIEdldEJ1aWxkaW5nQnlGbG9vckNvZGUoY29kZTpzdHJpbmcpOnN0cmluZ3tcclxuICAgICAgICBpZihjb2RlID09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICB2YXIgbmFtZXMgPSBjb2RlLnNwbGl0KFwiLVwiKTtcclxuICAgICAgICBpZihuYW1lcy5sZW5ndGggPCAzKXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2RlLnN1YnN0cmluZygwLDEwKTtcclxuICAgICAgICB9ICAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDpgJrov4fliqDovb3nmoTotYTmupDvvIzojrflj5blvZPliY3otYTmupDnmoTmiYDlnKjnmoTmpbzlsYJcclxuICAgICAqIEBwYXJhbSB1cmwgLmxo6LWE5rqQ55qEdXJs6Lev5b6E77yMLmxo5paH5Lu255qE5ZG95ZCN6KeE5YiZ5b+F6aG75Li65qW85bGC55qEQ29kZVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgUGFyc2VMb2FkTGV2ZWwodXJsOnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHVybCA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIHRlbXAgPSB1cmwuc3Vic3RyKHVybC5sYXN0SW5kZXhPZihcIi9cIikgKyAxKTtcclxuICAgICAgICB2YXIgbGV2ZWwgPSB0ZW1wLnN1YnN0cigwLHRlbXAuaW5kZXhPZihcIi5cIikpO1xyXG5cclxuICAgICAgICByZXR1cm4gbGV2ZWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDov5Tlm57liY3nq6/mmL7npLrnmoRMZXZlbENvZGU75L6L5aaCRjFcclxuICAgICAqIEBwYXJhbSBsZXZlbENvZGUg5qW85bGC57yW56CB77yaQkRIQ01VLUEwMi1GMDAxXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBHZXRQdXJMZXZlbChsZXZlbENvZGU6c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYobGV2ZWxDb2RlID09IG51bGwgfHwgbGV2ZWxDb2RlLm1hdGNoKFwiLVwiKSA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIGVsZXMgPSBsZXZlbENvZGUuc3BsaXQoXCItXCIpO1xyXG5cclxuICAgICAgICBpZihlbGVzLmxlbmd0aDwzKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVsZXNbMl07XHJcbiAgICB9XHJcbn0iLCIvKipcclxuICogfuWwgeijhUxheWEuVHdlZW7vvIznlKjkuo7pgILlupRTcHJpdGUzROeahOe8k+WKqOaViOaenOOAglxyXG4gKiB+TGF5YS5Ud2VlbuS5i+aJgOS7peS4jemAgueUqOS6jlNwcml0ZTNE5piv5Zug5Li65rWF5ou36LSd5Y+Y6YeP5peg5rOV5ZCM5q2l5Yiw5Y6f5a+56LGh5Lit5Y6777ybXHJcbiAqIH7op6PlhrPmlrnlvI/mmK/vvJpMYXlhLlR3ZWVu5p2l5pS55Y+Y5Y+Y6YeP5YC877yM55SodXBkYXRl5pu05paw5a+56LGh5a+55bqU55qE5Y+Y6YeP5YC877ybXHJcbiAqIH7lsIHoo4Xljp/nlJ/nmoRMYXlhLlR3ZWVu77yM5pSv5oyB5omA5pyJRWFzZeaViOaenFxyXG4gKi9cclxuXHJcbmltcG9ydCBWZWN0b3IzID0gTGF5YS5WZWN0b3IzO1xyXG5pbXBvcnQgSGFuZGxlciA9IExheWEuSGFuZGxlcjtcclxuaW1wb3J0IFNwcml0ZTNEID0gTGF5YS5TcHJpdGUzRDtcclxuaW1wb3J0IE1lc2hTcHJpdGUzRCA9IExheWEuTWVzaFNwcml0ZTNEO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXRUd2VlbntcclxuXHJcbiAgICAvKipcclxuICAgICAqIOW5s+enu++8jOaUueWPmFRhcmdldOeahOS9jee9rlxyXG4gICAgICogQHBhcmFtIHRhcmdldCDnm67moIfvvIzlv4XpobvkuLpTcHJpdGUzRFxyXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIOenu+WKqOeahOebruagh+S9jee9rixWZWN0b3IzXHJcbiAgICAgKiBAcGFyYW0gZHVyYXRpb24g56e75Yqo55qE5pe26Ze0XHJcbiAgICAgKiBAcGFyYW0gZWFzZSDnvJPliqjmlrnlvI9cclxuICAgICAqIEBwYXJhbSBjb21wbGV0ZSDlrozmiJDlm57mjolcclxuICAgICAqIEBwYXJhbSBkZWxheSDlu7bov5/nvJPliqjml7bpl7RcclxuICAgICAqIEBwYXJhbSBjb3ZlckJlZm9yZSDmmK/lkKbopobnm5bkuYvliY3nmoTnvJPliqjjgIJcclxuICAgICAqIEBwYXJhbSBhdXRvUmVjb3ZlciDmmK/lkKboh6rliqjlm57mlLbvvIzpu5jorqTkuLp0cnVl77yM57yT5Yqo57uT5p2f5LmL5ZCO6Ieq5Yqo5Zue5pS25Yiw5a+56LGh5rGg44CCXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBNb3ZlKHRhcmdldDpTcHJpdGUzRCxwb3NpdGlvbjpWZWN0b3IzLGR1cmF0aW9uOm51bWJlcixlYXNlPzpGdW5jdGlvbixjb21wbGV0ZT86SGFuZGxlcixkZWxheT86bnVtYmVyLGNvdmVyQmVmb3JlPzpib29sZWFuLGF1dG9SZWNvdmVyPzpib29sZWFuKTpMYXlhLlR3ZWVue1xyXG4gICAgICAgIGlmKHRhcmdldCA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBsZXQgcG9zID0gdGFyZ2V0LnRyYW5zZm9ybS5wb3NpdGlvbjtcclxuICAgICAgICBsZXQgdHdlZW4gPSBMYXlhLlR3ZWVuLnRvKHBvcyx7XHJcbiAgICAgICAgICAgICAgICB4OnBvc2l0aW9uLngsXHJcbiAgICAgICAgICAgICAgICB5OnBvc2l0aW9uLnksXHJcbiAgICAgICAgICAgICAgICB6OnBvc2l0aW9uLnosXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6bmV3IEhhbmRsZXIodGFyZ2V0LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24gPSBwb3M7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LGR1cmF0aW9uLGVhc2UsY29tcGxldGUsZGVsYXksY292ZXJCZWZvcmUsYXV0b1JlY292ZXIpO1xyXG4gICAgICAgcmV0dXJuIHR3ZWVuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5peL6L2s77yM5pS55Y+YVGFyZ2V055qE5peL6L2s6KeS5bqmXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IOebruagh++8jOW/hemhu+S4ulNwcml0ZTNEXHJcbiAgICAgKiBAcGFyYW0gcm90YXRpb24g56e75Yqo55qE55uu5qCH5peL6L2s6KeS5bqmLFZlY3RvcjNcclxuICAgICAqIEBwYXJhbSBkdXJhdGlvbiDnp7vliqjnmoTml7bpl7RcclxuICAgICAqIEBwYXJhbSBlYXNlIOe8k+WKqOaWueW8j1xyXG4gICAgICogQHBhcmFtIGNvbXBsZXRlIOWujOaIkOWbnuaOiVxyXG4gICAgICogQHBhcmFtIGRlbGF5IOW7tui/n+e8k+WKqOaXtumXtFxyXG4gICAgICogQHBhcmFtIGNvdmVyQmVmb3JlIOaYr+WQpuimhuebluS5i+WJjeeahOe8k+WKqOOAglxyXG4gICAgICogQHBhcmFtIGF1dG9SZWNvdmVyIOaYr+WQpuiHquWKqOWbnuaUtu+8jOm7mOiupOS4unRydWXvvIznvJPliqjnu5PmnZ/kuYvlkI7oh6rliqjlm57mlLbliLDlr7nosaHmsaDjgIJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIFJvdGF0ZSh0YXJnZXQ6U3ByaXRlM0Qscm90YXRpb246VmVjdG9yMyxkdXJhdGlvbjpudW1iZXIsZWFzZT86RnVuY3Rpb24sY29tcGxldGU/OkhhbmRsZXIsZGVsYXk/Om51bWJlcixjb3ZlckJlZm9yZT86Ym9vbGVhbixhdXRvUmVjb3Zlcj86Ym9vbGVhbik6TGF5YS5Ud2VlbntcclxuICAgICAgICBpZih0YXJnZXQgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IHJvdCA9IHRhcmdldC50cmFuc2Zvcm0ucm90YXRpb25FdWxlcjtcclxuICAgICAgICBsZXQgdHdlZW4gPSBMYXlhLlR3ZWVuLnRvKHJvdCx7XHJcbiAgICAgICAgICAgICAgICB4OnJvdGF0aW9uLngsXHJcbiAgICAgICAgICAgICAgICB5OnJvdGF0aW9uLnksXHJcbiAgICAgICAgICAgICAgICB6OnJvdGF0aW9uLnosXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6bmV3IEhhbmRsZXIodGFyZ2V0LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb25FdWxlciA9IHJvdDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sZHVyYXRpb24sZWFzZSxjb21wbGV0ZSxkZWxheSxjb3ZlckJlZm9yZSxhdXRvUmVjb3Zlcik7XHJcbiAgICAgICByZXR1cm4gdHdlZW47XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57yp5pS+IOaUueWPmFRhcmdldOeahOe8qeaUvuWAvFxyXG4gICAgICogQHBhcmFtIHRhcmdldCDnm67moIfvvIzlv4XpobvkuLpTcHJpdGUzRFxyXG4gICAgICogQHBhcmFtIHNjYWxlIOenu+WKqOeahOebruagh+e8qeaUvixWZWN0b3IzXHJcbiAgICAgKiBAcGFyYW0gZHVyYXRpb24g56e75Yqo55qE5pe26Ze0XHJcbiAgICAgKiBAcGFyYW0gZWFzZSDnvJPliqjmlrnlvI9cclxuICAgICAqIEBwYXJhbSBjb21wbGV0ZSDlrozmiJDlm57mjolcclxuICAgICAqIEBwYXJhbSBkZWxheSDlu7bov5/nvJPliqjml7bpl7RcclxuICAgICAqIEBwYXJhbSBjb3ZlckJlZm9yZSDmmK/lkKbopobnm5bkuYvliY3nmoTnvJPliqjjgIJcclxuICAgICAqIEBwYXJhbSBhdXRvUmVjb3ZlciDmmK/lkKboh6rliqjlm57mlLbvvIzpu5jorqTkuLp0cnVl77yM57yT5Yqo57uT5p2f5LmL5ZCO6Ieq5Yqo5Zue5pS25Yiw5a+56LGh5rGg44CCXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBTY2FsZSh0YXJnZXQ6U3ByaXRlM0Qsc2NhbGU6VmVjdG9yMyxkdXJhdGlvbjpudW1iZXIsZWFzZT86RnVuY3Rpb24sY29tcGxldGU/OkhhbmRsZXIsZGVsYXk/Om51bWJlcixjb3ZlckJlZm9yZT86Ym9vbGVhbixhdXRvUmVjb3Zlcj86Ym9vbGVhbik6TGF5YS5Ud2VlbntcclxuICAgICAgICBpZih0YXJnZXQgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgbGV0IF9zY2FsZSA9IHRhcmdldC50cmFuc2Zvcm0uc2NhbGU7XHJcbiAgICAgICAgbGV0IHR3ZWVuID0gTGF5YS5Ud2Vlbi50byhfc2NhbGUse1xyXG4gICAgICAgICAgICAgICAgeDpzY2FsZS54LFxyXG4gICAgICAgICAgICAgICAgeTpzY2FsZS55LFxyXG4gICAgICAgICAgICAgICAgejpzY2FsZS56LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOm5ldyBIYW5kbGVyKHRhcmdldCxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnNjYWxlID0gX3NjYWxlO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxkdXJhdGlvbixlYXNlLGNvbXBsZXRlLGRlbGF5LGNvdmVyQmVmb3JlLGF1dG9SZWNvdmVyKTtcclxuICAgICAgIHJldHVybiB0d2VlbjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIOmAj+aYjuW6piDmlLnlj5hUYXJnZXTnmoTpgI/mmI7luqbvvIzlv4XpobvlsIbmqKHlnovnmoRSZW5kZXJNb2Rl5pS55oiQVHJhbnNwYXJlbnRcclxuICAgICAqIEBwYXJhbSB0YXJnZXQgVGFyZ2V0LOW/hemhu+aciU1lc2hSZW5kZXJcclxuICAgICAqIEBwYXJhbSBhcGxoYSDpgI/mmI7luqZcclxuICAgICAqIEBwYXJhbSBkdXJhdGlvbiDnvJPliqjnmoTml7bpl7RcclxuICAgICAqIEBwYXJhbSBlYXNlIOe8k+WKqOaWueW8j1xyXG4gICAgICogQHBhcmFtIGNvbXBsZXRlIOWujOaIkOWbnuaOiVxyXG4gICAgICogQHBhcmFtIGRlbGF5IOW7tui/n+e8k+WKqOaXtumXtFxyXG4gICAgICogQHBhcmFtIGNvdmVyQmVmb3JlIOaYr+WQpuimhuebluS5i+WJjeeahOe8k+WKqOOAglxyXG4gICAgICogQHBhcmFtIGF1dG9SZWNvdmVyIOaYr+WQpuiHquWKqOWbnuaUtu+8jOm7mOiupOS4unRydWXvvIznvJPliqjnu5PmnZ/kuYvlkI7oh6rliqjlm57mlLbliLDlr7nosaHmsaDjgIJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIEFscGhhKHRhcmdldDpNZXNoU3ByaXRlM0QsYXBsaGE6bnVtYmVyLGR1cmF0aW9uOm51bWJlcixlYXNlPzpGdW5jdGlvbixjb21wbGV0ZT86SGFuZGxlcixkZWxheT86bnVtYmVyLGNvdmVyQmVmb3JlPzpib29sZWFuLGF1dG9SZWNvdmVyPzpib29sZWFuKTpMYXlhLlR3ZWVue1xyXG4gICAgICAgIGlmKHRhcmdldCA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBsZXQgcmVuZGVyOkxheWEuTWVzaFJlbmRlcmVyID0gdGFyZ2V0Lm1lc2hSZW5kZXJlcjtcclxuICAgICAgICBpZihyZW5kZXIgJiYgcmVuZGVyLm1hdGVyaWFsKXtcclxuICAgICAgICAgICAgbGV0IG1hdDpMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCA9IHJlbmRlci5tYXRlcmlhbCAgYXMgTGF5YS5CbGlublBob25nTWF0ZXJpYWw7XHJcbiAgICAgICAgICAgIG1hdC5yZW5kZXJNb2RlID0gTGF5YS5CbGlublBob25nTWF0ZXJpYWwuUkVOREVSTU9ERV9UUkFOU1BBUkVOVDtcclxuICAgICAgICAgICAgbGV0IGFsYmVkbyA9IG1hdC5hbGJlZG9Db2xvcjtcclxuICAgICAgICAgICAgaWYoYWxiZWRvKXtcclxuICAgICAgICAgICAgICAgIGxldCB0d2VlbiA9IExheWEuVHdlZW4udG8oYWxiZWRvLHsgXHJcbiAgICAgICAgICAgICAgICAgICAgdzphcGxoYSxcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6bmV3IEhhbmRsZXIodGFyZ2V0LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzaFJlbmRlcmVyLm1hdGVyaWFsLmFsYmVkb0NvbG9yID0gYWxiZWRvO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9LGR1cmF0aW9uLGVhc2UsSGFuZGxlci5jcmVhdGUodGFyZ2V0LCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYXBsaGEgPT0gMSkgbWF0LnJlbmRlck1vZGUgPSBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbC5SRU5ERVJNT0RFX09QQVFVRTtcclxuICAgICAgICAgICAgICAgICAgICBpZihjb21wbGV0ZSkgY29tcGxldGUucnVuKCk7XHJcbiAgICAgICAgICAgICAgICB9KSxkZWxheSxjb3ZlckJlZm9yZSxhdXRvUmVjb3Zlcik7ICAgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHdlZW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIE11bHRpQWxwaGEodGFyZ2V0Ok1lc2hTcHJpdGUzRCxhcGxoYTpudW1iZXIsZHVyYXRpb246bnVtYmVyLGVhc2U/OkZ1bmN0aW9uLGNvbXBsZXRlPzpIYW5kbGVyLGRlbGF5PzpudW1iZXIsY292ZXJCZWZvcmU/OmJvb2xlYW4sYXV0b1JlY292ZXI/OmJvb2xlYW4pe1xyXG4gICAgICAgIGlmKHRhcmdldCA9PSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgbGV0IHJlbmRlcjpMYXlhLk1lc2hSZW5kZXJlciA9IHRhcmdldC5tZXNoUmVuZGVyZXI7XHJcbiAgICAgICAgaWYocmVuZGVyICYmIHJlbmRlci5tYXRlcmlhbHMpe1xyXG5cclxuICAgICAgICAgICAgZm9yKGxldCBpPTA7aTxyZW5kZXIubWF0ZXJpYWxzLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgbGV0IG1hdDpMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCA9IHJlbmRlci5tYXRlcmlhbHNbaV0gIGFzIExheWEuQmxpbm5QaG9uZ01hdGVyaWFsO1xyXG4gICAgICAgICAgICAgICAgbWF0LnJlbmRlck1vZGUgPSBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbC5SRU5ERVJNT0RFX1RSQU5TUEFSRU5UO1xyXG4gICAgICAgICAgICAgICAgbGV0IGFsYmVkbyA9IG1hdC5hbGJlZG9Db2xvcjtcclxuICAgICAgICAgICAgICAgIGlmKGFsYmVkbyl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR3ZWVuID0gTGF5YS5Ud2Vlbi50byhhbGJlZG8seyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdzphcGxoYSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlOm5ldyBIYW5kbGVyKHRhcmdldCxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNoUmVuZGVyZXIubWF0ZXJpYWxzW2ldLmFsYmVkb0NvbG9yID0gYWxiZWRvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0sZHVyYXRpb24sZWFzZSxIYW5kbGVyLmNyZWF0ZSh0YXJnZXQsKCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoYXBsaGEgPT0gMSApIG1hdC5yZW5kZXJNb2RlID0gTGF5YS5CbGlublBob25nTWF0ZXJpYWwuUkVOREVSTU9ERV9PUEFRVUU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvbXBsZXRlKSBjb21wbGV0ZS5ydW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxkZWxheSxjb3ZlckJlZm9yZSxhdXRvUmVjb3Zlcik7ICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbiIsIlxyXG5pbXBvcnQgVmVjdG9yMyA9IExheWEuVmVjdG9yMztcclxuaW1wb3J0IFZlY3RvcjIgPSBMYXlhLlZlY3RvcjI7XHJcbmltcG9ydCBMYWJlbCA9IExheWEuTGFiZWw7XHJcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSBcIi4uL0V2ZW50cy9FdmVudE1hbmFnZXJcIjtcclxuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSBcIi4uL0V2ZW50cy9FdmVudHNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYU1vdmVTY3JpcHQgZXh0ZW5kcyBMYXlhLlNjcmlwdDNEIHtcclxuXHRcdFxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7fVxyXG5cclxuICAgIHByaXZhdGUgbV9jYW1lcmE6TGF5YS5DYW1lcmE7XHJcbiAgICBwdWJsaWMgIG1fc2NlbmUzZDpMYXlhLlNjZW5lM0Q7XHJcblxyXG4gICAgcHJpdmF0ZSBtX3RlbXBWZWN0b3IzOlZlY3RvcjM7XHJcbiAgICBwcml2YXRlIG1fbGFzdE1vdXNlWDpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fbGFzdE1vdXNlWTpudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2lzTW91c2VEb3duOmJvb2xlYW47XHJcbiAgICBwcml2YXRlIG1faXNSaWdodE1vdXNlRG93bjpib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBtX2lzTW91c2VXaGVlbDpib29sZWFuO1xyXG5cclxuICAgIHByaXZhdGUgbV8zZE1vdmVTcGVlZDpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fM2RSb3RhdGVTcGVlZDpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fM2RXaGVlbFNwZWVkOm51bWJlcjtcclxuICAgIHByaXZhdGUgbV8yZE1vdmVTcGVlZDpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fMmRXaGVlbFNwZWVkOm51bWJlcjtcclxuICAgIHByaXZhdGUgbV8zZE1pblpvb21EaXN0YW5jZTpudW1iZXI7XHJcbiAgICBwcml2YXRlIG1fM2RNYXhab29tRGlzdGFuY2U6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtXzNkTWluQ2FtZXJhUGl0Y2hSYWRpYW46bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtXzNkTWF4Q2FtZXJhUGl0Y2hSYWRpYW46bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtXzJkTWluT3J0aG9ncmFwaGljU2l6ZTpudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2N1cnJlbnRQaXRjaFJhZGlhbjpudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2lzTGFzdFRvdWNoRG91YmxlRmluZ2Vyczpib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBtX2lzUmlnaHRNb3VzZUJ1dHRvbkRvd246Ym9vbGVhbjtcclxuICAgIHByaXZhdGUgbV9sYXN0VG91Y2hGaW5nZXIwOlZlY3RvcjI7XHJcbiAgICBwcml2YXRlIG1fbGFzdFRvdWNoRmluZ2VyMTpWZWN0b3IyO1xyXG5cclxuICAgIHByaXZhdGUgbV9sYXN0RGlzdGFuY2U6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIG1fcHJlUmFkaWFuOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIHB1YmxpYyBPbk1vdXNlV2hlZWw6RnVuY3Rpb247XHJcbiAgICBwdWJsaWMgT25TaW5nbGVGaW5nZXJEcmFnOkZ1bmN0aW9uO1xyXG4gICAgcHVibGljIE9uRG91YmxlRmluZ2Vyc1BpbmNoOkZ1bmN0aW9uO1xyXG4gICAgcHVibGljIE9uRG91YmxlRmluZ2Vyc1R3aXN0OkZ1bmN0aW9uO1xyXG4gICBcclxuICAgIHByaXZhdGUgbV9mb3J3YXJkTGVuZ3RoOiBudW1iZXIgPSAzO1xyXG4gICAgcHJpdmF0ZSBtX2xvb2tBdFBvaW50OiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuICAgIHByaXZhdGUgbV9pc1R3b0ZpbmdlcnNUb3VjaDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBtX3R3b0ZpbmdlcnNEaXN0YW5jZTogbnVtYmVyID0gMDtcclxuXHJcbiAgICBwcml2YXRlIG1fbGFzdFRvdWNoZXM6YW55W107XHJcblxyXG4gICAgcHJvdGVjdGVkIHlhd1BpdGNoUm9sbDpMYXlhLlZlY3RvcjM7XHJcbiAgICBwcm90ZWN0ZWQgcmVzdWx0Um90YXRpb246TGF5YS5RdWF0ZXJuaW9uO1xyXG4gICAgcHJvdGVjdGVkIHRlbXBSb3RhdGlvblo6TGF5YS5RdWF0ZXJuaW9uO1xyXG4gICAgcHJvdGVjdGVkIHRlbXBSb3RhdGlvblg6TGF5YS5RdWF0ZXJuaW9uO1xyXG4gICAgcHJvdGVjdGVkIHRlbXBSb3RhdGlvblk6TGF5YS5RdWF0ZXJuaW9uO1xyXG5cclxuICAgIHByaXZhdGUgbV9yYXk6TGF5YS5SYXk7XHJcbiAgICBwcml2YXRlIG1faGl0UmVzdWx0OkxheWEuSGl0UmVzdWx0O1xyXG4gICAgcHJpdmF0ZSBtX2hpdE9iamVjdDpMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgIHByaXZhdGUgbV9oaXRQb2ludDpMYXlhLlZlY3RvcjM7XHJcbiAgICBcclxuICAgIHB1YmxpYyBJc1Nob3dMYWJsZTpib29sZWFuID0gdHJ1ZTtcclxuICAgIHByb3RlY3RlZCBtX2xhYmVsOiBMYWJlbDtcclxuXHJcbiAgICBwdWJsaWMgSXMyRDpCb29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHJvdGVjdGVkIG1fbW91c2VQb2ludDpWZWN0b3IyO1xyXG5cclxuICAgIG9uQXdha2UoKXtcclxuICAgICAgICB0aGlzLkluaXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5BZGRFdmVuZXRzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuUmVmcmVzaFBpdGNoUmFkaWFuKCk7XHJcblxyXG4gICAgICAgIHRoaXMuUmVmcmVzaExvb2tBdFBvaW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKXtcclxuICAgICAgICBpZih0aGlzLklzU2hvd0xhYmxlKVxyXG4gICAgICAgICAgICB0aGlzLlNob3dJbmZvKCk7XHJcblxyXG4gICAgICAgIHRoaXMuUmF5Q2FzdEhpdCgpO1xyXG5cclxuICAgICAgICB0aGlzLkNhbWVyYVRvWmVyb0Rpc3RhbmNlKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG9uRGVzdHJveSgpe1xyXG4gICAgICAgIHRoaXMuUmVtb3ZlRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIEluaXQoKXtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhID0gdGhpcy5vd25lciBhcyBMYXlhLkNhbWVyYTtcclxuICAgICAgICB0aGlzLm1fdGVtcFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMubV9tb3VzZVBvaW50ID0gbmV3IFZlY3RvcjIoKTtcclxuICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMCA9IG5ldyBWZWN0b3IyKCk7XHJcbiAgICAgICAgdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjEgPSBuZXcgVmVjdG9yMigpO1xyXG5cclxuICAgICAgICB0aGlzLnlhd1BpdGNoUm9sbCA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLnJlc3VsdFJvdGF0aW9uID0gbmV3IExheWEuUXVhdGVybmlvbigpO1xyXG4gICAgICAgIHRoaXMudGVtcFJvdGF0aW9uWiA9IG5ldyBMYXlhLlF1YXRlcm5pb24oKTtcclxuICAgICAgICB0aGlzLnRlbXBSb3RhdGlvblggPSBuZXcgTGF5YS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgdGhpcy50ZW1wUm90YXRpb25ZID0gbmV3IExheWEuUXVhdGVybmlvbigpO1xyXG5cclxuICAgICAgICB0aGlzLm1fcmF5ID0gbmV3IExheWEuUmF5KG5ldyBWZWN0b3IzKCksbmV3IFZlY3RvcjMoKSk7XHJcbiAgICAgICAgdGhpcy5tX2hpdFJlc3VsdCA9IG5ldyBMYXlhLkhpdFJlc3VsdCgpO1xyXG5cclxuICAgICAgICBpZih0aGlzLklzU2hvd0xhYmxlKVxyXG4gICAgICAgICAgICB0aGlzLm1fbGFiZWwgPSB0aGlzLmNyZWF0ZUxhYmVsKG5ldyBWZWN0b3IyKDEwLDEwKSlcclxuXHJcbiAgICAgICAgdGhpcy5Jbml0RGlmZlBsYXRmb3JtKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDkuI3lkIzlubPlj7DkuI3lkIzphY3nva7vvIzku45qc29u5paH5Lu25Lit6K+75Y+WXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBJbml0RGlmZlBsYXRmb3JtKCl7XHJcbiAgICAgICAgaWYoTGF5YS5Ccm93c2VyLm9uQW5kcm9pZHx8TGF5YS5Ccm93c2VyLm9uSVBob25lfHxMYXlhLkJyb3dzZXIub25Nb2JpbGUpe1xyXG4gICAgIFxyXG4gICAgICAgICAgICB0aGlzLm1fM2RNb3ZlU3BlZWQgPSAwLjAyO1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RSb3RhdGVTcGVlZCA9IDAuMDA0O1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RXaGVlbFNwZWVkID0gMjtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLm1fMmRNb3ZlU3BlZWQgPSAwLjAyO1xyXG4gICAgICAgICAgICB0aGlzLm1fMmRXaGVlbFNwZWVkID0gMjtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLm1fM2RNaW5ab29tRGlzdGFuY2UgPSAtMTA7XHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1heFpvb21EaXN0YW5jZSA9IDEwMDA7XHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1pbkNhbWVyYVBpdGNoUmFkaWFuID0gMTAgKiBNYXRoLlBJIC8gMTgwOyBcclxuICAgICAgICAgICAgdGhpcy5tXzNkTWF4Q2FtZXJhUGl0Y2hSYWRpYW4gPSA5MCAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgIHRoaXMubV8yZE1pbk9ydGhvZ3JhcGhpY1NpemUgPSAxMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihMYXlhLkJyb3dzZXIub25QQ3x8TGF5YS5Ccm93c2VyLm9uTWFjKXtcclxuICAgICAgICAgICAgdGhpcy5tXzNkTW92ZVNwZWVkID0gMC4wNDtcclxuICAgICAgICAgICAgdGhpcy5tXzNkUm90YXRlU3BlZWQgPSAwLjAwNDtcclxuICAgICAgICAgICAgdGhpcy5tXzNkV2hlZWxTcGVlZCA9IDI7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5tXzJkTW92ZVNwZWVkID0gMC4wMjtcclxuICAgICAgICAgICAgdGhpcy5tXzJkV2hlZWxTcGVlZCA9IDI7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5tXzNkTWluWm9vbURpc3RhbmNlID0gLTEwO1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RNYXhab29tRGlzdGFuY2UgPSAxMDAwO1xyXG4gICAgICAgICAgICB0aGlzLm1fM2RNaW5DYW1lcmFQaXRjaFJhZGlhbiA9IDEwICogTWF0aC5QSSAvIDE4MDsgXHJcbiAgICAgICAgICAgIHRoaXMubV8zZE1heENhbWVyYVBpdGNoUmFkaWFuID0gOTAgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgICAgICB0aGlzLm1fMmRNaW5PcnRob2dyYXBoaWNTaXplID0gMTI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBBZGRFdmVuZXRzKCl7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sIHRoaXMsIHRoaXMubW91c2VEb3duKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfVVAsIHRoaXMsIHRoaXMubW91c2VVcCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50Lk1PVVNFX1dIRUVMLCB0aGlzLCB0aGlzLm1vdXNlV2hlZWwpO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9NT1ZFLCB0aGlzLCB0aGlzLm1vdXNlTW92ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LlJJR0hUX01PVVNFX0RPV04sIHRoaXMsIHRoaXMucmlnaHRNb3VzZURvd24pO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5SSUdIVF9NT1VTRV9VUCwgdGhpcywgdGhpcy5yaWdodE1vdXNlVXApOyAgICBcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgUmVtb3ZlRXZlbnRzKCl7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9ET1dOLCB0aGlzLCB0aGlzLm1vdXNlRG93bik7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5NT1VTRV9VUCwgdGhpcywgdGhpcy5tb3VzZVVwKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9mZihMYXlhLkV2ZW50Lk1PVVNFX1dIRUVMLCB0aGlzLCB0aGlzLm1vdXNlV2hlZWwpO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuTU9VU0VfTU9WRSwgdGhpcywgdGhpcy5tb3VzZU1vdmUpO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuUklHSFRfTU9VU0VfRE9XTiwgdGhpcywgdGhpcy5yaWdodE1vdXNlRG93bik7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5SSUdIVF9NT1VTRV9VUCwgdGhpcywgdGhpcy5yaWdodE1vdXNlVXApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgbW91c2VEb3duKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uLmdldFlhd1BpdGNoUm9sbCh0aGlzLnlhd1BpdGNoUm9sbCk7XHJcbiAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVggPSBMYXlhLnN0YWdlLm1vdXNlWDtcclxuICAgICAgICB0aGlzLm1fbGFzdE1vdXNlWSA9IExheWEuc3RhZ2UubW91c2VZO1xyXG4gICAgICAgIHRoaXMubV9pc01vdXNlRG93biA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIC8vVHdvIGZpbmdlcnMgb3BlcmF0aW9uXHJcbiAgICAgICAgdmFyIHRvdWNoZXM6IEFycmF5PGFueT4gPSBlLnRvdWNoZXM7XHJcbiAgICAgICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMC54ID0gdG91Y2hlc1swXS5zdGFnZVg7XHJcbiAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIwLnkgPSB0b3VjaGVzWzBdLnN0YWdlWTtcclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjEueCA9IHRvdWNoZXNbMV0uc3RhZ2VYO1xyXG4gICAgICAgICAgICB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMS55ID0gdG91Y2hlc1sxXS5zdGFnZVk7XHJcbiAgICAgICAgICAgIHRoaXMubV9sYXN0RGlzdGFuY2UgPSB0aGlzLmdldERpc3RhbmNlKHRvdWNoZXMpO1xyXG4gICAgICAgICAgICB0aGlzLm1fcHJlUmFkaWFuID0gdGhpcy5hdGFuMkV4dCh0b3VjaGVzWzBdLnN0YWdlWSAtIHRvdWNoZXNbMV0uc3RhZ2VZLCB0b3VjaGVzWzBdLnN0YWdlWCAtIHRvdWNoZXNbMV0uc3RhZ2VYKTtcclxuICAgICAgICAgICAgdGhpcy5tX2lzVHdvRmluZ2Vyc1RvdWNoID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCBtb3VzZVVwKGU6TGF5YS5FdmVudCk6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX2lzTW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHRvdWNoZXM6IEFycmF5PGFueT4gPSBlLnRvdWNoZXM7XHJcbiAgICAgICAgaWYgKHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLm1faXNUd29GaW5nZXJzVG91Y2ggPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJpZ2h0TW91c2VEb3duKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1fbGFzdE1vdXNlWCA9IExheWEuc3RhZ2UubW91c2VYO1xyXG4gICAgICAgIHRoaXMubV9sYXN0TW91c2VZID0gTGF5YS5zdGFnZS5tb3VzZVk7XHJcbiAgICAgICAgdGhpcy5tX2lzTW91c2VEb3duID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLm1faXNSaWdodE1vdXNlQnV0dG9uRG93biA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJpZ2h0TW91c2VVcChlOiBMYXlhLkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX2lzTW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5tX2lzUmlnaHRNb3VzZUJ1dHRvbkRvd24gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgbW91c2VXaGVlbChlOkxheWEuRXZlbnQpOnZvaWQge1xyXG4gICAgICAgIGlmKGUgPT0gbnVsbCkgcmV0dXJuIDtcclxuICAgICAgICBsZXQgem9vbURlbHRhOiBudW1iZXIgPSBlLmRlbHRhO1xyXG4gICAgICAgIGlmKHRoaXMuSXMyRCl7ICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5tX2NhbWVyYS5vcnRob2dyYXBoaWNWZXJ0aWNhbFNpemUgKz0gLXpvb21EZWx0YSAqIHRoaXMubV8yZFdoZWVsU3BlZWQ7ICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHRoaXMubV9jYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplIDwgdGhpcy5tXzJkTWluT3J0aG9ncmFwaGljU2l6ZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSA9IHRoaXMubV8yZE1pbk9ydGhvZ3JhcGhpY1NpemU7XHJcbiAgICAgICAgICAgIH0gICAgICAgICAgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhWm9vbSh6b29tRGVsdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuT25Nb3VzZVdoZWVsKSBcclxuICAgICAgICAgICAgdGhpcy5Pbk1vdXNlV2hlZWwoem9vbURlbHRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgbW91c2VNb3ZlKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB2YXIgdG91Y2hlczogQXJyYXk8YW55PiA9IGUudG91Y2hlcztcclxuICAgICAgICBpZiAoIXRvdWNoZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlQ29udHJvbEJ5TW91c2UoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVDdHJsQnlUb3VjaCh0b3VjaGVzKTsgICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgIC8qKlxyXG4gICAgICogIOm8oOagh+aooeW8jyBcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIG1vdmVDb250cm9sQnlNb3VzZSgpe1xyXG4gICAgICAgIGlmICh0aGlzLm1faXNNb3VzZURvd24pIHtcclxuICAgICAgICAgICAgbGV0IGRlbHRhWDogbnVtYmVyID0gTGF5YS5zdGFnZS5tb3VzZVggLSB0aGlzLm1fbGFzdE1vdXNlWDtcclxuICAgICAgICAgICAgbGV0IGRlbHRhWTogbnVtYmVyID0gTGF5YS5zdGFnZS5tb3VzZVkgLSB0aGlzLm1fbGFzdE1vdXNlWTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm1faXNSaWdodE1vdXNlQnV0dG9uRG93bikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubV9pc0xhc3RUb3VjaERvdWJsZUZpbmdlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWx0YVggPSAwOyBkZWx0YVkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9pc0xhc3RUb3VjaERvdWJsZUZpbmdlcnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVJpZ2h0KC10aGlzLm1fM2RNb3ZlU3BlZWQgKiBkZWx0YVgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlVXAodGhpcy5tXzNkTW92ZVNwZWVkICogZGVsdGFZKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVmcmVzaExvb2tBdFBvaW50KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLklzMkQpIHJldHVybiA7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhWDogbnVtYmVyID0gTGF5YS5zdGFnZS5tb3VzZVggLSB0aGlzLm1fbGFzdE1vdXNlWDtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YVk6IG51bWJlciA9IExheWEuc3RhZ2UubW91c2VZIC0gdGhpcy5tX2xhc3RNb3VzZVk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUFyb3VuZCgtZGVsdGFZICogdGhpcy5tXzNkUm90YXRlU3BlZWQsIC1kZWx0YVggKiB0aGlzLm1fM2RSb3RhdGVTcGVlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVggPSBMYXlhLnN0YWdlLm1vdXNlWDtcclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVkgPSBMYXlhLnN0YWdlLm1vdXNlWTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDop6bmjqfmqKHlvI9cclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIG1vdmVDdHJsQnlUb3VjaCh0b3VjaGVzOkFycmF5PGFueT4pe1xyXG4gICAgICAgIGlmICh0b3VjaGVzLmxlbmd0aCA9PSAxICYmICF0aGlzLm1faXNUd29GaW5nZXJzVG91Y2gpIHtcclxuICAgICAgICAgICAgLy/ljZXmjIfop6bmjqdcclxuICAgICAgICAgICAgLy8gdGhpcy5jYW1lcmEudHJhbnNmb3JtLmxvY2FsUm90YXRpb24uZ2V0WWF3UGl0Y2hSb2xsKHRoaXMueWF3UGl0Y2hSb2xsKTtcclxuICAgICAgICAgICAgbGV0IGRlbHRhWDogbnVtYmVyID0gTGF5YS5zdGFnZS5tb3VzZVggLSB0aGlzLm1fbGFzdE1vdXNlWDtcclxuICAgICAgICAgICAgbGV0IGRlbHRhWTogbnVtYmVyID0gTGF5YS5zdGFnZS5tb3VzZVkgLSB0aGlzLm1fbGFzdE1vdXNlWTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1faXNMYXN0VG91Y2hEb3VibGVGaW5nZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAvL+WmguaenOS4iuS4gOasoeaTjeS9nOaYr+WPjOaMhyzlpoLlj4zmjIfmk43kvZzml7Ys5oqs6LW35LiA5oyH5Y+Y5Y2V5oyH5pON5L2cLOimgeWBmuS4qua4hembtizpmLLmraLmkYTlg4/mnLrot7Pot4NcclxuICAgICAgICAgICAgICAgIGRlbHRhWCA9IDA7XHJcbiAgICAgICAgICAgICAgICBkZWx0YVkgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2lzTGFzdFRvdWNoRG91YmxlRmluZ2VycyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vbGV0IHNwZWVkOiBudW1iZXIgPSAwLjA2O1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVSaWdodCgtdGhpcy5tXzNkTW92ZVNwZWVkICogZGVsdGFYKTtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlVXAodGhpcy5tXzNkTW92ZVNwZWVkICogZGVsdGFZKTtcclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVggPSBMYXlhLnN0YWdlLm1vdXNlWDtcclxuICAgICAgICAgICAgdGhpcy5tX2xhc3RNb3VzZVkgPSBMYXlhLnN0YWdlLm1vdXNlWTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuUmVmcmVzaExvb2tBdFBvaW50KCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0b3VjaGVzLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuSXMyRCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2UyOiBudW1iZXIgPSB0aGlzLmdldERpc3RhbmNlKHRvdWNoZXMpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmFjdG9yMjogbnVtYmVyID0gMC4xO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwaW5jaFZhbHVlMjogbnVtYmVyID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBwaW5jaFZhbHVlMiA9IChkaXN0YW5jZTIgLSB0aGlzLm1fbGFzdERpc3RhbmNlKSAqIGZhY3RvcjI7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2xhc3REaXN0YW5jZSA9IGRpc3RhbmNlMjtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fY2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSAtPSBwaW5jaFZhbHVlMjsgICBcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1fY2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSA8IHRoaXMubV8yZE1pbk9ydGhvZ3JhcGhpY1NpemUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9jYW1lcmEub3J0aG9ncmFwaGljVmVydGljYWxTaXplID0gdGhpcy5tXzJkTWluT3J0aG9ncmFwaGljU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcblxyXG4gICAgICAgICAgICAgICAgLy/lj4zmjIfop6bmjqdcclxuICAgICAgICAgICAgICAgIHRoaXMubV9pc1R3b0ZpbmdlcnNUb3VjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1faXNMYXN0VG91Y2hEb3VibGVGaW5nZXJzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgdHdvRmluZ2Vyc0Rpc3RhbmNlOiBudW1iZXIgPSB0aGlzLmdldFR3b0ZpbmdlcnNEaXN0YW5jZSh0b3VjaGVzKTtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YURpc3RhbmNlOiBudW1iZXIgPSBNYXRoLmFicyh0d29GaW5nZXJzRGlzdGFuY2UgLSB0aGlzLm1fdHdvRmluZ2Vyc0Rpc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubV90d29GaW5nZXJzRGlzdGFuY2UgPSB0d29GaW5nZXJzRGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vVHdvIGZpbmdlcnMgZHJhZ1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhWDA6IG51bWJlciA9IHRvdWNoZXNbMF0uc3RhZ2VYIC0gdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjAueDtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YVkwOiBudW1iZXIgPSB0b3VjaGVzWzBdLnN0YWdlWSAtIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIwLnk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGFYMTogbnVtYmVyID0gdG91Y2hlc1sxXS5zdGFnZVggLSB0aGlzLm1fbGFzdFRvdWNoRmluZ2VyMS54O1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhWTE6IG51bWJlciA9IHRvdWNoZXNbMV0uc3RhZ2VZIC0gdGhpcy5tX2xhc3RUb3VjaEZpbmdlcjEueTtcclxuICAgICAgICAgICAgICAgIGxldCBkZWx0YVkgPSAoZGVsdGFZMCArIGRlbHRhWTEpICogMC41O1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhWCA9IChkZWx0YVgwICsgZGVsdGFYMSkgKiAwLjU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUFyb3VuZCgtZGVsdGFZICogdGhpcy5tXzNkUm90YXRlU3BlZWQsIDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIwLnggPSB0b3VjaGVzWzBdLnN0YWdlWDtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIwLnkgPSB0b3VjaGVzWzBdLnN0YWdlWTtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIxLnggPSB0b3VjaGVzWzFdLnN0YWdlWDtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9sYXN0VG91Y2hGaW5nZXIxLnkgPSB0b3VjaGVzWzFdLnN0YWdlWTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1R3byBmaW5nZXJzIHBpbmNoXHJcbiAgICAgICAgICAgICAgICBsZXQgZGlzdGFuY2U6IG51bWJlciA9IHRoaXMuZ2V0RGlzdGFuY2UodG91Y2hlcyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmYWN0b3I6IG51bWJlciA9IDAuMDE7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGluY2hWYWx1ZTogbnVtYmVyID0gMDtcclxuICAgICAgICAgICAgICAgIHBpbmNoVmFsdWUgKz0gKGRpc3RhbmNlIC0gdGhpcy5tX2xhc3REaXN0YW5jZSkgKiBmYWN0b3I7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fbGFzdERpc3RhbmNlID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaW5nZXJQaW5jaFNwZWVkOiBudW1iZXIgPSAxMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhWm9vbShwaW5jaFZhbHVlICogZmluZ2VyUGluY2hTcGVlZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5PbkRvdWJsZUZpbmdlcnNQaW5jaClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLk9uRG91YmxlRmluZ2Vyc1BpbmNoKHBpbmNoVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL1R3byBmaW5nZXJzIHR3aXN0XHJcbiAgICAgICAgICAgICAgICBsZXQgbm93UmFkaWFuOiBudW1iZXIgPSB0aGlzLmF0YW4yRXh0KHRvdWNoZXNbMF0uc3RhZ2VZIC0gdG91Y2hlc1sxXS5zdGFnZVksIHRvdWNoZXNbMF0uc3RhZ2VYIC0gdG91Y2hlc1sxXS5zdGFnZVgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhUmFkaWFuOiBudW1iZXIgPSBub3dSYWRpYW4gLSB0aGlzLm1fcHJlUmFkaWFuO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlbHRhUmFkaWFuICE9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHdpc3RWYWx1ZTogbnVtYmVyID0gMTgwIC8gTWF0aC5QSSAqIGRlbHRhUmFkaWFuO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlQXJvdW5kKDAsIHR3aXN0VmFsdWUgKiAwLjEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9wcmVSYWRpYW4gPSBub3dSYWRpYW47XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuT25Eb3VibGVGaW5nZXJzVHdpc3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuT25Eb3VibGVGaW5nZXJzVHdpc3QodHdpc3RWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDlkJHliY3np7vliqjjgIJcclxuICAgICAqIEBwYXJhbSBkaXN0YW5jZSDnp7vliqjot53nprvjgIJcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIG1vdmVGb3J3YXJkKGRpc3RhbmNlOm51bWJlcik6dm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX3RlbXBWZWN0b3IzLnggPSB0aGlzLm1fdGVtcFZlY3RvcjMueSA9IDA7XHJcbiAgICAgICAgdGhpcy5tX3RlbXBWZWN0b3IzLnogPSBkaXN0YW5jZTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS50cmFuc2xhdGUodGhpcy5tX3RlbXBWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiDlkJHlj7Pnp7vliqjjgIJcclxuICAgICAqIEBwYXJhbSBkaXN0YW5jZSDnp7vliqjot53nprvjgIJcclxuICAgICAqL1xyXG4gICAgcHJvdGVjdGVkIG1vdmVSaWdodChkaXN0YW5jZTpudW1iZXIpOnZvaWQge1xyXG4gICAgICAgIHRoaXMubV90ZW1wVmVjdG9yMy55ID0gdGhpcy5tX3RlbXBWZWN0b3IzLnogPSAwO1xyXG4gICAgICAgIHRoaXMubV90ZW1wVmVjdG9yMy54ID0gZGlzdGFuY2U7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0udHJhbnNsYXRlKHRoaXMubV90ZW1wVmVjdG9yMyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICog5ZCR5LiK56e75Yqo44CCXHJcbiAgICAgKiBAcGFyYW0gZGlzdGFuY2Ug56e75Yqo6Led56a744CCXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBtb3ZlVXAoZGlzdGFuY2U6bnVtYmVyKTp2b2lkIHtcclxuICAgICAgICB0aGlzLm1fdGVtcFZlY3RvcjMueCA9IHRoaXMubV90ZW1wVmVjdG9yMy56ID0gMDtcclxuICAgICAgICB0aGlzLm1fdGVtcFZlY3RvcjMueSA9IGRpc3RhbmNlO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZSh0aGlzLm1fdGVtcFZlY3RvcjMsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog57yp5pS+XHJcbiAgICAgKiBAcGFyYW0gZGVsdGEgXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBjYW1lcmFab29tKGRlbHRhOiBudW1iZXIpOiB2b2lke1xyXG4gICAgICAgIC8vIGlmKHRoaXMubV9oaXRPYmplY3QhPW51bGwgJiYgIXRoaXMubV9pc1JpZ2h0TW91c2VEb3duKXtcclxuICAgICAgICAvLyAgICAgdGhpcy5tX2ZvcndhcmRMZW5ndGggPSB0aGlzLmdldFR3b1BvaW50c0Rpc3RhbmNlKFxyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24sdGhpcy5tX2hpdFBvaW50KTsgICAgICAgIFxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBsZXQgY3VycmVudEZvcndhcmRMZW5ndGg6IG51bWJlciA9IHRoaXMubV9mb3J3YXJkTGVuZ3RoO1xyXG4gICAgICAgIGxldCBkaXN0YW5jZTogbnVtYmVyID0gLWRlbHRhICogdGhpcy5tXzNkV2hlZWxTcGVlZDtcclxuICAgICAgICBjdXJyZW50Rm9yd2FyZExlbmd0aCArPSBkaXN0YW5jZTtcclxuICAgICAgICBpZiAoZGVsdGEgPiAwKSB7XHJcbiAgICAgICAgICAgIC8v5ouJ6L+RXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Rm9yd2FyZExlbmd0aCA8IHRoaXMubV8zZE1pblpvb21EaXN0YW5jZSkgIFxyXG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgKz0gKHRoaXMubV8zZE1pblpvb21EaXN0YW5jZSAtIGN1cnJlbnRGb3J3YXJkTGVuZ3RoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy/mi4nov5xcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRGb3J3YXJkTGVuZ3RoID4gdGhpcy5tXzNkTWF4Wm9vbURpc3RhbmNlKSAgXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSAtPSAoY3VycmVudEZvcndhcmRMZW5ndGggLSB0aGlzLm1fM2RNYXhab29tRGlzdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1vdmVGb3J3YXJkKGRpc3RhbmNlKTtcclxuICAgICAgICB0aGlzLm1fZm9yd2FyZExlbmd0aCArPSBkaXN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaXi+i9rFxyXG4gICAgICogQHBhcmFtIGFuZ2xlWCBcclxuICAgICAqIEBwYXJhbSBhbmdsZVkgXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCByb3RhdGVBcm91bmQoYW5nbGVYOiBudW1iZXIsIGFuZ2xlWTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRSYWRpYW46IG51bWJlciA9IHRoaXMubV9jdXJyZW50UGl0Y2hSYWRpYW47XHJcbiAgICAgICAgY3VycmVudFJhZGlhbiAtPSBhbmdsZVg7XHJcbiAgICAgICAgaWYgKGFuZ2xlWCA8IDApIHtcclxuICAgICAgICAgICAgLy/kuIvmi5bliqgs5b6A5LiK6L2sXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50UmFkaWFuID4gdGhpcy5tXzNkTWF4Q2FtZXJhUGl0Y2hSYWRpYW4pICBcclxuICAgICAgICAgICAgICAgIGFuZ2xlWCArPSAoY3VycmVudFJhZGlhbiAtIHRoaXMubV8zZE1heENhbWVyYVBpdGNoUmFkaWFuKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL+S4iuaLluWKqCzlvoDkuIvovaxcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRSYWRpYW4gPCB0aGlzLm1fM2RNaW5DYW1lcmFQaXRjaFJhZGlhbikgIFxyXG4gICAgICAgICAgICAgICAgYW5nbGVYICs9IChjdXJyZW50UmFkaWFuIC0gdGhpcy5tXzNkTWluQ2FtZXJhUGl0Y2hSYWRpYW4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucm90YXRlKG5ldyBWZWN0b3IzKGFuZ2xlWCwgMCwgMCkpO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgVmVjdG9yMygwLCBhbmdsZVksIDApLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIGxldCBmb3J3YXJkOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5nZXRGb3J3YXJkKGZvcndhcmQpO1xyXG4gICAgICAgIGxldCBuZXdQb3NpdGlvbjogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICAgICAgVmVjdG9yMy5zY2FsZShmb3J3YXJkLCAtMSwgZm9yd2FyZCk7XHJcbiAgICAgICAgbmV3UG9zaXRpb24gPSB0aGlzLkZvcndhcmQodGhpcy5tX2xvb2tBdFBvaW50LCBmb3J3YXJkLCB0aGlzLm1fZm9yd2FyZExlbmd0aCk7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24gPSBuZXdQb3NpdGlvbjtcclxuXHJcbiAgICAgICAgdGhpcy5SZWZyZXNoUGl0Y2hSYWRpYW4oKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJvdGVjdGVkIF91cGRhdGVSb3RhdGlvbigpOnZvaWQge1xyXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnlhd1BpdGNoUm9sbC55KSA8IDEuNTApIHtcclxuICAgICAgICAgICAgTGF5YS5RdWF0ZXJuaW9uLmNyZWF0ZUZyb21ZYXdQaXRjaFJvbGwodGhpcy55YXdQaXRjaFJvbGwueCwgdGhpcy55YXdQaXRjaFJvbGwueSwgdGhpcy55YXdQaXRjaFJvbGwueiwgdGhpcy50ZW1wUm90YXRpb25aKTtcclxuICAgICAgICAgICAgdGhpcy50ZW1wUm90YXRpb25aLmNsb25lVG8odGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLmxvY2FsUm90YXRpb24gPSB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+aKik1hdGguYXRhbjLlgLzln5/mmKDlsITliLBbMCwgMnBpXVxyXG4gICAgcHJvdGVjdGVkIGF0YW4yRXh0KHk6IG51bWJlciwgeDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgcmFkaWFuOiBudW1iZXIgPSBNYXRoLmF0YW4yKHksIHgpO1xyXG4gICAgICAgIGlmIChyYWRpYW4gPj0gMClcclxuICAgICAgICAgICAgcmV0dXJuIHJhZGlhbjtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiByYWRpYW4gKyAyICogTWF0aC5QSTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZ2V0VHdvRmluZ2Vyc0Rpc3RhbmNlKHRvdWNoZXM6IEFycmF5PGFueT4pOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBmaW5nZXJzRGlzdGFuY2U6IG51bWJlciA9IDA7XHJcbiAgICAgICAgdmFyIGR4OiBudW1iZXIgPSB0b3VjaGVzWzBdLnN0YWdlWCAtIHRvdWNoZXNbMV0uc3RhZ2VYO1xyXG4gICAgICAgIHZhciBkeTogbnVtYmVyID0gdG91Y2hlc1swXS5zdGFnZVkgLSB0b3VjaGVzWzFdLnN0YWdlWTtcclxuICAgICAgICBmaW5nZXJzRGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xyXG4gICAgICAgIHJldHVybiBmaW5nZXJzRGlzdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHJvdGF0ZUFyb3VuZFkocG9uaXQ6IFZlY3RvcjMsIHJhZGl1czogbnVtYmVyLCBhbmdsZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHBvc1g6IG51bWJlciA9IE1hdGguY29zKGFuZ2xlKSAqIHJhZGl1cztcclxuICAgICAgICBsZXQgcG9zWTogbnVtYmVyID0gTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uID0gbmV3IFZlY3RvcjMocG9zWCwgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24ueSwgcG9zWSk7XHJcbiAgICAgICAgdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ubG9va0F0KHBvbml0LCBuZXcgVmVjdG9yMygwLCAxLCAwKSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCByb3RhdGVBcm91bmRYKHBvbml0OiBWZWN0b3IzLCByYWRpdXM6IG51bWJlciwgYW5nbGU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgVmVjdG9yMyhhbmdsZSwgMCwgMCkpO1xyXG4gICAgICAgIGxldCBmb3J3YXJkOiBWZWN0b3IzID0gbmV3IFZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5nZXRGb3J3YXJkKGZvcndhcmQpO1xyXG4gICAgICAgIGxldCBwb3NpdGlvbjogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7ICAgXHJcbiAgICAgICAgbGV0IGRlbHRhUG9zaXRpb246IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpOyAgIFxyXG4gICAgICAgIFZlY3RvcjMuc2NhbGUoZm9yd2FyZCwgLXJhZGl1cywgZGVsdGFQb3NpdGlvbik7IFxyXG4gICAgICAgIFZlY3RvcjMuYWRkKHBvbml0LCBkZWx0YVBvc2l0aW9uLCBwb3NpdGlvbik7IFxyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgLy/orqHnrpfkuKTkuKrop6bmkbjngrnkuYvpl7TnmoTot53nprtcclxuICAgIHByb3RlY3RlZCBnZXREaXN0YW5jZShwb2ludHM6IEFycmF5PGFueT4pOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBkaXN0YW5jZTpudW1iZXIgPSAwO1xyXG4gICAgICAgIGlmIChwb2ludHMgJiYgcG9pbnRzLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgIHZhciBkeDogbnVtYmVyID0gcG9pbnRzWzBdLnN0YWdlWCAtIHBvaW50c1sxXS5zdGFnZVg7XHJcbiAgICAgICAgICAgIHZhciBkeTogbnVtYmVyID0gcG9pbnRzWzBdLnN0YWdlWSAtIHBvaW50c1sxXS5zdGFnZVk7XHJcbiAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRpc3RhbmNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm90ZWN0ZWQgZ2V0VHdvUG9pbnRzRGlzdGFuY2UocG9pbnRBOiBWZWN0b3IzLCBwb2ludEI6IFZlY3RvcjMpOiBudW1iZXIge1xyXG4gICAgICAgIHZhciBkaXN0YW5jZTogbnVtYmVyID0gMDtcclxuICAgICAgICB2YXIgZHg6IG51bWJlciA9IHBvaW50QS54IC0gcG9pbnRCLng7XHJcbiAgICAgICAgdmFyIGR5OiBudW1iZXIgPSBwb2ludEEueSAtIHBvaW50Qi55O1xyXG4gICAgICAgIHZhciBkejogbnVtYmVyID0gcG9pbnRBLnogLSBwb2ludEIuejtcclxuICAgICAgICBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSArIGR6ICogZHopO1xyXG4gICAgICAgIHJldHVybiBkaXN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgRm9yd2FyZChwb3NpdGlvbjogVmVjdG9yMywgZGlyZWN0aW9uOiBWZWN0b3IzLCBkaXN0YW5jZTogbnVtYmVyKTogVmVjdG9yMyB7XHJcbiAgICAgICAgbGV0IGRlbHRhUG9zaXRpb246IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpOyAgIFxyXG4gICAgICAgIGxldCBuZXdQb3NpdGlvbjogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7ICAgXHJcbiAgICAgICAgVmVjdG9yMy5zY2FsZShkaXJlY3Rpb24sIGRpc3RhbmNlLCBkZWx0YVBvc2l0aW9uKTsgXHJcbiAgICAgICAgVmVjdG9yMy5hZGQocG9zaXRpb24sIGRlbHRhUG9zaXRpb24sIG5ld1Bvc2l0aW9uKTsgXHJcbiAgICAgICAgcmV0dXJuIG5ld1Bvc2l0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBSZWZyZXNoTG9va0F0UG9pbnQoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IGZvcndhcmQ6IFZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLmdldEZvcndhcmQoZm9yd2FyZCk7XHJcbiAgICAgICAgdGhpcy5tX2xvb2tBdFBvaW50ID0gdGhpcy5Gb3J3YXJkKHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uLCBmb3J3YXJkLCB0aGlzLm1fZm9yd2FyZExlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIFJlZnJlc2hQaXRjaFJhZGlhbigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm1fY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uLmdldFlhd1BpdGNoUm9sbCh0aGlzLnlhd1BpdGNoUm9sbCk7XHJcbiAgICAgICAgdGhpcy5tX2N1cnJlbnRQaXRjaFJhZGlhbiA9IE1hdGguYWJzKHRoaXMueWF3UGl0Y2hSb2xsLnkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL3RlbXBcclxuICAgIHByb3RlY3RlZCBDYW1lcmFUb1plcm9EaXN0YW5jZSgpe1xyXG4gICAgICAgIHZhciBkaXM6bnVtYmVyID0gMDtcclxuICAgICAgICBpZih0aGlzLklzMkQpe1xyXG4gICAgICAgICAgICBkaXMgPSB0aGlzLm1fY2FtZXJhLm9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgbGV0IGNhbVBvcyA9IHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICBkaXMgPSBWZWN0b3IzLmRpc3RhbmNlKGNhbVBvcyxWZWN0b3IzLl9aRVJPKTtcclxuICAgICAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCLmkYTlg4/mnLrliLDljp/ngrnnmoTot53nprvvvJpcIiArIGRpczsgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UoKS5Qb3N0RXZlbnQoRXZlbnRzLk9uQ2FtZXJhRGlzdGFuY2VDaGFuZ2VkLnRvU3RyaW5nKCksZGlzKTsgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgXHJcbiAgICAvKipcclxuICAgICAqIOe7lee7meWumueCueWSjOi9tOaXi+i9rFxyXG4gICAgICogQHBhcmFtIHRhcmdldCDml4vovazlr7nosaFcclxuICAgICAqIEBwYXJhbSByb3RhdGVQb3Mg57uZ5a6a54K55L2N572uXHJcbiAgICAgKiBAcGFyYW0gZGlyIOe7meWumuaWueWQkVxyXG4gICAgICogQHBhcmFtIGFuZ2xlIOaXi+i9rOinkuW6pu+8jOW8p+W6plxyXG4gICAgICovXHJcbiAgICBwcm90ZWN0ZWQgUm90YXRlQXJvdW5kKHRhcmdldDpMYXlhLlNwcml0ZTNELHJvdGF0ZVBvczpMYXlhLlZlY3RvcjMsZGlyOkxheWEuVmVjdG9yMyxhbmdsZTpudW1iZXIpe1xyXG4gICAgICAgIC8v5Yib5bu65LiA5Liq5Zub5YWD5pWwXHJcbiAgICAgICAgbGV0IHF1YXRlcm5pb24gPSBuZXcgTGF5YS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgTGF5YS5RdWF0ZXJuaW9uLmNyZWF0ZUZyb21BeGlzQW5nbGUoZGlyLGFuZ2xlLHF1YXRlcm5pb24pO1xyXG5cclxuICAgICAgICAvL+iuoeeul+aXi+i9rOWQjueahFBvc2l0aW9uXHJcbiAgICAgICAgbGV0IGRlbHRhcG9zID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgICAgIExheWEuVmVjdG9yMy5zdWJ0cmFjdCh0YXJnZXQudHJhbnNmb3JtLnBvc2l0aW9uLHJvdGF0ZVBvcyxkZWx0YXBvcyk7XHJcbiAgICAgICAgbGV0IGNoYW5nZVZlY3RvcjMgOkxheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjMoKTtcclxuICAgICAgICBMYXlhLlZlY3RvcjMudHJhbnNmb3JtUXVhdChkZWx0YXBvcyxxdWF0ZXJuaW9uLGNoYW5nZVZlY3RvcjMpO1xyXG4gICAgICAgIGxldCByZXN1bHRQb3MgID0gbmV3IExheWEuVmVjdG9yMygpOyBcclxuICAgICAgICBMYXlhLlZlY3RvcjMuYWRkKGNoYW5nZVZlY3RvcjMscm90YXRlUG9zLHJlc3VsdFBvcyk7XHJcbiAgICAgICAgdGFyZ2V0LnRyYW5zZm9ybS5wb3NpdGlvbiA9IHJlc3VsdFBvcztcclxuXHJcbiAgICAgICAgLy/orqHnrpfml4vovazlkI7nmoRSb3RhdGlvblxyXG4gICAgICAgIGxldCBuZXdSb3RhdGlvbiA9IG5ldyBMYXlhLlF1YXRlcm5pb24oKTtcclxuICAgICAgICBMYXlhLlF1YXRlcm5pb24ubXVsdGlwbHkodGFyZ2V0LnRyYW5zZm9ybS5yb3RhdGlvbixxdWF0ZXJuaW9uLG5ld1JvdGF0aW9uKTtcclxuICAgICAgICB0YXJnZXQudHJhbnNmb3JtLnJvdGF0aW9uID0gbmV3Um90YXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgIC8qKlxyXG4gICAgICog5qC55o2u56Kw5pKe5a+56LGh55qE5L2N572u77yM6K6+572u5pGE5YOP5py655qE57yp5pS+5ZKM5peL6L2s6L20562J77ybXHJcbiAgICAgKiDml4vovazmk43kvZzvvIzku6XlsY/luZXkuK3lv4Pngrnlj5Hlh7rlsITnur/vvIzlpoLmnpzmnInnorDmkp7lr7nosaHvvIzliJnlsIbnorDmkp7ngrnkvZzkuLrml4vovazkuK3lv4PvvIzlpoLmnpzmsqHmnInliJnlsIbvvIgwLDAsMO+8ieiuvuS4uuaXi+i9rOS4reW/g++8m1xyXG4gICAgICog57yp5pS+5pON5L2c77yM5Lul6byg5qCH5L2N572u5Y+R5Ye65bCE57q/77yM6Iul5pyJ56Kw5pKe5a+56LGh77yM5YiZ5qC55o2u56Kw5pKe54K55LiO5pGE5YOP5py655qE6Led56a76ZmQ5Yi25pGE5YOP5py655qE5pyA5bCP6Led56a777ybXHJcbiAgICAgKi9cclxuICAgIHByb3RlY3RlZCBSYXlDYXN0SGl0KCl7XHJcbiAgICAgICAgaWYodGhpcy5tX2NhbWVyYSE9bnVsbCAmJiB0aGlzLm1fc2NlbmUzZCE9bnVsbCl7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1fbW91c2VQb2ludC54ID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgICAgIHRoaXMubV9tb3VzZVBvaW50LnkgPSBMYXlhLnN0YWdlLm1vdXNlWTsgICBcclxuXHJcbiAgICAgICAgICAgIHRoaXMubV9jYW1lcmEudmlld3BvcnRQb2ludFRvUmF5KHRoaXMubV9tb3VzZVBvaW50LHRoaXMubV9yYXkpO1xyXG4gICAgICAgICAgICB0aGlzLm1fc2NlbmUzZC5waHlzaWNzU2ltdWxhdGlvbi5yYXlDYXN0KHRoaXMubV9yYXksdGhpcy5tX2hpdFJlc3VsdCk7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLm1faGl0UmVzdWx0LnN1Y2NlZWRlZCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1faGl0T2JqZWN0ID0gdGhpcy5tX2hpdFJlc3VsdC5jb2xsaWRlci5vd25lciBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9oaXRQb2ludCA9IHRoaXMubV9oaXRSZXN1bHQucG9pbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMubV9oaXRPYmplY3QgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5Yib5bu65LiA5LiqTGFibGVcclxuICAgICAqIEBwYXJhbSBjb2xvciBcclxuICAgICAqIEBwYXJhbSBzdHJva2VDb2xvciBcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjcmVhdGVMYWJlbChwb3M6TGF5YS5WZWN0b3IyLCBjb2xvcj86IHN0cmluZywgc3Ryb2tlQ29sb3I/OiBzdHJpbmcpOiBMYWJlbCB7XHJcbiAgICAgICAgY29uc3QgX2NvbG9yID0gXCIjZmZmZmZmXCI7XHJcbiAgICAgICAgY29uc3QgX3N0cm9rZUNvbG9yID0gXCIjMDAwMDAwXCI7XHJcbiAgICAgICAgY29uc3QgX3N0cm9rZVdpZHRoOiBudW1iZXIgPSAxO1xyXG5cclxuICAgICAgICB2YXIgbGFiZWw6IExhYmVsID0gbmV3IExhYmVsKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGFiZWwuZm9udCA9IFwiTWljcm9zb2Z0IFlhSGVpXCI7XHJcbiAgICAgICAgbGFiZWwudGV4dCA9IFwiU0FNUExFIERFTU9cIjtcclxuICAgICAgICBsYWJlbC5mb250U2l6ZSA9IDIwO1xyXG4gICAgICAgIGlmKGNvbG9yKXtcclxuICAgICAgICAgICAgbGFiZWwuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgbGFiZWwuY29sb3IgPSBfY29sb3I7XHJcbiAgICAgICAgfSAgICBcclxuICAgICAgICBpZiAoc3Ryb2tlQ29sb3IpIHtcclxuICAgICAgICAgICAgbGFiZWwuc3Ryb2tlID0gX3N0cm9rZVdpZHRoO1xyXG4gICAgICAgICAgICBsYWJlbC5zdHJva2VDb2xvciA9IF9zdHJva2VDb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFiZWwucG9zKHBvcy54LHBvcy55KTtcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKGxhYmVsKTtcclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgU2hvd0luZm8oKXtcclxuICAgICAgICB2YXIgcG9zOkxheWEuVmVjdG9yMyA9IHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uO1xyXG4gICAgICAgIHZhciByb3Q6TGF5YS5WZWN0b3IzID0gdGhpcy5tX2NhbWVyYS50cmFuc2Zvcm0ucm90YXRpb25FdWxlcjtcclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCA9IFwiQ2FtZXJhIFBvcyA6IChcIiArIHBvcy54LnRvRml4ZWQoMikgKyBcIixcIiArIHBvcy55LnRvRml4ZWQoMikgKyBcIixcIiArIHBvcy56LnRvRml4ZWQoMikgKyBcIilcIiArIFwiXFxuXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCJDYW1lcmEgUm90IDogKFwiICsgcm90LngudG9GaXhlZCgyKSArIFwiLFwiICsgcm90LnkudG9GaXhlZCgyKSArIFwiLFwiICsgcm90LnoudG9GaXhlZCgyKSArIFwiKVwiKyBcIlxcblwiO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC50ZXh0ICs9IFwiQ2FtZXJhIG9ydGhvZ3JhcGhpY1ZlcnRpY2FsU2l6ZSA6IFwiICsgdGhpcy5tX2NhbWVyYS5vcnRob2dyYXBoaWNWZXJ0aWNhbFNpemUrIFwiXFxuXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCJNb3VzZSBQb3NYIDogXCIgKyBMYXlhLnN0YWdlLm1vdXNlWCsgXCJcXG5cIjtcclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCArPSBcIk1vdXNlIFBvc1kgOiBcIiArIExheWEuc3RhZ2UubW91c2VZKyBcIlxcblwiO1xyXG5cclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCArPSBcIuaYr+WQpuWcqDJEOiBcIiArIHRoaXMuSXMyRCArIFwiXFxuXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgKz0gXCJ0aGlzIGZvcndhcmRsZW5ndGg6IFwiICsgdGhpcy5tX2ZvcndhcmRMZW5ndGggKyBcIlxcblwiO1xyXG5cclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCArPSBcIjNkTW92ZVNwZWVkIDogXCIgKyAgIHRoaXMubV8zZE1vdmVTcGVlZCsgXCJcXG5cIjtcclxuICAgICAgICB0aGlzLm1fbGFiZWwudGV4dCArPSBcIjJkTW92ZVNwZWVkIDogXCIgKyAgIHRoaXMubV8yZE1vdmVTcGVlZCsgXCJcXG5cIjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYWJlbFVwZGF0UG9zIGV4dGVuZHMgTGF5YS5TY3JpcHR7XHJcblxyXG4gICAgcHJpdmF0ZSBtX3BhcmVudCA6IExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgcHJpdmF0ZSBtX2NhbWVyYSA6IExheWEuQ2FtZXJhO1xyXG4gICAgcHJpdmF0ZSBtX2xhYmVsIDogTGF5YS5MYWJlbDtcclxuXHJcbiAgICBwcml2YXRlIG1fZm9udHNpemU6bnVtYmVyO1xyXG5cclxuICAgIG9uQXdha2UoKXtcclxuICAgICAgICB0aGlzLm1fbGFiZWwgPSB0aGlzLm93bmVyIGFzIExheWEuTGFiZWw7XHJcbiAgICAgICAgaWYoTGF5YS5Ccm93c2VyLm9uQW5kcm9pZHx8TGF5YS5Ccm93c2VyLm9uSVBob25lfHxMYXlhLkJyb3dzZXIub25Nb2JpbGUpe1xyXG4gICAgICAgICAgICB0aGlzLm1fZm9udHNpemUgPSAyNTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihMYXlhLkJyb3dzZXIub25QQ3x8TGF5YS5Ccm93c2VyLm9uTWFjKXtcclxuICAgICAgICAgICAgdGhpcy5tX2ZvbnRzaXplID0gMTQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uU3RhcnQoKXtcclxuICAgICAgICB0aGlzLlNldExhYmVsUG9zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKXtcclxuICAgICAgICB0aGlzLlNldExhYmVsUG9zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIEluaXQocGFyZW50OkxheWEuTWVzaFNwcml0ZTNELCBjYW1lcmE6TGF5YS5DYW1lcmEsY29udGVudDogc3RyaW5nKXtcclxuICAgICAgICB0aGlzLm1fcGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEgPSBjYW1lcmE7XHJcblxyXG4gICAgICAgIHRoaXMuSW5pdExhYmVsKCk7XHJcbiAgICAgICAgdGhpcy5TZXRMYWJlbENvbnRlbnQoY29udGVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFNldExhYmVsQ29udGVudChjb250ZW50OnN0cmluZyl7XHJcbiAgICAgICAgaWYodGhpcy5tX2xhYmVsID09IG51bGwpIHJldHVybiA7XHJcblxyXG4gICAgICAgIHRoaXMubV9sYWJlbC50ZXh0ID0gY29udGVudDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEluaXRMYWJlbCgpe1xyXG4gICAgICAgIGlmKHRoaXMubV9sYWJlbD09bnVsbCkgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLndpZHRoID0gMzAwO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC5oZWlnaHQgPSA1MDtcclxuICAgICAgICB0aGlzLm1fbGFiZWwucGl2b3RYID0gMTUwO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC5waXZvdFkgPSAyNTtcclxuICAgICAgICB0aGlzLm1fbGFiZWwuZm9udCA9IFwiTWljcm9zb2Z0IFlhSGVpXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnRleHQgPSBcIlNBTVBMRSBERU1PXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLmZvbnRTaXplID0gdGhpcy5tX2ZvbnRzaXplO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC5jb2xvciA9IFwiI2ZmZmZmZlwiXHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnN0cm9rZSA9IDAuMDU7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLnN0cm9rZUNvbG9yID0gXCIjMDAwMDAwXCI7XHJcbiAgICAgICAgdGhpcy5tX2xhYmVsLmFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBTZXRMYWJlbFBvcygpe1xyXG4gICAgICAgIGlmKHRoaXMubV9wYXJlbnQgPT0gbnVsbCB8fCB0aGlzLm1fY2FtZXJhID09IG51bGwpIHJldHVybiA7XHJcbiAgICAgICAgbGV0IGZsb29yUG9zID0gdGhpcy5tX3BhcmVudC50cmFuc2Zvcm0ucG9zaXRpb247XHJcbiAgICAgICAgbGV0IG5ld1BvcyA9IG5ldyBMYXlhLlZlY3RvcjMoZmxvb3JQb3MueCxmbG9vclBvcy55ICsgMyxmbG9vclBvcy56KTtcclxuICAgICAgICBsZXQgc2NyZWVuUG9zID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgICAgIHRoaXMubV9jYW1lcmEud29ybGRUb1ZpZXdwb3J0UG9pbnQobmV3UG9zLHNjcmVlblBvcykgO1xyXG4gICAgICAgIHRoaXMubV9sYWJlbC5wb3Moc2NyZWVuUG9zLngsc2NyZWVuUG9zLnkgKyAxNSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMaWdodENvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdDNEe1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBDYW1lcmE6TGF5YS5DYW1lcmE7XHJcbiAgICBwcml2YXRlIExpZ2h0OkxheWEuRGlyZWN0aW9uTGlnaHQ7XHJcblxyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAgICAgIHRoaXMuTGlnaHQgPSB0aGlzLm93bmVyIGFzIExheWEuRGlyZWN0aW9uTGlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKXtcclxuICAgICAgICB0aGlzLkxpZ2h0LnRyYW5zZm9ybS5wb3NpdGlvbiA9IHRoaXMuQ2FtZXJhLnRyYW5zZm9ybS5wb3NpdGlvbjtcclxuICAgICAgICB0aGlzLkxpZ2h0LnRyYW5zZm9ybS5yb3RhdGlvbkV1bGVyID0gdGhpcy5DYW1lcmEudHJhbnNmb3JtLnJvdGF0aW9uRXVsZXI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCBWZWN0b3IzID0gTGF5YS5WZWN0b3IzO1xyXG5pbXBvcnQgTWVzaFJlbmRlcmVyID0gTGF5YS5NZXNoUmVuZGVyZXI7XHJcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSBcIi4uL0V2ZW50cy9FdmVudE1hbmFnZXJcIjtcclxuaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSBcIi4uL0V2ZW50cy9FdmVudHNcIjtcclxuaW1wb3J0IENvbW1vbiBmcm9tIFwiLi4vQ29tbW9uL0NvbW1vblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmF5U2VsZWN0b3IgZXh0ZW5kcyBMYXlhLlNjcmlwdDNEe1xyXG5cclxuICAgIHB1YmxpYyBDYW1lcmE6TGF5YS5DYW1lcmE7XHJcbiAgICBwdWJsaWMgU2NlbmUzRDpMYXlhLlNjZW5lM0Q7XHJcbiAgICBwdWJsaWMgTWFzazpudW1iZXI7XHJcblxyXG4gICAgcHVibGljIExvY2s6Ym9vbGVhbjtcclxuXHJcbiAgICBwcml2YXRlIG1faXNDbGlja2VkOmJvb2xlYW47XHJcblxyXG4gICAgcHJpdmF0ZSBtX2RlbHRhQ2xpY2tUaW1lOm51bWJlcjtcclxuXHJcbiAgICBwcml2YXRlIG1fc2VsZWN0ZWQ6TGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICBcclxuICAgIHByaXZhdGUgbV9yYXk6TGF5YS5SYXk7XHJcbiAgICBwcml2YXRlIG1faGl0UmVzdWx0OkxheWEuSGl0UmVzdWx0O1xyXG4gICAgcHJpdmF0ZSBtX21vdXNlUG9pbnQ6TGF5YS5WZWN0b3IyID0gbmV3IExheWEuVmVjdG9yMigpO1xyXG5cclxuICAgIG9uQXdha2UoKXtcclxuICAgICAgICBpZih0aGlzLm93bmVyIT1udWxsKXtcclxuICAgICAgICAgICAgdmFyIGNhbSA9IHRoaXMub3duZXIgYXMgTGF5YS5DYW1lcmE7XHJcbiAgICAgICAgICAgIGlmKGNhbSE9bnVsbCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkNhbWVyYSA9IGNhbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5tX3JheSA9IG5ldyBMYXlhLlJheShuZXcgVmVjdG9yMygpLG5ldyBWZWN0b3IzKCkpO1xyXG4gICAgICAgIHRoaXMubV9oaXRSZXN1bHQgPSBuZXcgTGF5YS5IaXRSZXN1bHQoKTtcclxuICAgIFxyXG4gICAgICAgIHRoaXMuQWRkTW91c2VFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCl7XHJcbiAgICAgICAgdGhpcy5SYXlDYXN0SGl0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgQWRkTW91c2VFdmVudCgpe1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLHRoaXMuT25SYXlDYXN0Q2xpY2tlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgUmVtb3ZlTW91c2VFdmVudCgpe1xyXG4gICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLk9uUmF5Q2FzdENsaWNrZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzYWJsZSgpe1xyXG4gICAgICAgIHRoaXMuUmVtb3ZlTW91c2VFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIFJheUNhc3RIaXQoKXtcclxuICAgICAgICB0aGlzLm1fbW91c2VQb2ludC54ID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgdGhpcy5tX21vdXNlUG9pbnQueSA9IExheWEuc3RhZ2UubW91c2VZO1xyXG5cclxuICAgICAgICBpZih0aGlzLkNhbWVyYSE9bnVsbCYmdGhpcy5TY2VuZTNEIT1udWxsKXtcclxuICAgICAgICAgICAgdGhpcy5DYW1lcmEudmlld3BvcnRQb2ludFRvUmF5KHRoaXMubV9tb3VzZVBvaW50LHRoaXMubV9yYXkpO1xyXG4gICAgICAgICAgICB0aGlzLlNjZW5lM0QucGh5c2ljc1NpbXVsYXRpb24ucmF5Q2FzdCh0aGlzLm1fcmF5LHRoaXMubV9oaXRSZXN1bHQpO1xyXG4gICAgICAgICAgICBpZih0aGlzLm1faGl0UmVzdWx0LnN1Y2NlZWRlZCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sbGlkZXIgPSB0aGlzLm1faGl0UmVzdWx0LmNvbGxpZGVyLm93bmVyIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5tX2RlbHRhQ2xpY2tUaW1lICs9TGF5YS50aW1lci5kZWx0YTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1faXNDbGlja2VkKXtcclxuICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UoKS5Qb3N0RXZlbnQoRXZlbnRzLk9uU3BhY2VDbGlja2VkLnRvU3RyaW5nKCksY29sbGlkZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQklNLlNldExheWFDb2xvcihjb2xsaWRlcixMYXlhLkNvbG9yLlJFRCk7ICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1fc2VsZWN0ZWQhPWNvbGxpZGVyKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1faXNDbGlja2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMubV9zZWxlY3RlZCE9bnVsbCl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UoKS5Qb3N0RXZlbnQoRXZlbnRzLk9uU3BhY2VFeGl0LnRvU3RyaW5nKCksdGhpcy5tX3NlbGVjdGVkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQklNLlJlc2V0Q29sb3IodGhpcy5tX3NlbGVjdGVkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9zZWxlY3RlZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fc2VsZWN0ZWQgPSBjb2xsaWRlcjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuUG9zdEV2ZW50KEV2ZW50cy5PblNwYWNlRXhpdC50b1N0cmluZygpLHRoaXMubV9zZWxlY3RlZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQklNLlNldExheWFDb2xvcihjb2xsaWRlcixMYXlhLkNvbG9yLllFTExPVyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIE9uUmF5Q2FzdENsaWNrZWQoKXtcclxuXHJcblxyXG4gICAgICAgIHRoaXMubV9pc0NsaWNrZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyB0aGlzLm1fbW91c2VQb2ludC54ID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgLy8gdGhpcy5tX21vdXNlUG9pbnQueSA9IExheWEuc3RhZ2UubW91c2VZO1xyXG5cclxuICAgICAgICAvLyB0aGlzLkNhbWVyYS52aWV3cG9ydFBvaW50VG9SYXkodGhpcy5tX21vdXNlUG9pbnQsdGhpcy5tX3JheSk7XHJcblxyXG4gICAgICAgIC8vIGlmKHRoaXMuU2NlbmUzRCE9bnVsbCl7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgLy8gICAgIHRoaXMuU2NlbmUzRC5waHlzaWNzU2ltdWxhdGlvbi5yYXlDYXN0KHRoaXMubV9yYXksdGhpcy5tX2hpdFJlc3VsdCk7XHJcblxyXG4gICAgICAgIC8vICAgICBpZih0aGlzLm1faGl0UmVzdWx0LnN1Y2NlZWRlZCl7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgdmFyIGNvbGxpZGVyTmFtZSA9IHRoaXMubV9oaXRSZXN1bHQuY29sbGlkZXIub3duZXIubmFtZTtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAvL2NvbnNvbGUuZGVidWcoXCLnorDmkp7nmoTlr7nosaHkuLrvvJpcIisgY29sbGlkZXJOYW1lKTtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICB2YXIgZmxvb3I6TGF5YS5NZXNoU3ByaXRlM0QgPSBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkJJTS5HZXRPbmVGbG9vclNwcml0ZTNEKGNvbGxpZGVyTmFtZSk7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgaWYoZmxvb3I9PW51bGwpcmV0dXJuIDtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICB2YXIgbWF0cyA9IGZsb29yLm1lc2hSZW5kZXJlci5tYXRlcmlhbHM7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgbWF0cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHZhciBtYXQ6TGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSBlbGVtZW50IGFzIExheWEuQmxpbm5QaG9uZ01hdGVyaWFsO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIG1hdC5hbGJlZG9Db2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoMSwwLDAsMSk7XHJcbiAgICAgICAgLy8gICAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIFxyXG5cclxuXHJcbiAgICBEcmF3TGluZSgpe1xyXG4gICAgICAgIC8vIHRoaXMubV9tb3VzZVBvaW50LnggPSBMYXlhLk1vdXNlTWFuYWdlci5pbnN0YW5jZS5tb3VzZVg7XHJcbiAgICAgICAgLy8gdGhpcy5tX21vdXNlUG9pbnQueSA9IExheWEuTW91c2VNYW5hZ2VyLmluc3RhbmNlLm1vdXNlWTtcclxuICAgICBcclxuICAgICAgICAvLyB0aGlzLm1fY2FtZXJhLndvcmxkVG9WaWV3cG9ydFBvaW50KHRoaXMubV9jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uLHRoaXMuY2FtUG9zKTtcclxuXHJcbiAgICAgICAgLy8gdGhpcy5zcC5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgICAgIC8vIHRoaXMuc3AuZ3JhcGhpY3MuZHJhd0xpbmUodGhpcy5jYW1Qb3MueCx0aGlzLmNhbVBvcy55LHRoaXMubV9tb3VzZVBvaW50LngsdGhpcy5tX21vdXNlUG9pbnQueSxcIiNmZjAwMDBcIiwxKTsgXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBOYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIGlwOnN0cmluZz1cIm1lZXRvby5jblwiO1xyXG4gICAgc3RhdGljIHBvcnQ6c3RyaW5nPVwiMTk4NlwiO1xyXG5cclxuICAgIHN0YXRpYyB1c2VyTmFtZSA9IFwieWFuZ3hpblwiO1xyXG4gICAgc3RhdGljIHVzZXJQYXNzcHJvdCA9IFwiODFEQzlCREI1MkQwNERDMjAwMzZEQkQ4MzEzRUQwNTVcIjtcclxuXHJcbiAgICBzdGF0aWMgc2NyZWVuV2lkdGggPSBMYXlhLkJyb3dzZXIud2lkdGg7XHJcbiAgICBzdGF0aWMgc2NyZWVuSGVnaWh0ID0gTGF5YS5Ccm93c2VyLmhlaWdodDtcclxuXHJcbiAgICBzdGF0aWMgZmxvb3JMYXllciA9IFwiYnVpbGRpbmdMZXZlbHNcIlxyXG5cclxuICAgIHN0YXRpYyBmbG9vciA9IFwiRmxvb3JcIjtcclxuXHJcbiAgICBzdGF0aWMgY2FtcHVzQ29kZSA9IFwiUFVNQ0hXXCI7XHJcbn0iLCJpbXBvcnQgSGFuZGxlciA9IGxheWEudXRpbHMuSGFuZGxlcjtcclxuaW1wb3J0IE5hbWVDb25maWcgZnJvbSBcIi4uL0NvbmZpZ3VyZS9OYW1lQ29uZmlnXCI7XHJcbmltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi4vR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IFRhYmxlT3Jnbml6YXRpb24gZnJvbSBcIi4vVGFibGVPcmduaXphdGlvblwiO1xyXG5pbXBvcnQgTXRIdHRwIGZyb20gXCIuLi9OZXR3b3JrL010SHR0cFwiO1xyXG5pbXBvcnQgVGFibGVVc2FnZVR5cGUgZnJvbSBcIi4vVGFibGVCSU1Vc2FnZVR5cGVcIjtcclxuaW1wb3J0IFRhYmxlQklNU3BhY2UsIHsgU3BhY2VEYXRhIH0gZnJvbSBcIi4vVGFibGVCSU1TcGFjZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0YU1hbmFnZXJ7XHJcblxyXG4gICAgdGFibGVPcmdhbml6YXRpb246VGFibGVPcmduaXphdGlvbjtcclxuICAgIHRhYmxlVXNhZ2VUeXBlOlRhYmxlVXNhZ2VUeXBlO1xyXG4gICAgdGFibGVCaW1TcGFjZTpUYWJsZUJJTVNwYWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG5cclxuICAgIEluaXQoKXtcclxuICAgICAgICB0aGlzLlJlZ2lzdGVyVGFibGVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgUmVnaXN0ZXJUYWJsZXMoKXtcclxuICAgICAgICB0aGlzLnRhYmxlQmltU3BhY2UgPSBuZXcgVGFibGVCSU1TcGFjZSgpO1xyXG4gICAgICAgIHRoaXMudGFibGVCaW1TcGFjZS5Jbml0KEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuSHR0cC5VUkwsKCk9PntcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGFibGVPcmdhbml6YXRpb24gPSBuZXcgVGFibGVPcmduaXphdGlvbigpO1xyXG4gICAgICAgICAgICB0aGlzLnRhYmxlT3JnYW5pemF0aW9uLkluaXQoR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5IdHRwLlVSTCwoKT0+e1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGVVc2FnZVR5cGUgPSBuZXcgVGFibGVVc2FnZVR5cGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFibGVVc2FnZVR5cGUuSW5pdChHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkh0dHAuVVJMLCgpPT57XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuTG9hZFJlcygpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTsgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIEdldE9uZU9yZ2FuaXphdGlvbk5hbWUoY29kZTpzdHJpbmcsbGV2ZWw/OnN0cmluZyk6c3RyaW5ne1xyXG4gICAgICAgIGlmKHRoaXMudGFibGVPcmdhbml6YXRpb24uSXNMb2FkZWQpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YWJsZU9yZ2FuaXphdGlvbi5HZXRPbmVPcmdhbml6YXRpb25OYW1lKGNvZGUsbGV2ZWwpO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgR2V0T25lT3JnYW5pemF0aW9uQ29sb3IoY29kZTpzdHJpbmcpOnN0cmluZ3tcclxuICAgICAgICBpZih0aGlzLnRhYmxlT3JnYW5pemF0aW9uLklzTG9hZGVkKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFibGVPcmdhbml6YXRpb24uR2V0T25lT3JnYW5pemF0aW9uQ29sb3IoY29kZSk7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0T25lVXNhZ2VOYW1lKGNvZGU6c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYodGhpcy50YWJsZVVzYWdlVHlwZS5Jc0xvYWRlZCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhYmxlVXNhZ2VUeXBlLkdldE9uZVVzYWdlTmFtZShjb2RlKTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBHZXRPbmVVc2FnZUNvbG9yKGNvZGU6c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYodGhpcy50YWJsZVVzYWdlVHlwZS5Jc0xvYWRlZCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhYmxlVXNhZ2VUeXBlLkdldE9uZVVzYWdlQ29sb3IoY29kZSk7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0T25lU3BhY2VEYXRhKGNvZGU6c3RyaW5nKTpTcGFjZURhdGF7XHJcbiAgICAgICAgaWYodGhpcy50YWJsZUJpbVNwYWNlLklzTG9hZGVkKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFibGVCaW1TcGFjZS5HZXRPbmVTcGFjZURhdGEoY29kZSk7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0T25lTGV2ZWxPcmdhbml6YXRpb25zKGxldmVsOnN0cmluZyk6QXJyYXk8c3RyaW5nPntcclxuICAgICAgICBpZih0aGlzLnRhYmxlQmltU3BhY2UuSXNMb2FkZWQpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YWJsZUJpbVNwYWNlLkdldE9uZUxldmVsT3Jnbml6YXRpb25zKGxldmVsKTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBHZXRPbmVMZXZlbEZsb29yc0J5T3JncyhsZXZlbDpzdHJpbmcsIG9yZ3M6QXJyYXk8c3RyaW5nPik6QXJyYXk8c3RyaW5nPntcclxuICAgICAgICBpZih0aGlzLnRhYmxlQmltU3BhY2UuSXNMb2FkZWQpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YWJsZUJpbVNwYWNlLkdldE9uZUxldmVsQ29kZXNCeU9yZ3MobGV2ZWwsb3Jncyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4uL0dhbWVNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZUJJTVNwYWNle1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgVGFiZWxOYW1lOnN0cmluZyA9IFwiQklNU3BhY2VcIjtcclxuXHJcbiAgICBwcml2YXRlIG1fbGV2ZWxTcGFjZUNvZGVzOkxheWEuV2Vha09iamVjdDtcclxuICAgIHByaXZhdGUgU3BhY2VEYXRhRGljOkxheWEuV2Vha09iamVjdDtcclxuXHJcbiAgICBJc0xvYWRlZDpib29sZWFuO1xyXG5cclxuICAgIEluaXQodXJsOnN0cmluZyxmaW5pc2hlZD86YW55KXtcclxuXHJcbiAgICAgICAgdGhpcy5Jbml0Q29udGFpbmVyKCk7XHJcblxyXG4gICAgICAgIHZhciBwb3N0VXJsID0gdXJsLmNvbmNhdChcIi9JVlMvQklNU3BhY2UvZHluYW1pY1F1ZXJ5XCIpO1xyXG4gICAgICAgIHZhciBwb3N0Qm9keSA9IEpTT04uc3RyaW5naWZ5KHtcImxldmVsQ29kZUxpc3RcIjpbXCJQVU1DSFctRDAzLUYwMDFcIixcIlBVTUNIVy1EMDMtRjAwMlwiLFwiUFVNQ0hXLUQwMy1GMDAzXCJdfSk7XHJcblxyXG4gICAgICAgIHRoaXMuQXN5bkxvYWREYXRhKHBvc3RVcmwscG9zdEJvZHksZmluaXNoZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIEdldE9uZVNwYWNlRGF0YShjb2RlOnN0cmluZyk6U3BhY2VEYXRhe1xyXG4gICAgICAgIGlmKGNvZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgaWYodGhpcy5TcGFjZURhdGFEaWMuaGFzKGNvZGUpKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuU3BhY2VEYXRhRGljLmdldChjb2RlKTtcclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBHZXRPcmdhbml6YXRpb25CeUNvZGUoY29kZTpzdHJpbmcpe1xyXG4gICAgICAgIGlmKGNvZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgaWYodGhpcy5TcGFjZURhdGFEaWMuaGFzKGNvZGUpKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuU3BhY2VEYXRhRGljLmdldChjb2RlKS5vcmdhbml6YXRpb25Db2RlO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIEdldE9uZUxldmVsT3Jnbml6YXRpb25zKGxldmVsOnN0cmluZyk6QXJyYXk8c3RyaW5nPntcclxuICAgICAgICBsZXQgb3JncyA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMubV9sZXZlbFNwYWNlQ29kZXMuaGFzKGxldmVsKSl7XHJcbiAgICAgICAgICAgIHRoaXMubV9sZXZlbFNwYWNlQ29kZXMuZ2V0KGxldmVsKS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IG9yZ0NvZGUgPSB0aGlzLkdldE9yZ2FuaXphdGlvbkJ5Q29kZShlbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYiA9IG9yZ3Muc29tZSgoY29kZSk6Ym9vbGVhbj0+e3JldHVybiBjb2RlID09IG9yZ0NvZGU7fSlcclxuICAgICAgICAgICAgICAgIGlmKCFiKSBvcmdzLnB1c2gob3JnQ29kZSk7ICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9yZ3M7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0T25lTGV2ZWxDb2Rlc0J5T3JncyhsZXZlbDpzdHJpbmcsb3JnczpBcnJheTxzdHJpbmc+KTpBcnJheTxzdHJpbmc+e1xyXG4gICAgICAgIGxldCBmbG9vckNvZGVzID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5tX2xldmVsU3BhY2VDb2Rlcy5oYXMobGV2ZWwpKXtcclxuICAgICAgICAgICAgdGhpcy5tX2xldmVsU3BhY2VDb2Rlcy5nZXQobGV2ZWwpLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3JnQ29kZSA9IHRoaXMuR2V0T3JnYW5pemF0aW9uQnlDb2RlKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGIgPSBvcmdzLnNvbWUoKGNvZGUpOmJvb2xlYW49PntcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29kZSA9PSBvcmdDb2RlO1xyXG4gICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKGIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGZsb29yQ29kZXMucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmbG9vckNvZGVzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgSW5pdENvbnRhaW5lcigpe1xyXG4gICAgICAgIHRoaXMubV9sZXZlbFNwYWNlQ29kZXMgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcbiAgICAgICAgdGhpcy5TcGFjZURhdGFEaWMgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBBc3luTG9hZERhdGEodXJsOnN0cmluZyxwb3N0Qm9keTphbnksZmluaXNoZWQ/OmFueSl7XHJcbiAgICAgICAgaWYodXJsID09IG51bGwgfHwgcG9zdEJvZHkgPT1udWxsKSByZXR1cm4gO1xyXG5cclxuICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkh0dHAucG9zdCh1cmwscG9zdEJvZHksdGhpcywoZTphbnkpPT57XHJcbiAgICAgICAgICAgIGlmKGUuc3RhdGUgPT0gXCJzdWNjZWVkXCIpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHJzdCA9ZS5kYXRhW1wiZGF0YVwiXVtcImxpc3RcIl07XHJcbiAgICAgICAgICAgICAgICByc3QuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlID0gdGhpcy5DcmVhdGVTcGFjZURhdGEoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxlIT1udWxsJiYgZWxlLmNvZGUhPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5TcGFjZURhdGFEaWMuaGFzKGVsZS5jb2RlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNwYWNlRGF0YURpYy5zZXQoZWxlLmNvZGUsZWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL2xldmVsQ29kZXNcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGV2ZWwgPSBlbGUubGV2ZWxDb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLm1fbGV2ZWxTcGFjZUNvZGVzLmhhcyhsZXZlbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2xldmVsU3BhY2VDb2Rlcy5zZXQobGV2ZWwsbmV3IEFycmF5PHN0cmluZz4oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubV9sZXZlbFNwYWNlQ29kZXMuZ2V0KGxldmVsKS5wdXNoKGVsZS5jb2RlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGZpbmlzaGVkLmFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLklzTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgQ3JlYXRlU3BhY2VEYXRhKGVsZW1lbnQ6YW55KTpTcGFjZURhdGEge1xyXG4gICAgICAgIHZhciBkYXRhOiBTcGFjZURhdGEgPSBuZXcgU3BhY2VEYXRhKCk7XHJcbiAgICAgICAgZGF0YS5jb2RlID0gZWxlbWVudC5jb2RlO1xyXG4gICAgICAgIGRhdGEudXNhZ2VOYW1lID0gZWxlbWVudC51c2FnZU5hbWU7XHJcbiAgICAgICAgZGF0YS5idWlsZGluZ0NvZGUgPSBlbGVtZW50LmJ1aWxkaW5nQ29kZTtcclxuICAgICAgICBkYXRhLmNhbXB1c0NvZGUgPSBlbGVtZW50LmNhbXB1c0NvZGU7XHJcbiAgICAgICAgZGF0YS5sZXZlbENvZGUgPSBlbGVtZW50LmxldmVsQ29kZTtcclxuICAgICAgICBkYXRhLm9yZ2FuaXphdGlvbkNvZGUgPSBlbGVtZW50Lm9yZ2FuaXphdGlvbkNvZGU7XHJcbiAgICAgICAgZGF0YS51c2FnZVR5cGVDb2RlID0gZWxlbWVudC51c2FnZVR5cGVDb2RlO1xyXG4gICAgICAgIGRhdGEudXNlQXJlYSA9IGVsZW1lbnQudXNlQXJlYS50b0ZpeGVkKDIpLnRvU3RyaW5nKCkgKyBcIm3CslwiO1xyXG4gICAgICAgIGRhdGEucGVyaW1ldGVyID0gZWxlbWVudC5wZXJpbWV0ZXI7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgU3BhY2VEYXRhe1xyXG4gICAgcHVibGljIGNvZGU6ICAgICAgICAgICAgIHN0cmluZztcclxuICAgIHB1YmxpYyB1c2FnZU5hbWU6ICAgICAgICBzdHJpbmc7XHJcbiAgICBwdWJsaWMgYnVpbGRpbmdDb2RlOiAgICAgc3RyaW5nO1xyXG4gICAgcHVibGljIGNhbXB1c0NvZGU6ICAgICAgIHN0cmluZztcclxuICAgIHB1YmxpYyBsZXZlbENvZGU6ICAgICAgICBzdHJpbmc7XHJcbiAgICBwdWJsaWMgb3JnYW5pemF0aW9uQ29kZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHVzYWdlVHlwZUNvZGU6ICAgIHN0cmluZztcclxuICAgIHB1YmxpYyB1c2VBcmVhOiAgICAgICAgICBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcGVyaW1ldGVyOiAgICAgICAgc3RyaW5nO1xyXG59ICBcclxuXHJcbiIsImltcG9ydCBHYW1lTWFuYWdlciBmcm9tIFwiLi4vR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IE5hbWVDb25maWcgZnJvbSBcIi4uL0NvbmZpZ3VyZS9OYW1lQ29uZmlnXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZVVzYWdlVHlwZXtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IFRhYmVsTmFtZTpzdHJpbmcgPSBcIkJJTVVzYWdlVHlwZVwiO1xyXG4gICAgcHJpdmF0ZSBVc2FnZVR5cGVEaWM6TGF5YS5XZWFrT2JqZWN0O1xyXG5cclxuICAgIElzTG9hZGVkOmJvb2xlYW47XHJcblxyXG4gICAgSW5pdCh1cmw6c3RyaW5nLGZpbmlzaGVkPzphbnkpe1xyXG5cclxuICAgICAgICB0aGlzLkluaXRDb250YWluZXIoKTtcclxuXHJcbiAgICAgICAgdmFyIHBvc3RVcmwgPSB1cmwuY29uY2F0KFwiL0lWUy9Db21tb24vcmV0cmlldmVBbGxCeVRhYmxlTmFtZVwiKTtcclxuICAgICAgICB2YXIgcG9zdEJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XCJ0YWJsZU5hbWVcIjp0aGlzLlRhYmVsTmFtZX0pO1xyXG5cclxuICAgICAgICB0aGlzLkFzeW5Mb2FkRGF0YShwb3N0VXJsLHBvc3RCb2R5LGZpbmlzaGVkKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgR2V0T25lVXNhZ2VOYW1lKGNvZGU6c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYoY29kZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBpZih0aGlzLlVzYWdlVHlwZURpYy5oYXMoY29kZSkpe1xyXG4gICAgICAgICAgICB2YXIgZGF0YTpVc2FnZVR5cGUgPSB0aGlzLlVzYWdlVHlwZURpYy5nZXQoY29kZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHZXRPbmVVc2FnZUNvbG9yKGNvZGU6c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYoY29kZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIGxldmVsOnN0cmluZyA9IHRoaXMuR2V0VXNhZ2VMZXZlbExldmVsKGNvZGUpO1xyXG5cclxuICAgICAgICBpZihsZXZlbCE9XCIyXCIpe1xyXG4gICAgICAgICAgICBjb2RlID0gY29kZS5zdWJzdHIoMCw0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuVXNhZ2VUeXBlRGljLmhhcyhjb2RlKSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhOlVzYWdlVHlwZSA9IHRoaXMuVXNhZ2VUeXBlRGljLmdldChjb2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEuY29sb3I7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBHZXRVc2FnZUxldmVsTGV2ZWwoY29kZTpzdHJpbmcpe1xyXG4gICAgICAgIGlmKGNvZGUgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgaWYodGhpcy5Vc2FnZVR5cGVEaWMuaGFzKGNvZGUpKXtcclxuICAgICAgICAgICAgdmFyIGRhdGE6VXNhZ2VUeXBlID0gdGhpcy5Vc2FnZVR5cGVEaWMuZ2V0KGNvZGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS5sZXZlbDtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgSW5pdENvbnRhaW5lcigpe1xyXG4gICAgICAgIHRoaXMuVXNhZ2VUeXBlRGljID0gbmV3IExheWEuV2Vha09iamVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgQXN5bkxvYWREYXRhKHVybDpzdHJpbmcscG9zdGJvZHk6YW55LGZpbmluc2hlZD86YW55KXtcclxuICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkh0dHAucG9zdCh1cmwscG9zdGJvZHksdGhpcywoZTphbnkpPT57XHJcbiAgICAgICAgICAgIGlmKGUuc3RhdGUgPT0gXCJzdWNjZWVkXCIpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHJzdCA9ZS5kYXRhW1wiZGF0YVwiXVtcImxpc3RcIl07XHJcbiAgICAgICAgICAgICAgICByc3QuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlID0gdGhpcy5DcmVhdGVVc2FnZVR5cGUoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxlIT1udWxsJiYgZWxlLmNvZGUhPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5Vc2FnZVR5cGVEaWMuaGFzKGVsZS5jb2RlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlVzYWdlVHlwZURpYy5zZXQoZWxlLmNvZGUsZWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGZpbmluc2hlZC5hcHBseSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuSXNMb2FkZWQgPXRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIENyZWF0ZVVzYWdlVHlwZShlbGVtZW50OmFueSk6VXNhZ2VUeXBlIHtcclxuICAgICAgICB2YXIgZGF0YTogVXNhZ2VUeXBlID0gbmV3IFVzYWdlVHlwZSgpO1xyXG4gICAgICAgIGRhdGEuY29kZSA9IGVsZW1lbnQuY29kZTtcclxuICAgICAgICBkYXRhLm5hbWUgPSBlbGVtZW50Lm5hbWU7XHJcbiAgICAgICAgZGF0YS5sZXZlbCA9IGVsZW1lbnQubGV2ZWw7XHJcbiAgICAgICAgZGF0YS5jb2xvciA9IGVsZW1lbnQuY29sb3I7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVXNhZ2VUeXBle1xyXG4gICAgcHVibGljIGNvZGU6IHN0cmluZztcclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgbGV2ZWw6c3RyaW5nO1xyXG4gICAgcHVibGljIGNvbG9yOnN0cmluZztcclxufSAgIiwiaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuLi9HYW1lTWFuYWdlclwiO1xyXG5pbXBvcnQgTmFtZUNvbmZpZyBmcm9tIFwiLi4vQ29uZmlndXJlL05hbWVDb25maWdcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlT3Jnbml6YXRpb257XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBUYWJlbE5hbWU6c3RyaW5nID0gXCJPcmdhbml6YXRpb25cIjtcclxuICAgIHByaXZhdGUgb3Jnbml6YXRpb25EaWM6TGF5YS5XZWFrT2JqZWN0O1xyXG5cclxuICAgIElzTG9hZGVkOmJvb2xlYW47XHJcblxyXG4gICAgSW5pdCh1cmw6c3RyaW5nLGZpbmlzaGVkPzphbnkpe1xyXG5cclxuICAgICAgICB0aGlzLkluaXRDb250YWluZXIoKTtcclxuXHJcbiAgICAgICAgdmFyIHBvc3RVcmwgPSB1cmwuY29uY2F0KFwiL0lWUy9Db21tb24vcmV0cmlldmVBbGxCeVRhYmxlTmFtZVwiKTtcclxuICAgICAgICB2YXIgcG9zdEJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XCJ0YWJsZU5hbWVcIjp0aGlzLlRhYmVsTmFtZX0pO1xyXG5cclxuICAgICAgICB0aGlzLkFzeW5Mb2FkRGF0YShwb3N0VXJsLHBvc3RCb2R5LGZpbmlzaGVkKTtcclxuICAgIH1cclxuXHJcbiAgICBHZXRPbmVPcmdhbml6YXRpb25OYW1lKGNvZGU6c3RyaW5nLGxldmVsPzpzdHJpbmcpOnN0cmluZ3tcclxuICAgICAgICBpZihjb2RlID09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICBjb2RlID0gbGV2ZWwgPT0gbnVsbD9jb2RlOmNvZGUuc3Vic3RyKDAsMiAqIHBhcnNlSW50KGxldmVsKSk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMub3Jnbml6YXRpb25EaWMuaGFzKGNvZGUpKXtcclxuICAgICAgICAgICAgdmFyIGRhdGE6T3Jnbml6YXRpb24gPSB0aGlzLm9yZ25pemF0aW9uRGljLmdldChjb2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEubmFtZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEdldE9uZU9yZ2FuaXphdGlvbkNvbG9yKGNvZGU6c3RyaW5nKTpzdHJpbmd7XHJcbiAgICAgICAgaWYoY29kZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIGxldmVsOnN0cmluZyA9IHRoaXMuR2V0T3JnYW5pemF0aW9uTGV2ZWwoY29kZSk7XHJcblxyXG4gICAgICAgIGlmKGxldmVsIT1cIjJcIil7XHJcbiAgICAgICAgICAgIGNvZGUgPSBjb2RlLnN1YnN0cigwLDQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5vcmduaXphdGlvbkRpYy5oYXMoY29kZSkpe1xyXG4gICAgICAgICAgICB2YXIgZGF0YTpPcmduaXphdGlvbiA9IHRoaXMub3Jnbml6YXRpb25EaWMuZ2V0KGNvZGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS5jb2xvcjtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEdldE9yZ2FuaXphdGlvbkxldmVsKGNvZGU6c3RyaW5nKXtcclxuICAgICAgICBpZihjb2RlID09IG51bGwpIHJldHVybiBudWxsO1xyXG4gICAgICAgIGlmKHRoaXMub3Jnbml6YXRpb25EaWMuaGFzKGNvZGUpKXtcclxuICAgICAgICAgICAgdmFyIGRhdGE6T3Jnbml6YXRpb24gPSB0aGlzLm9yZ25pemF0aW9uRGljLmdldChjb2RlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEubGV2ZWw7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIEluaXRDb250YWluZXIoKXtcclxuICAgICAgICB0aGlzLm9yZ25pemF0aW9uRGljID0gbmV3IExheWEuV2Vha09iamVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgQXN5bkxvYWREYXRhKHVybDpzdHJpbmcscG9zdGJvZHk6YW55LGZpbmluc2hlZD86YW55KXtcclxuICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkh0dHAucG9zdCh1cmwscG9zdGJvZHksdGhpcywoZTphbnkpPT57XHJcbiAgICAgICAgICAgIGlmKGUuc3RhdGUgPT0gXCJzdWNjZWVkXCIpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHJzdCA9ZS5kYXRhW1wiZGF0YVwiXVtcImxpc3RcIl07XHJcbiAgICAgICAgICAgICAgICByc3QuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlID0gdGhpcy5DcmVhdGVPcmdhbml6YXRpb24oZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxlIT1udWxsJiYgZWxlLmNvZGUhPW51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5vcmduaXphdGlvbkRpYy5oYXMoZWxlLmNvZGUpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3Jnbml6YXRpb25EaWMuc2V0KGVsZS5jb2RlLGVsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBmaW5pbnNoZWQuYXBwbHkoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuSXNMb2FkZWQgPXRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIENyZWF0ZU9yZ2FuaXphdGlvbihlbGVtZW50OmFueSk6T3Jnbml6YXRpb24ge1xyXG4gICAgICAgIHZhciBkYXRhOiBPcmduaXphdGlvbiA9IG5ldyBPcmduaXphdGlvbigpO1xyXG4gICAgICAgIGRhdGEuY29kZSA9IGVsZW1lbnQuY29kZTtcclxuICAgICAgICBkYXRhLm5hbWUgPSBlbGVtZW50Lm5hbWU7XHJcbiAgICAgICAgZGF0YS5sZXZlbCA9IGVsZW1lbnQubGV2ZWw7XHJcbiAgICAgICAgZGF0YS5jb2xvciA9IGVsZW1lbnQuY29sb3I7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgT3Jnbml6YXRpb257XHJcbiAgICBwdWJsaWMgY29kZTogc3RyaW5nO1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyBsZXZlbDpzdHJpbmc7XHJcbiAgICBwdWJsaWMgY29sb3I6c3RyaW5nO1xyXG59ICAiLCJcclxuaW1wb3J0IEV2ZW50RGlzcGF0Y2hlciA9IGxheWEuZXZlbnRzLkV2ZW50RGlzcGF0Y2hlcjsgIFxyXG4gICBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRNYW5hZ2VyIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVye1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGV2ZW50RGlzcGF0Y2hlcjpFdmVudERpc3BhdGNoZXIgPSBuZXcgRXZlbnREaXNwYXRjaGVyKCk7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOkV2ZW50TWFuYWdlcjtcclxuICAgIHB1YmxpYyBzdGF0aWMgSW5zdGFuY2UoKXtcclxuICAgICAgICBpZihFdmVudE1hbmFnZXIuX2luc3RhbmNlID09IG51bGwpe1xyXG4gICAgICAgICAgICBFdmVudE1hbmFnZXIuX2luc3RhbmNlID0gbmV3IEV2ZW50TWFuYWdlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gRXZlbnRNYW5hZ2VyLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgUG9zdEV2ZW50KGVOYW1lOnN0cmluZyxhcmdzPzphbnkpe1xyXG4gICAgICAgIC8vb25zb2xlLmRlYnVnKFwi5YiG5Y+R5LqL5Lu2XCIpO1xyXG4gICAgICAgIEV2ZW50TWFuYWdlci5ldmVudERpc3BhdGNoZXIuZXZlbnQoZU5hbWUsYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIEFkZEV2ZW50TGlzdGVuZXIoZU5hbWU6c3RyaW5nLGNhbGxlcjphbnksbGlzdGVuZXI6RnVuY3Rpb24sYXJncz86YW55W10pe1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coXCLkvqblkKzkuovku7ZcIixlTmFtZSk7XHJcbiAgICAgICAgRXZlbnRNYW5hZ2VyLmV2ZW50RGlzcGF0Y2hlci5vbihlTmFtZSxjYWxsZXIsbGlzdGVuZXIsYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFJlbW92ZUV2ZW50TGlzdGVuZXIoZU5hbWU6c3RyaW5nLGNhbGxlcjphbnksbGlzdGVuZXI6RnVuY3Rpb24sb25jZT86Ym9vbGVhbil7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIuenu+mZpOS6i+S7tlwiLGVOYW1lKTtcclxuICAgICAgICBFdmVudE1hbmFnZXIuZXZlbnREaXNwYXRjaGVyLm9mZihlTmFtZSxjYWxsZXIsbGlzdGVuZXIsb25jZSk7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGVudW0gRXZlbnRze1xyXG4gICAgT25VSV9MZXZlbEJ0bl9DbGlja2VkLFxyXG4gICAgXHJcbiAgICBPbkxldmVsQ2hhbmdlZCxcclxuXHJcbiAgICBPblNwYWNlRW50ZXIsXHJcbiAgICBPblNwYWNlQ2xpY2tlZCxcclxuICAgIE9uU3BhY2VFeGl0LFxyXG5cclxuICAgIE9uQ2FtZXJhRGlzdGFuY2VDaGFuZ2VkLFxyXG5cclxuICAgIE9uRGVwVHJlZUl0ZW1DbGlja2VkLFxyXG59IiwiXHJcbmltcG9ydCBNdEh0dHAgZnJvbSBcIi4vTmV0d29yay9NdEh0dHBcIjtcclxuaW1wb3J0IE5hbWVDb25maWcgZnJvbSBcIi4vQ29uZmlndXJlL05hbWVDb25maWdcIjtcclxuaW1wb3J0IERhdGFNYW5hZ2VyIGZyb20gXCIuL0RhdGEvRGF0YU1hbmFnZXJcIjtcclxuXHJcbmltcG9ydCBHYW1lVUkgZnJvbSBcIi4vR2FtZVVJXCI7XHJcblxyXG5pbXBvcnQgSGFuZGxlciA9IExheWEuSGFuZGxlcjtcclxuaW1wb3J0IENhbWVyYU1vdmVTY3JpcHQgZnJvbSBcIi4vQ29tcG9uZW50L0NhbWVyYU1vdmVTY3JpcHRcIjtcclxuaW1wb3J0IExhYmVsVXBkYXRQb3MgZnJvbSBcIi4vQ29tcG9uZW50L0xhYmVsVXBkYXRlXCI7XHJcbmltcG9ydCBNYWluVUkgZnJvbSBcIi4vTWFpblVJXCI7XHJcbmltcG9ydCBCSU1NYW5hZ2VyLCB7IExhYmVsVHlwZSB9IGZyb20gXCIuL0JJTS9CSU1NYW5hZ2VyXCI7XHJcbmltcG9ydCBDYW1lcmFNYW5hZ2VyIGZyb20gXCIuL0NhbWVyYS9DYW1lcmFNYW5hZ2VyXCI7XHJcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSBcIi4vRXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi9FdmVudHMvRXZlbnRzXCI7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVNYW5hZ2Vye1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTpHYW1lTWFuYWdlcjsgICAgXHJcblxyXG4gICAgc3RhdGljIEluc3RhbmNlKCk6R2FtZU1hbmFnZXJ7XHJcbiAgICAgICAgaWYoR2FtZU1hbmFnZXIuX2luc3RhbmNlID09IG51bGwpe1xyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5faW5zdGFuY2UgPSBuZXcgR2FtZU1hbmFnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEdhbWVNYW5hZ2VyLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgQklNOkJJTU1hbmFnZXI7XHJcbiAgICBwdWJsaWMgRGF0YTpEYXRhTWFuYWdlcjtcclxuICAgIHB1YmxpYyBDYW1lcmE6Q2FtZXJhTWFuYWdlcjtcclxuICAgIHB1YmxpYyBIdHRwIDpNdEh0dHA7XHJcblxyXG4gICAgcHVibGljIE1haW5TY2VuZTpMYXlhLlNjZW5lM0Q7XHJcbiAgICBwdWJsaWMgTWFpblVJOk1haW5VSTtcclxuXHJcbiAgICBwcml2YXRlIElzSW5pdFNjZW5lOmJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIExvZ2luTG9jazpCb29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLkh0dHAgPSBuZXcgTXRIdHRwKE5hbWVDb25maWcuaXAsTmFtZUNvbmZpZy5wb3J0KTtcclxuXHJcbiAgICAgICAgdGhpcy5CSU0gPSBuZXcgQklNTWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMuRGF0YSA9IG5ldyBEYXRhTWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMuQ2FtZXJhID0gbmV3IENhbWVyYU1hbmFnZXIoKTtcclxuICAgXHJcbiAgICAgICAgdGhpcy5BZGRFdmVudHMoKTtcclxuICAgIH0gICBcclxuXHJcblxyXG4gICAgQWRkRXZlbnRzKCl7XHJcbiAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuQWRkRXZlbnRMaXN0ZW5lcihFdmVudHMuT25VSV9MZXZlbEJ0bl9DbGlja2VkLnRvU3RyaW5nKCksdGhpcyx0aGlzLk9uTGV2ZWxCdG5DbGlja2VkKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBPbkxldmVsQnRuQ2xpY2tlZChsZXZlbE5hbWU6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLkJJTS5IaWRlT25lTGV2ZWxGbG9vcnModGhpcy5CSU0uQ3VycmVuTGV2ZWwpO1xyXG4gICAgICAgIHRoaXMuQklNLlNob3dPbmVMZXZlbEZsb29ycyhsZXZlbE5hbWUpO1xyXG5cclxuICAgICAgICBFdmVudE1hbmFnZXIuSW5zdGFuY2UoKS5Qb3N0RXZlbnQoRXZlbnRzLk9uTGV2ZWxDaGFuZ2VkLnRvU3RyaW5nKCksW3RoaXMuQklNLkN1cnJlbkxldmVsLHRoaXMuQklNLlByZUxldmVsXSk7XHJcblxyXG4gICAgICAgIHRoaXMuTWFpblVJLkNyZWF0ZVRyZWUodGhpcy5EYXRhLkdldE9uZUxldmVsT3JnYW5pemF0aW9ucyh0aGlzLkJJTS5DdXJyZW5MZXZlbCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBMb2dpbigpeyAgIFxyXG5cclxuICAgICAgICBpZih0aGlzLkxvZ2luTG9jaykgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgdmFyIGxvbmdpblVybCA9ICB0aGlzLkh0dHAuVVJMLmNvbmNhdChcIi9JVlMvbG9naW5cIik7XHJcbiAgICAgICAgdmFyIHBvc3RCb2R5ID0gSlNPTi5zdHJpbmdpZnkoe1wibmFtZVwiOk5hbWVDb25maWcudXNlck5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHdkXCI6TmFtZUNvbmZpZy51c2VyUGFzc3Byb3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGhpcmRQYXJ0eUNvZGVcIjpcIjBcIn0pO1xyXG4gICAgICAgIHRoaXMuSHR0cC5wb3N0KGxvbmdpblVybCxwb3N0Qm9keSx0aGlzLHRoaXMuTG9naW5TdWNjZWVkKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLkxvZ2luTG9jayA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgTG9naW5TdWNjZWVkKGU6YW55KXtcclxuICAgICAgICBpZihlLnN0YXRlID09IFwic3VjY2VlZFwiKXtcclxuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkxvZ2luIHN1Y2NlZWQhXCIpO1xyXG4gICAgICAgICAgICB0aGlzLkxvYWREYXRhKCk7XHJcblxyXG4gICAgICAgICAgICAvL3Rlc3RcclxuICAgICAgICAgICAgLy90aGlzLkxvYWRSZXMoKTtcclxuICAgICAgICB9IGVsc2V7XHJcbiAgICAgICAgICAgIGFsZXJ0KGUubXNnKTtcclxuICAgICAgICB9ICAgXHJcbiAgICB9XHJcblxyXG4gICAgTG9hZERhdGEoKXtcclxuXHJcbiAgICAgICAgdGhpcy5EYXRhLkluaXQoKTtcclxuICAgIFxyXG4gICAgfVxyXG5cclxuICAgIExvYWRSZXMoKXtcclxuXHJcbiAgICAgICAgTGF5YS5sb2FkZXIubG9hZChcInJlcy9Kc29uRmlsZS9yZXNfcHVtY2h3Lmpzb25cIixIYW5kbGVyLmNyZWF0ZSh0aGlzLChkYXRhKT0+e1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlc1VybDpBcnJheTxzdHJpbmc+ID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgICAgIGRhdGEudXJsLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNVcmwucHVzaCh0aGlzLkh0dHAuVVJMLmNvbmNhdChcIi9QYXRjaC9yZXMvXCIsZWxlbWVudCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuQklNLkxvYWRSZXMocmVzVXJsLCgpPT57XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Jbml0TWFpblVJKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5CSU0uU2hvd09uZUxldmVsRmxvb3JzKHRoaXMuQklNLkN1cnJlbkxldmVsKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIEluaXQzRFNjZW5lKCl7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuSXNJbml0U2NlbmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgTGF5YTNELmluaXQoMCwgMCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gTGF5YS5TdGFnZS5TQ0FMRV9GVUxMO1xyXG4gICAgICAgIExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IExheWEuU3RhZ2UuU0NSRUVOX05PTkU7XHJcblxyXG4gICAgICAgIC8vTGF5YS5TdGF0LnNob3coKTtcclxuXHJcbiAgICAgICAgdGhpcy5NYWluU2NlbmUgPSBuZXcgTGF5YS5TY2VuZTNEKCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLk1haW5TY2VuZSk7XHJcbiAgICAgICBcclxuICAgICAgICB0aGlzLkNhbWVyYS5Jbml0Q2FtZXJhKCk7XHJcblxyXG4gICAgICAgIHRoaXMuSXNJbml0U2NlbmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIEluaXRNYWluVUkoKXtcclxuICAgICAgICB0aGlzLk1haW5VSSA9IG5ldyBNYWluVUkoKTtcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRoaXMuTWFpblVJKTtcclxuXHJcblxyXG4gICAgICAgIC8vdGhpcy5NYWluVUkuQ3JlYXRlVHJlZSh0aGlzLkRhdGEuR2V0T25lTGV2ZWxPcmdhbml6YXRpb25zKHRoaXMuQklNLkN1cnJlbkxldmVsKSk7XHJcbiAgICAgICAgdGhpcy5NYWluVUkuQ3JlYXRlTGV2ZWxzKHRoaXMuQklNLkxldmVscyk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi8uLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IEdhbWVNYW5hZ2VyIGZyb20gXCIuL0dhbWVNYW5hZ2VyXCI7XHJcbmltcG9ydCBOYW1lQ29uZmlnIGZyb20gXCIuL0NvbmZpZ3VyZS9OYW1lQ29uZmlnXCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIOacrOekuuS+i+mHh+eUqOmdnuiEmuacrOeahOaWueW8j+WunueOsO+8jOiAjOS9v+eUqOe7p+aJv+mhtemdouWfuuexu++8jOWunueOsOmhtemdoumAu+i+keOAguWcqElERemHjOmdouiuvue9ruWcuuaZr+eahFJ1bnRpbWXlsZ7mgKfljbPlj6/lkozlnLrmma/ov5vooYzlhbPogZRcclxuICog55u45q+U6ISa5pys5pa55byP77yM57un5om/5byP6aG16Z2i57G777yM5Y+v5Lul55u05o6l5L2/55So6aG16Z2i5a6a5LmJ55qE5bGe5oCn77yI6YCa6L+HSURF5YaFdmFy5bGe5oCn5a6a5LmJ77yJ77yM5q+U5aaCdGhpcy50aXBMYmxs77yMdGhpcy5zY29yZUxibO+8jOWFt+acieS7o+eggeaPkOekuuaViOaenFxyXG4gKiDlu7rorq7vvJrlpoLmnpzmmK/pobXpnaLnuqfnmoTpgLvovpHvvIzpnIDopoHpopHnuYHorr/pl67pobXpnaLlhoXlpJrkuKrlhYPntKDvvIzkvb/nlKjnu6fmib/lvI/lhpnms5XvvIzlpoLmnpzmmK/ni6znq4vlsI/mqKHlnZfvvIzlip/og73ljZXkuIDvvIzlu7rorq7nlKjohJrmnKzmlrnlvI/lrp7njrDvvIzmr5TlpoLlrZDlvLnohJrmnKzjgIJcclxuICovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVUkgZXh0ZW5kcyB1aS5wb3J0YWwuTG9hZGluZ1VJIHtcclxuXHJcbiAgICBzdGF0aWMgX2luc3RhbmNlIDogR2FtZVVJO1xyXG5cclxuICAgIEdhbWVNYW5hZ2VyOkdhbWVNYW5hZ2VyO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpOyAgXHJcblxyXG4gICAgICAgIEdhbWVVSS5faW5zdGFuY2UgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLkdhbWVNYW5hZ2VyID0gR2FtZU1hbmFnZXIuSW5zdGFuY2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5VSUFkYXB0ZXIoKTtcclxuICAgICAgICB0aGlzLkxvZ2luQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLk9uTG9naW5CdG5DbGlja2VkKTtcclxuXHJcblxyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5SRVNJWkUsTGF5YS5zdGFnZSwoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLlVJQWRhcHRlcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vRW5hYmxl5Yid5aeL5YyWXHJcbiAgICBvbkVuYWJsZSgpOnZvaWR7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLy/nmbvpmYZcclxuICAgIE9uTG9naW5CdG5DbGlja2VkKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAvL0dhbWVNYW5hZ2VyLkluc3RhbmNlKCkuTG9naW4oKTtcclxuICAgICAgICB0aGlzLkdhbWVNYW5hZ2VyLkxvZ2luKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/orr7nva7otYTmupDliqDovb3ov5vluqZcclxuICAgIFNldExvYWRQZXJjZW50KHBlcmNlbnQ6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLlByb2dyZXNzQmFyLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuUHJvZ3Jlc3NCYXIudmFsdWUgPSBwZXJjZW50O1xyXG4gICAgICAgIGlmKHBlcmNlbnQgPT0gMSl7XHJcbiAgICAgICAgICAgIHRoaXMuRGVzdHJveVNjZW5lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIERlc3Ryb3lTY2VuZSgpe1xyXG4gICAgICAgIC8vdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgTGF5YS5TY2VuZS5jbG9zZSh0aGlzLnNjZW5lKTtcclxuICAgIH1cclxuXHJcbiAgICAvL1VJ6YCC6YWNXHJcbiAgICBVSUFkYXB0ZXIoKXtcclxuICAgICAgICBsZXQgd2lkdGggPSBMYXlhLkJyb3dzZXIud2lkdGg7XHJcbiAgICAgICAgbGV0IGhlaWdodCA9IExheWEuQnJvd3Nlci5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLkJhY2tncm91bmQud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLkJhY2tncm91bmQuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuVGl0bGUucG9zKHdpZHRoLzIsaGVpZ2h0LzQpO1xyXG4gICAgICAgIHRoaXMuTG9naW5CdG4ucG9zKHdpZHRoLzIsaGVpZ2h0LzMgKyAxMDApO1xyXG4gICAgICAgIHRoaXMuUHJvZ3Jlc3NCYXIucG9zKHdpZHRoLzIsaGVpZ2h0ICogMyAvIDQpO1xyXG4gICAgICAgIHRoaXMuUHJvZ3Jlc3NCYXIudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7dWl9IGZyb20gXCIuLy4uL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgTmFtZUNvbmZpZyBmcm9tIFwiLi9Db25maWd1cmUvTmFtZUNvbmZpZ1wiO1xyXG5pbXBvcnQgR2FtZU1hbmFnZXIgZnJvbSBcIi4vR2FtZU1hbmFnZXJcIjtcclxuaW1wb3J0IEJJTU1hbmFnZXIsIHsgTGFiZWxUeXBlIH0gZnJvbSBcIi4vQklNL0JJTU1hbmFnZXJcIjtcclxuXHJcbmltcG9ydCBCdXR0b24gPSBMYXlhLkJ1dHRvbjtcclxuaW1wb3J0IENvbW1vbiBmcm9tIFwiLi9Db21tb24vQ29tbW9uXCI7XHJcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSBcIi4vRXZlbnRzL0V2ZW50TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFdmVudHMgfSBmcm9tIFwiLi9FdmVudHMvRXZlbnRzXCI7XHJcblxyXG5pbXBvcnQgVUlUcmVlIGZyb20gXCIuL1VJL1RyZWUvVUlUcmVlXCI7XHJcbmltcG9ydCB7IFRyZWVJdGVtRGF0YSB9IGZyb20gXCIuL1VJL1RyZWUvVUlUcmVlSXRlbVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpblVJIGV4dGVuZHMgdWkuTWFpblNjZW5lLk1haW5TY2VuZVVJe1xyXG5cclxuICAgIHN0YXRpYyBfaW5zdGFuY2UgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBMZXZlbE5hbWVzOkFycmF5PHN0cmluZz47XHJcblxyXG4gICAgcHJpdmF0ZSBtX2lzMkQ6Qm9vbGVhbjtcclxuICAgIHByaXZhdGUgbV9sZXZlbEJ0bnM6QXJyYXk8QnV0dG9uPjtcclxuICAgIHByaXZhdGUgbV9sZXZlbEJ0blBvczpMYXlhLldlYWtPYmplY3Q7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2xldmVsQnRuT3JpUG9zOkxheWEuVmVjdG9yMjtcclxuXHJcbiAgICBwcml2YXRlIG1faXNTaG93TXVsdGlCdG5zOmJvb2xlYW4gPSB0cnVlO1xyXG4gICAgcHJpdmF0ZSBtX2lzU2hvd0FsbExldmVsczpib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIEN1cnJlbnRMYWJlbFR5cGU6TGFiZWxUeXBlID0gTGFiZWxUeXBlLlVzYWdlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIE1haW5VSS5faW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuVUlBZGFwdGVyKCk7ICAgXHJcbiAgICAgICAgdGhpcy5BZGRFdmVudCgpOyBcclxuICAgICAgICB0aGlzLm1faXMyRCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLm1fbGV2ZWxCdG5zID0gbmV3IEFycmF5PEJ1dHRvbj4oKTtcclxuICAgICAgICB0aGlzLm1fbGV2ZWxCdG5Qb3MgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcblxyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5SRVNJWkUsTGF5YS5zdGFnZSwoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLlVJQWRhcHRlcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIFVJQWRhcHRlcigpe1xyXG4gICAgICAgIGxldCB3aWR0aCA9IExheWEuc3RhZ2Uud2lkdGg7XHJcbiAgICAgICAgbGV0IGhlaWdodCA9IExheWEuc3RhZ2UuaGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMuXzJEM0RCdG4ucG9zKDEwMCxoZWlnaHQtMTAwKVxyXG5cclxuICAgICAgICB0aGlzLkRlcEJ0bi5wb3MoMTAwLGhlaWdodC8zKTtcclxuICAgICAgICB0aGlzLlVzYWdlQnRuLnBvcygxMDAsaGVpZ2h0LzMrMTUwKTtcclxuICAgICAgICB0aGlzLkFyZWFCdG4ucG9zKDEwMCxoZWlnaHQvMyszMDApO1xyXG5cclxuICAgICAgICB0aGlzLk11bHRpQnRuLnBvcyh3aWR0aC0xNTAsaGVpZ2h0LTE4MCk7ICAgIFxyXG4gICAgICAgIHRoaXMuQWxsQnRuLnBvcyh3aWR0aC0xNTAsaGVpZ2h0LTEwMCk7XHJcblxyXG4gICAgICAgIHRoaXMuRGlzdHJpYnV0ZUJ0bi5wb3Mod2lkdGgtMTUwLDEwMCk7XHJcblxyXG4gICAgICAgIHRoaXMudWl0cmVlXHJcblxyXG4gICAgICAgIC8v6YeN5paw5Yi35pawbGV2ZWxidG5cclxuICAgICAgICBpZih0aGlzLm1fbGV2ZWxCdG5zJiZ0aGlzLm1fbGV2ZWxCdG5zLmxlbmd0aCE9MCl7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDBcclxuICAgICAgICAgICAgdGhpcy5tX2xldmVsQnRucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX2xldmVsQnRuT3JpUG9zID0gbmV3IExheWEuVmVjdG9yMih0aGlzLk11bHRpQnRuLngsdGhpcy5NdWx0aUJ0bi55KTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQucG9zKHRoaXMuTXVsdGlCdG4ueCx0aGlzLk11bHRpQnRuLnkgLSArK2luZGV4ICogODApXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1fbGV2ZWxCdG5Qb3MuaGFzKGVsZW1lbnQpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWxCdG5Qb3MuZGVsKGVsZW1lbnQpOyBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWxCdG5Qb3Muc2V0KGVsZW1lbnQsbmV3IExheWEuVmVjdG9yMihlbGVtZW50LngsZWxlbWVudC55KSk7XHJcbiAgICAgICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL+W6lOivpeaciVJlbW92ZUV2ZW5ldFxyXG4gICAgQWRkRXZlbnQoKXtcclxuICAgICAgICB0aGlzLl8yRDNEQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssbnVsbCwoZSk9PntcclxuICAgICAgICAgICAgdGhpcy5fMkQzREJ0bkNsaWNrZWQoKTtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5EZXBCdG4ub24oTGF5YS5FdmVudC5DTElDSyxudWxsLChlKT0+e1xyXG4gICAgICAgICAgICAgR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5CSU0uUmVmcmVzaExhYmVsQ29udGVudChMYWJlbFR5cGUuRGVwYXJ0KTtcclxuICAgICAgICAgICAgIHRoaXMuQ3VycmVudExhYmVsVHlwZSA9IExhYmVsVHlwZS5EZXBhcnQ7XHJcbiAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLlVzYWdlQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssbnVsbCwoZSk9PntcclxuICAgICAgICAgICAgR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5CSU0uUmVmcmVzaExhYmVsQ29udGVudChMYWJlbFR5cGUuVXNhZ2UpO1xyXG4gICAgICAgICAgICB0aGlzLkN1cnJlbnRMYWJlbFR5cGUgPSBMYWJlbFR5cGUuVXNhZ2U7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuQXJlYUJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLG51bGwsKGUpPT57XHJcbiAgICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkJJTS5SZWZyZXNoTGFiZWxDb250ZW50KExhYmVsVHlwZS5BcmVhKTtcclxuICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuTXVsdGlCdG4ub24oTGF5YS5FdmVudC5DTElDSyxudWxsLChlKT0+e1xyXG4gICAgICAgICAgICB0aGlzLlNob3dMZXZlbHModGhpcy5tX2lzU2hvd011bHRpQnRucyk7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7ICAgXHJcbiAgICAgICAgfSk7ICBcclxuXHJcbiAgICAgICAgdGhpcy5EaXN0cmlidXRlQnRuLm9uKExheWEuRXZlbnQuQ0xJQ0ssbnVsbCwoZSk9PntcclxuICAgICAgICAgICAgdGhpcy5TaG93RGVwYXJ0bWVudFRyZWUoKTtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgICBcclxuICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5BbGxCdG4ub24oTGF5YS5FdmVudC5DTElDSyxudWxsLChlKT0+e1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tX2lzU2hvd0FsbExldmVscyA9ICF0aGlzLm1faXNTaG93QWxsTGV2ZWxzXHJcblxyXG4gICAgICAgICAgICBHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkJJTS5TaG93QWxsTGV2ZWxzKHRoaXMubV9pc1Nob3dBbGxMZXZlbHMpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgICBcclxuICAgICAgICB9KTsgIFxyXG4gICAgfVxyXG5cclxuICAgIENyZWF0ZUxldmVscyhsZXZlbHM6QXJyYXk8c3RyaW5nPil7XHJcbiAgICAgICAgaWYobGV2ZWxzPT1udWxsfHxsZXZlbHMubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5tX2xldmVsQnRucy5zcGxpY2UoMCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHVuZGVyR3JvdW5kTGV2ZWwgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xyXG4gICAgICAgIHZhciB1cEdyb3VuZExldmVsID0gbmV3IEFycmF5PHN0cmluZz4oKTtcclxuXHJcbiAgICAgICAgbGV2ZWxzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcblxyXG4gICAgICAgICAgICBpZihlbGVtZW50Lmxlbmd0aCE9MTUpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhcImxldmVsIG5hbWUgaXMgbm90IGxlZ2FsIVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoQ29tbW9uLkdldFB1ckxldmVsKGVsZW1lbnQpLm1hdGNoKFwiQlwiKSE9bnVsbCl7XHJcbiAgICAgICAgICAgICAgICB1bmRlckdyb3VuZExldmVsLnB1c2goZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdXBHcm91bmRMZXZlbC5wdXNoKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHVuZGVyR3JvdW5kTGV2ZWwuc29ydCgoYSxiKTpudW1iZXI9PntcclxuICAgICAgICAgICAgcmV0dXJuIGEuY2hhckF0KDE0KT5iLmNoYXJBdCgxNCk/LTE6MTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdXBHcm91bmRMZXZlbC5zb3J0KChhLGIpOm51bWJlcj0+e1xyXG4gICAgICAgICAgICByZXR1cm4gYS5jaGFyQXQoMTQpPmIuY2hhckF0KDE0KT8xOi0xO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLkxldmVsTmFtZXMgPSB1bmRlckdyb3VuZExldmVsLmNvbmNhdCh1cEdyb3VuZExldmVsKTtcclxuXHJcbiAgICAgICAgLy90ZW1wXHJcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLm1fbGV2ZWxCdG5PcmlQb3MgPSBuZXcgTGF5YS5WZWN0b3IyKHRoaXMuTXVsdGlCdG4ueCx0aGlzLk11bHRpQnRuLnkpO1xyXG5cclxuICAgICAgICB0aGlzLkxldmVsTmFtZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5DcmVhdGVPbmVCdXR0b24oZWxlbWVudCxuZXcgTGF5YS5WZWN0b3IyKHRoaXMubV9sZXZlbEJ0bk9yaVBvcy54LHRoaXMubV9sZXZlbEJ0bk9yaVBvcy55IC0gKytpbmRleCo4MCkpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgQ3JlYXRlT25lQnV0dG9uKGxldmVsQ29kZTpzdHJpbmcscG9zOkxheWEuVmVjdG9yMil7XHJcbiAgICAgICAgaWYobGV2ZWxDb2RlID09IG51bGwpIHJldHVybiA7XHJcblxyXG4gICAgICAgIHZhciBwdXJMZXZlbCA9IENvbW1vbi5HZXRQdXJMZXZlbChsZXZlbENvZGUpO1xyXG5cclxuICAgICAgICB2YXIgbHZsQnRuOkJ1dHRvbiA9IG5ldyBCdXR0b24oXCJjb21wL2J1dHRvbi5wbmdcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbHZsQnRuLm5hbWUgPSBsZXZlbENvZGU7XHJcbiAgICAgICAgbHZsQnRuLndpZHRoID0gODA7XHJcbiAgICAgICAgbHZsQnRuLmhlaWdodCA9IDYwO1xyXG4gICAgICAgIGx2bEJ0bi5wb3MocG9zLngscG9zLnkpO1xyXG4gICAgICAgIGx2bEJ0bi5sYWJlbFNpemUgPSAzMDtcclxuICAgICAgICBsdmxCdG4ubGFiZWwgPSBwdXJMZXZlbC5jaGFyQXQoMCkrcHVyTGV2ZWwuY2hhckF0KDMpO1xyXG4gICAgICAgIGx2bEJ0bi5vbihMYXlhLkV2ZW50LkNMSUNLLG51bGwsKGUsbHZsTmFtZSk9PntcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLkluc3RhbmNlKCkuUG9zdEV2ZW50KEV2ZW50cy5PblVJX0xldmVsQnRuX0NsaWNrZWQudG9TdHJpbmcoKSxsdmxCdG4ubmFtZSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChsdmxCdG4pO1xyXG5cclxuICAgICAgICB0aGlzLm1fbGV2ZWxCdG5zLnB1c2gobHZsQnRuKTtcclxuXHJcbiAgICAgICAgdGhpcy5tX2xldmVsQnRuUG9zLnNldChsdmxCdG4sbmV3IExheWEuVmVjdG9yMihsdmxCdG4ueCxsdmxCdG4ueSkpO1xyXG4gICAgfVxyXG5cclxuICAgIFNob3dMZXZlbHMoYjpib29sZWFuKXtcclxuICAgICAgICB0aGlzLm1faXNTaG93TXVsdGlCdG5zID0gIWI7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLm1faXNTaG93TXVsdGlCdG5zKXtcclxuICAgICAgICAgICAgdGhpcy5NdWx0aUJ0bi5sYWJlbCA9IFwi5bGV5byAXCI7XHJcbiAgICAgICAgICAgIHRoaXMubV9sZXZlbEJ0bnMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIExheWEuVHdlZW4udG8oZWxlbWVudCx7eDp0aGlzLm1fbGV2ZWxCdG5PcmlQb3MueCx5OnRoaXMubV9sZXZlbEJ0bk9yaVBvcy55fSw1MCxMYXlhLkVhc2UubGluZWFySW4sTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC52aXNpYmxlID0gdGhpcy5tX2lzU2hvd011bHRpQnRucztcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuTXVsdGlCdG4ubGFiZWwgPSBcIuaKmOWPoFwiO1xyXG4gICAgICAgICAgICB0aGlzLm1fbGV2ZWxCdG5zLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnZpc2libGUgPSB0aGlzLm1faXNTaG93TXVsdGlCdG5zO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMubV9sZXZlbEJ0blBvcy5nZXQoZWxlbWVudCkgYXMgTGF5YS5WZWN0b3IyO1xyXG4gICAgICAgICAgICAgICAgTGF5YS5Ud2Vlbi50byhlbGVtZW50LHt4OnBvcy54LHk6cG9zLnl9LDUwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF8yRDNEQnRuQ2xpY2tlZCgpe1xyXG4gICAgICAgIHRoaXMubV9pczJEID0gIXRoaXMubV9pczJEO1xyXG4gICAgICAgIEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuQ2FtZXJhLlJlc2V0Q2FtZXJhKHRoaXMubV9pczJEKTtcclxuICAgICAgICBpZih0aGlzLm1faXMyRCl7XHJcbiAgICAgICAgICAgIHRoaXMuXzJEM0RCdG4ubGFiZWwgPSBcIjNEXCI7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuXzJEM0RCdG4ubGFiZWwgPSBcIjJEXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIGlzU2hvd0RlcGFydFRyZWUgPSBmYWxzZTtcclxuICAgIFNob3dEZXBhcnRtZW50VHJlZSgpe1xyXG4gICAgICAgIHRoaXMuaXNTaG93RGVwYXJ0VHJlZSA9ICF0aGlzLmlzU2hvd0RlcGFydFRyZWU7XHJcbiAgICAgICAgaWYodGhpcy5pc1Nob3dEZXBhcnRUcmVlKXtcclxuICAgICAgICAgICAgbGV0IGRhdGE6QXJyYXk8c3RyaW5nPiA9IEdhbWVNYW5hZ2VyLkluc3RhbmNlKCkuRGF0YS5HZXRPbmVMZXZlbE9yZ2FuaXphdGlvbnMoR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5CSU0uQ3VycmVuTGV2ZWwpO1xyXG4gICAgICAgICAgICB0aGlzLkNyZWF0ZVRyZWUoZGF0YSk7XHJcbiAgICAgICAgfSAgXHJcbiAgICAgICAgaWYodGhpcy51aXRyZWUgJiYgdGhpcy51aXRyZWUubV90cmVlIClcclxuICAgICAgICAgICAgdGhpcy51aXRyZWUubV90cmVlLnZpc2libGUgPSB0aGlzLmlzU2hvd0RlcGFydFRyZWU7ICBcclxuICAgIH1cclxuICAgIFxyXG5cclxuXHJcbiAgICBtX29yZ0xldmVsMTpMYXlhLldlYWtPYmplY3QgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcbiAgICBtX29yZ0xldmVsMjpMYXlhLldlYWtPYmplY3QgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcbiAgICBtX2xldmVsMWFycnM6QXJyYXk8c3RyaW5nPiA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcbiAgICBtX2xldmVsMmFycnM6QXJyYXk8c3RyaW5nPiA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcblxyXG4gICAgdWl0cmVlOlVJVHJlZSA9IG5ldyBVSVRyZWUoKTtcclxuICAgIHRyZWVkYXRhOkFycmF5PFRyZWVJdGVtRGF0YT4gPSBuZXcgQXJyYXk8VHJlZUl0ZW1EYXRhPigpO1xyXG5cclxuICAgIENyZWF0ZVRyZWUob3JnczpBcnJheTxzdHJpbmc+KXtcclxuICAgICAgICAvL1RFTVA66buY6K6k5Li6M+e6p1xyXG5cclxuICAgICAgICB0aGlzLmNsZWFyZGljKCk7XHJcblxyXG4gICAgICAgIGxldCBsZXZlbDE6c3RyaW5nO1xyXG4gICAgICAgIGxldCBsZXZlbDI6c3RyaW5nO1xyXG4gICAgICAgIGxldCBsZXZlbDM6c3RyaW5nO1xyXG4gICAgICAgIG9yZ3MuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgc3dpdGNoKGVsZW1lbnQubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5tX29yZ0xldmVsMS5oYXMoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX29yZ0xldmVsMS5zZXQoZWxlbWVudCxuZXcgQXJyYXk8c3RyaW5nPigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2xldmVsMWFycnMucHVzaChlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBsZXZlbDEgPSBlbGVtZW50LnN1YnN0cigwLDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldmVsMiA9IGVsZW1lbnQuc3Vic3RyKDAsNCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLm1fb3JnTGV2ZWwxLmhhcyhsZXZlbDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubV9vcmdMZXZlbDEuc2V0KGxldmVsMSxuZXcgQXJyYXk8c3RyaW5nPigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX2xldmVsMWFycnMucHVzaChsZXZlbDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgYiA9IHRoaXMubV9vcmdMZXZlbDEuZ2V0KGxldmVsMSkuc29tZSgoY29kZSk6Ym9vbGVhbiA9PntyZXR1cm4gY29kZSA9PSBsZXZlbDJ9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZighYikgdGhpcy5tX29yZ0xldmVsMS5nZXQobGV2ZWwxKS5wdXNoKGxldmVsMik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICBsZXZlbDEgPSBlbGVtZW50LnN1YnN0cigwLDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldmVsMiA9IGVsZW1lbnQuc3Vic3RyKDAsNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwzID0gZWxlbWVudC5zdWJzdHIoMCw2KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMubV9vcmdMZXZlbDEuaGFzKGxldmVsMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX29yZ0xldmVsMS5zZXQobGV2ZWwxLG5ldyBBcnJheTxzdHJpbmc+KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWwxYXJycy5wdXNoKGxldmVsMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBiMiA9IHRoaXMubV9vcmdMZXZlbDEuZ2V0KGxldmVsMSkuc29tZSgoY29kZSk6Ym9vbGVhbiA9PntyZXR1cm4gY29kZSA9PSBsZXZlbDJ9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZighYjIpIHRoaXMubV9vcmdMZXZlbDEuZ2V0KGxldmVsMSkucHVzaChsZXZlbDIpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMubV9vcmdMZXZlbDIuaGFzKGxldmVsMikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tX29yZ0xldmVsMi5zZXQobGV2ZWwyLG5ldyBBcnJheTxzdHJpbmc+KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fbGV2ZWwyYXJycy5wdXNoKGxldmVsMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBiMyA9IHRoaXMubV9vcmdMZXZlbDIuZ2V0KGxldmVsMikuc29tZSgoY29kZSk6Ym9vbGVhbiA9PntyZXR1cm4gY29kZSA9PSBsZXZlbDN9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZighYjMpIHRoaXMubV9vcmdMZXZlbDIuZ2V0KGxldmVsMikucHVzaChsZXZlbDMpOyAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubV9sZXZlbDFhcnJzLmZvckVhY2gobHZsMSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByb290OlRyZWVJdGVtRGF0YSA9IHRoaXMuY3JlYXRlVHJlZUl0ZW0obHZsMSxHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkRhdGEuR2V0T25lT3JnYW5pemF0aW9uTmFtZShsdmwxKSwxLGZhbHNlLG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLnRyZWVkYXRhLnB1c2gocm9vdCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1fb3JnTGV2ZWwxLmdldChsdmwxKS5mb3JFYWNoKGx2bDIgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzbGVhZiA9ICghdGhpcy5tX29yZ0xldmVsMi5oYXMobHZsMikgfHwgdGhpcy5tX29yZ0xldmVsMi5nZXQobHZsMikubGVuZ3RoID09IDApP3RydWU6ZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGV2ZWwyOlRyZWVJdGVtRGF0YSA9IHRoaXMuY3JlYXRlVHJlZUl0ZW0obHZsMixHYW1lTWFuYWdlci5JbnN0YW5jZSgpLkRhdGEuR2V0T25lT3JnYW5pemF0aW9uTmFtZShsdmwyKSwyLGlzbGVhZixsdmwxKTtcclxuICAgICAgICAgICAgICAgIHJvb3QuY2hpbGRyZW4ucHVzaChsZXZlbDIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubV9vcmdMZXZlbDIuaGFzKGx2bDIpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1fb3JnTGV2ZWwyLmdldChsdmwyKS5mb3JFYWNoKGx2bDM9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxldmVsMzpUcmVlSXRlbURhdGEgPSB0aGlzLmNyZWF0ZVRyZWVJdGVtKGx2bDMsR2FtZU1hbmFnZXIuSW5zdGFuY2UoKS5EYXRhLkdldE9uZU9yZ2FuaXphdGlvbk5hbWUobHZsMyksMyx0cnVlLGx2bDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbDIuY2hpbGRyZW4ucHVzaChsZXZlbDMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgfSk7ICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy51aXRyZWUuSW5pdFRyZWUodGhpcy50cmVlZGF0YSxudWxsLG5ldyBMYXlhLlZlY3RvcjIoTGF5YS5Ccm93c2VyLndpZHRoIC0gNjAwLDEwKSxcIiNGRkQ3MDBcIik7XHJcbiAgICAgICAgdGhpcy51aXRyZWUuT25WYWx1ZUNoYW5nZWQgPShkYXRhLGIpPT57XHJcbiAgICAgICAgICAgIHRoaXMuT25WYWx1ZUNoYW5nZWQoZGF0YSxiKTtcclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVRyZWVJdGVtKGNvZGU6c3RyaW5nLG5hbWU6c3RyaW5nLGxldmVsOm51bWJlcixpc0xlYWY6Ym9vbGVhbixwYXJlbnRDb2RlOnN0cmluZyk6VHJlZUl0ZW1EYXRhe1xyXG4gICAgICAgIGxldCBpdGVtOlRyZWVJdGVtRGF0YSA9IG5ldyBUcmVlSXRlbURhdGEoKTtcclxuICAgICAgICBpdGVtLmNvZGUgPSBjb2RlO1xyXG4gICAgICAgIGl0ZW0ubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgaXRlbS5sZXZlbCA9IGxldmVsO1xyXG4gICAgICAgIGl0ZW0uaXNMZWFmID0gaXNMZWFmO1xyXG4gICAgICAgIGl0ZW0ucGFyZW50Q29kZSA9IHBhcmVudENvZGU7XHJcbiAgICAgICAgaXRlbS5jaGlsZHJlbiA9IG5ldyBBcnJheTxUcmVlSXRlbURhdGE+KCk7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgT25WYWx1ZUNoYW5nZWQoYXJyOkFycmF5PGFueT4sYjpib29sZWFuKXtcclxuXHJcbiAgICAgICAgbGV0IHN0ciA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcbiAgICAgICAgYXJyLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHN0ci5wdXNoKGVsZW1lbnQuSXRlbURhdGEuY29kZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEV2ZW50TWFuYWdlci5JbnN0YW5jZSgpLlBvc3RFdmVudChFdmVudHMuT25EZXBUcmVlSXRlbUNsaWNrZWQudG9TdHJpbmcoKSxbc3RyLGJdKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcmRpYygpe1xyXG4gICAgICAgIHRoaXMubV9sZXZlbDFhcnJzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubV9vcmdMZXZlbDEuZGVsKGVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubV9sZXZlbDFhcnJzLnNwbGljZSgwKTtcclxuICAgICAgICB0aGlzLm1fbGV2ZWwyYXJycy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm1fb3JnTGV2ZWwyLmRlbChlbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1fbGV2ZWwyYXJycy5zcGxpY2UoMCk7XHJcbiAgICAgICAgdGhpcy50cmVlZGF0YS5zcGxpY2UoMCk7XHJcbiAgICB9XHJcbn0iLCJcclxuaW1wb3J0IE10UHJvdG9jYWxDb21tb24gZnJvbSBcIi4vTXRQcm90b2NhbENvbW1vblwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXRIdHRwe1xyXG5cclxuICAgIHByaXZhdGUgbV9pcDpzdHJpbmc7XHJcbiAgICBwcml2YXRlIG1fcG9ydDpzdHJpbmc7XHJcbiAgICBwdWJsaWMgVVJMOiBzdHJpbmdcclxuXHJcbiAgICBwdWJsaWMgbV90b2tlbjpzdHJpbmc7XHJcblxyXG4gICAgcHJpdmF0ZSBtX2h0dHA6TGF5YS5IdHRwUmVxdWVzdDsgXHJcbiAgICBwcml2YXRlIG1fcHJvdG9jYWxDb21tb24gOiBNdFByb3RvY2FsQ29tbW9uO1xyXG4gICAgcHJpdmF0ZSBtX2NhbGxiYWNrOmFueTtcclxuICAgIHByaXZhdGUgbV9jYWxsZXI6YW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGlwOnN0cmluZyxwb3J0OnN0cmluZyl7XHJcbiAgICAgICAgdGhpcy5tX2lwID0gaXA7XHJcbiAgICAgICAgdGhpcy5tX3BvcnQgPSBwb3J0O1xyXG4gICAgICAgIHRoaXMuVVJMID0gXCJodHRwOi8vXCIrdGhpcy5tX2lwICsgXCI6XCIgKyB0aGlzLm1fcG9ydDtcclxuXHJcbiAgICAgICAgdGhpcy5tX2h0dHAgID0gbmV3IExheWEuSHR0cFJlcXVlc3Q7XHJcbiAgICAgICAgdGhpcy5tX3Byb3RvY2FsQ29tbW9uID0gbmV3IE10UHJvdG9jYWxDb21tb24oKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIGdldCh1cmw6c3RyaW5nLGNhbGxlcjphbnksY2FsbGJhY2s6YW55KXtcclxuICAgICAgICB0aGlzLm1fY2FsbGVyID0gY2FsbGVyO1xyXG4gICAgICAgIHRoaXMubV9jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMubV9odHRwLm9uY2UoTGF5YS5FdmVudC5DT01QTEVURSx0aGlzLHRoaXMub25IdHRwUmVxdWVzdENvbXBsZXRlKTtcclxuICAgICAgICB0aGlzLm1faHR0cC5vbmNlKExheWEuRXZlbnQuRVJST1IsdGhpcyx0aGlzLm9uSHR0cFJlcXVlc3RFcnJvcik7XHJcbiAgICAgICAgdGhpcy5tX2h0dHAuc2VuZCh1cmwsbnVsbCwnZ2V0JywndGV4dCcpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgfVxyXG5cclxuICAgIHB1YmxpYyBwb3N0KHVybDpzdHJpbmcsZGF0YTphbnksY2FsbGVyOmFueSxjYWxsYmFjazphbnkpe1xyXG4gICAgICAgIHRoaXMubV9jYWxsZXIgPSBjYWxsZXI7XHJcbiAgICAgICAgdGhpcy5tX2NhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy5tX2h0dHAub25jZShMYXlhLkV2ZW50LkNPTVBMRVRFLCB0aGlzLCB0aGlzLm9uSHR0cFJlcXVlc3RDb21wbGV0ZSk7XHJcbiAgICAgICAgdGhpcy5tX2h0dHAub25jZShMYXlhLkV2ZW50LkVSUk9SLCB0aGlzLCB0aGlzLm9uSHR0cFJlcXVlc3RFcnJvcik7XHJcbiAgICAgICAgdGhpcy5tX2h0dHAuc2VuZCh1cmwsIGRhdGEsICdwb3N0JywgJ2pzb24nLHRoaXMubV9wcm90b2NhbENvbW1vbi5Db21tb25IZWFkZXIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25IdHRwUmVxdWVzdEVycm9yKGU6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubV9jYWxsYmFjay5hcHBseSh0aGlzLm1fY2FsbGVyLFt7c3RhdGU6XCJmYWlsZWRcIixtc2c6ZX1dKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBvbkh0dHBSZXF1ZXN0Q29tcGxldGUoZTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tX2NhbGxiYWNrLmFwcGx5KHRoaXMubV9jYWxsZXIsW3tzdGF0ZTpcInN1Y2NlZWRcIixkYXRhOnRoaXMubV9odHRwLmRhdGF9XSk7XHJcbiAgICB9XHJcbiAgICBcclxufSIsIi8v5Y2P6K6uLS3or7fmsYLlpLTmlofku7ZcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvdG9jb2xDb21tb257XHJcblxyXG4gICAgcHVibGljIENvbW1vbkhlYWRlciA6QXJyYXk8YW55PjtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IEFjY2Vzc0NvbnRyb2xBbGxvd09yaWdpbiA9IFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IEFjY2Vzc0NvbnRyb2xBbGxvd09yaWdpblZhbHVlID0gXCIqXCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IEFjY2Vzc0NvbnRyb2xBbGxvd0hlYWRlcnMgPSBcIkFjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnNcIjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQWNjZXNzQ29udHJvbEFsbG93SGVhZGVyc1ZhbHVlID0gXCJDb250ZW50LVR5cGUsQ29udGVudC1MZW5ndGgsIEF1dGhvcml6YXRpb24sIEFjY2VwdCxYLVJlcXVlc3RlZC1XaXRoXCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IEFjY2Vzc0NvbnRyb2xBbGxvd01ldGhvZHMgPSBcIkFjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHNcIjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQWNjZXNzQ29udHJvbEFsbG93TWV0aG9kc1ZhbHVlID0gXCJQT1NULCBHRVQsIE9QVElPTlMsREVMRVRFLFBVVFwiO1xyXG4gICAgXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IFhBdXRoVG9rZW5GaWVsZDpzdHJpbmcgPSBcIlgtQXV0aC1Ub2tlblwiO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBYQXV0aFRva2VuRmllbGRWYWx1ZTpzdHJpbmcgPSBcIm9wZW4tc2VzYW1lXCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IEFjY2VwdEZpZWxkOnN0cmluZyA9IFwiQWNjZXB0XCI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IENvbnRlbnRUeXBlRmllbGRWYWx1ZTpzdHJpbmcgPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgQ29udGVudFR5cGVGaWVsZDpzdHJpbmcgPSBcIkNvbnRlbnQtVHlwZVwiO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBUb2tlbkZpZWxkOnN0cmluZyA9IFwiY29va2llXCI7XHJcbiBcclxuICAgIHByaXZhdGUgY29va2llOnN0cmluZztcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLkNvbW1vbkhlYWRlciA9IG5ldyBBcnJheTxhbnk+KClcclxuICAgICAgICB0aGlzLkNvbW1vbkhlYWRlci5wdXNoKHRoaXMuQWNjZXNzQ29udHJvbEFsbG93T3JpZ2luLHRoaXMuQWNjZXNzQ29udHJvbEFsbG93T3JpZ2luVmFsdWUpO1xyXG4gICAgICAgIHRoaXMuQ29tbW9uSGVhZGVyLnB1c2godGhpcy5BY2Nlc3NDb250cm9sQWxsb3dIZWFkZXJzLHRoaXMuQWNjZXNzQ29udHJvbEFsbG93SGVhZGVyc1ZhbHVlKTtcclxuICAgICAgICB0aGlzLkNvbW1vbkhlYWRlci5wdXNoKHRoaXMuQWNjZXNzQ29udHJvbEFsbG93TWV0aG9kcyx0aGlzLkFjY2Vzc0NvbnRyb2xBbGxvd01ldGhvZHNWYWx1ZSk7XHJcbiAgICAgICAgdGhpcy5Db21tb25IZWFkZXIucHVzaCh0aGlzLlhBdXRoVG9rZW5GaWVsZCx0aGlzLlhBdXRoVG9rZW5GaWVsZFZhbHVlKTtcclxuICAgICAgICB0aGlzLkNvbW1vbkhlYWRlci5wdXNoKHRoaXMuQWNjZXB0RmllbGQsdGhpcy5Db250ZW50VHlwZUZpZWxkVmFsdWUpO1xyXG4gICAgICAgIHRoaXMuQ29tbW9uSGVhZGVyLnB1c2godGhpcy5Db250ZW50VHlwZUZpZWxkLHRoaXMuQ29udGVudFR5cGVGaWVsZFZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgU2V0Q29va2llcyhjb29raWU6c3RyaW5nKXtcclxuICAgICAgICBjb29raWUgPSBjb29raWU7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IExvYWRlciA9IExheWEubG9hZGVyO1xyXG5pbXBvcnQgSGFuZGxlciA9IGxheWEudXRpbHMuSGFuZGxlcjtcclxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi4vR2FtZVVJXCI7XHJcbmltcG9ydCBDb21tb24gZnJvbSBcIi4uL0NvbW1vbi9Db21tb25cIjtcclxuICAgIFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNNYW5hZ2Vye1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOlJlc01hbmFnZXI7ICBcclxuXHJcbiAgICBzdGF0aWMgSW5zdGFuY2UoKTpSZXNNYW5hZ2Vye1xyXG4gICAgICAgIGlmKFJlc01hbmFnZXIuX2luc3RhbmNlID09IG51bGwpe1xyXG4gICAgICAgICAgICBSZXNNYW5hZ2VyLl9pbnN0YW5jZSA9IG5ldyBSZXNNYW5hZ2VyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBSZXNNYW5hZ2VyLl9pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgUmVzTmFtZXMgOiBBcnJheTxhbnk+O1xyXG4gICAgcHVibGljIFJlc0VuaXRpdHlEaWMgOiBMYXlhLldlYWtPYmplY3Q7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLlJlc05hbWVzID0gbmV3IEFycmF5PGFueT4oKTtcclxuICAgICAgICB0aGlzLlJlc0VuaXRpdHlEaWMgPSBuZXcgTGF5YS5XZWFrT2JqZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/liqDovb3lpJrkuKrotYTmupBcclxuICAgIHB1YmxpYyBMb2FkUHJlZmFiQXNzZXRzKHJlc05hbWVzOkFycmF5PGFueT4sZmluaXNoZWQ/OkhhbmRsZXIpe1xyXG4gICAgICAgIGlmKHJlc05hbWVzID09bnVsbCB8fHJlc05hbWVzLmxlbmd0aCA9PSAwKXJldHVybiA7XHJcblxyXG4gICAgICAgIHRoaXMuUmVzTmFtZXMgPSByZXNOYW1lcztcclxuXHJcbiAgICAgICAgTGF5YS5sb2FkZXIuY3JlYXRlKHJlc05hbWVzLFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgSGFuZGxlci5jcmVhdGUodGhpcywoKT0+e1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlc05hbWVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXM6TGF5YS5TcHJpdGUzRCA9IExheWEubG9hZGVyLmdldFJlcyhlbGVtZW50LnVybCkgYXMgTGF5YS5TcHJpdGUzRDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuUmVzRW5pdGl0eURpYy5oYXMoZWxlbWVudC51cmwpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5SZXNFbml0aXR5RGljLnNldChlbGVtZW50LnVybCxyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZpbmlzaGVkIT1udWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtczpBcnJheTxhbnk+ID0gW2VsZW1lbnQudXJsLHJlc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkLnJ1bldpdGgocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSksXHJcblxyXG4gICAgICAgICAgICBIYW5kbGVyLmNyZWF0ZSh0aGlzLChwKT0+e1xyXG4gICAgICAgICAgICAgICB0aGlzLlNldExvYWRQZXJjZW50KHApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7IFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBHZXRPbmVBc3NldCh1cmw6c3RyaW5nKTpMYXlhLlNwcml0ZTNEe1xyXG4gICAgICAgIGlmKHVybCA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgaWYodGhpcy5SZXNFbml0aXR5RGljLmhhcyh1cmwpKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuUmVzRW5pdGl0eURpYy5nZXQodXJsKSBhcyBMYXlhLlNwcml0ZTNEO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIFJlbGVhc2VPbmVBc3NldCh1cmw6c3RyaW5nKXtcclxuICAgICAgICBpZih1cmwgPT0gbnVsbCkgcmV0dXJuIDtcclxuICAgICAgICB2YXIgcmVzID0gdGhpcy5HZXRPbmVBc3NldCh1cmwpIGFzIExheWEuU3ByaXRlM0Q7XHJcblxyXG4gICAgICAgIGlmKHJlcyAhPSBudWxsKXtcclxuICAgICAgICAgICAgLy/lvoXmtYvor5XvvIzmmK/lkKbph4rmlL7kuoblhoXlrZhcclxuICAgICAgICAgICAgcmVzLmRlc3Ryb3kodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgLy/lvoXmtYvor5VcclxuICAgIFJlbGVhc2VBbGxBc3NldHMoKXtcclxuICAgICAgICBpZih0aGlzLlJlc0VuaXRpdHlEaWMhPW51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLlJlc05hbWVzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLlJlc0VuaXRpdHlEaWMuaGFzKGVsZW1lbnQpKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlJlc0VuaXRpdHlEaWMuZ2V0KGVsZW1lbnQpLmRlc3Ryb3kodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIFNldExvYWRQZXJjZW50KHA6bnVtYmVyKXtcclxuICAgICAgICBHYW1lVUkuX2luc3RhbmNlLlNldExvYWRQZXJjZW50KHApO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFVJVHJlZUl0ZW0sIHsgVHJlZUl0ZW1EYXRhLCBDaGVja1N0YXR1cywgVHJlZUl0ZW1TdHlsZSB9IGZyb20gXCIuL1VJVHJlZUl0ZW1cIjtcclxuaW1wb3J0IEhhbmRsZXIgPSBMYXlhLkhhbmRsZXI7XHJcbmltcG9ydCBWZWN0b3IyID0gTGF5YS5WZWN0b3IyO1xyXG5cclxuLyoqXHJcbiAqIOWIm+W7uueugOaYk+agkVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlUcmVle1xyXG5cclxuICAgIHB1YmxpYyBtX3RyZWU6TGF5YS5WQm94O1xyXG5cclxuICAgIHByaXZhdGUgbV9JdGVtQ29kZXM6QXJyYXk8c3RyaW5nPjtcclxuICAgIHByaXZhdGUgbV90cmVlSXRlbXNEaWM6TGF5YS5XZWFrT2JqZWN0O1xyXG5cclxuICAgIHByaXZhdGUgbV92YWx1ZUNoYW5nZWRJdGVtOkFycmF5PFVJVHJlZUl0ZW0+O1xyXG4gICAgcHVibGljIE9uVmFsdWVDaGFuZ2VkOkZ1bmN0aW9uO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5tX0l0ZW1Db2RlcyA9IG5ldyBBcnJheTxzdHJpbmc+KCk7XHJcbiAgICAgICAgdGhpcy5tX3RyZWVJdGVtc0RpYyA9IG5ldyBMYXlhLldlYWtPYmplY3QoKTtcclxuICAgICAgICB0aGlzLm1fdmFsdWVDaGFuZ2VkSXRlbSA9IG5ldyBBcnJheTxVSVRyZWVJdGVtPigpO1xyXG4gICAgfVxyXG5cclxuICAgIEluaXRUcmVlKGl0ZW1zOkFycmF5PFRyZWVJdGVtRGF0YT4sc3R5bGU/OlRyZWVJdGVtU3R5bGUsdHJlZVBvcz86TGF5YS5WZWN0b3IyLHRyZWVCZ0NvbG9yPzpzdHJpbmcsdWl0cmVlQXRsYXM/OnN0cmluZyl7XHJcbiAgICAgICAgaWYoaXRlbXMgPT0gbnVsbHx8aXRlbXMubGVuZ3RoID09IDApcmV0dXJuIDtcclxuXHJcbiAgICAgICAgbGV0IGRlZmF1bHRQYXRoID0gXCJyZXMvYXRsYXMvdHJlZS5hdGxhc1wiO1xyXG4gICAgICAgIGxldCBfdWl0cmVlQXRsYXMgPSB1aXRyZWVBdGxhcyA9PSBudWxsP2RlZmF1bHRQYXRoOnVpdHJlZUF0bGFzO1xyXG5cclxuICAgICAgICBMYXlhLmxvYWRlci5sb2FkKF91aXRyZWVBdGxhcyxIYW5kbGVyLmNyZWF0ZSh0aGlzLCgpPT57XHJcblxyXG4gICAgICAgICAgICB0aGlzLkNsZWFyVHJlZUl0ZW1EaWMoKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMubV90cmVlID09bnVsbCl7XHJcbiAgICAgICAgICAgICAgICAvL1RlbXDvvIznlKhWQm945Yi25L2c5LiA5LiqVHJlZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tX3RyZWUgPSBuZXcgTGF5YS5WQm94KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fdHJlZS54ID0gdHJlZVBvcz09bnVsbD8wOnRyZWVQb3MueDtcclxuICAgICAgICAgICAgICAgIHRoaXMubV90cmVlLnkgPSB0cmVlUG9zPT1udWxsPzA6dHJlZVBvcy55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tX3RyZWUuYmdDb2xvciA9IHRyZWVCZ0NvbG9yID09IG51bGw/XCIjZmZmZmZmXCI6dHJlZUJnQ29sb3I7XHJcbiAgICAgICAgICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRoaXMubV90cmVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYodHJlZUJnQ29sb3IgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICBpZihzdHlsZSA9PSBudWxsKSBcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IG5ldyBUcmVlSXRlbVN0eWxlKCk7ICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgc3R5bGUuSXRlbUNvbG9yID0gdHJlZUJnQ29sb3I7XHJcbiAgICAgICAgICAgIH1cclxuIFxyXG4gICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5BZGRJdGVtKGVsZW1lbnQsc3R5bGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuUmVmcmVzaEl0ZW1Qb3NpdGlvbigpO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBBZGRJdGVtKGl0ZW06VHJlZUl0ZW1EYXRhLHN0eWxlPzpUcmVlSXRlbVN0eWxlKXtcclxuICAgICAgICBpZihpdGVtID09IG51bGwpIHJldHVybiA7XHJcbiAgICAgICAgbGV0IHRyZWVJdGVtOlVJVHJlZUl0ZW0gPSBuZXcgVUlUcmVlSXRlbSgpO1xyXG4gICAgICAgIHRyZWVJdGVtLkluaXRUcmVlSXRlbShpdGVtLHN0eWxlKTtcclxuICAgICAgICB0cmVlSXRlbS5PbkFycm93Q2xpY2sgPSgoaXRlbSxiKT0+e3RoaXMuT25BcnJvd0NsaWNrZWQoaXRlbSxiKTt9KTtcclxuICAgICAgICB0cmVlSXRlbS5PbkNoZWNrQm94Q2xpY2sgPSgoaXRlbSxiKT0+e3RoaXMuT25DaGVja0JveENsaWNrZWQoaXRlbSxiKTt9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tX0l0ZW1Db2Rlcy5wdXNoKGl0ZW0uY29kZSk7XHJcbiAgICAgICAgaWYoIXRoaXMubV90cmVlSXRlbXNEaWMuaGFzKGl0ZW0uY29kZSkpIFxyXG4gICAgICAgICAgICB0aGlzLm1fdHJlZUl0ZW1zRGljLnNldChpdGVtLmNvZGUsdHJlZUl0ZW0pO1xyXG5cclxuICAgICAgICB0aGlzLm1fdHJlZS5hZGRDaGlsZCh0cmVlSXRlbS5UcmVlSXRlbSk7XHJcblxyXG4gICAgICAgIGlmKCFpdGVtLmlzTGVhZil7XHJcbiAgICAgICAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuQWRkSXRlbShlbGVtZW50LHN0eWxlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBPbkFycm93Q2xpY2tlZChpdGVtOlVJVHJlZUl0ZW0sIGI6Ym9vbGVhbil7XHJcbiAgICAgICAgaWYoaXRlbSA9PSBudWxsKSByZXR1cm4gO1xyXG5cclxuICAgICAgICB0aGlzLlJlZnJlc2hBcnJvd1N0YXR1cyhpdGVtLkl0ZW1EYXRhLmNvZGUsYik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5SZWZyZXNoSXRlbVBvc2l0aW9uKCk7XHJcbiAgICB9XHJcbiBcclxuXHJcbiAgICBwcml2YXRlIE9uQ2hlY2tCb3hDbGlja2VkKGl0ZW06VUlUcmVlSXRlbSxiOmJvb2xlYW4pe1xyXG4gICAgICAgIGlmKGl0ZW0gPT0gbnVsbCkgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgdGhpcy5tX3ZhbHVlQ2hhbmdlZEl0ZW0uc3BsaWNlKDApO1xyXG5cclxuICAgICAgICBpZighaXRlbS5JdGVtRGF0YS5pc0xlYWYpXHJcbiAgICAgICAgICAgIHRoaXMuUmVmcmVzaENoZWNrU3RhdHVzQnlQYXJlbnQoaXRlbS5JdGVtRGF0YSxiKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMubV92YWx1ZUNoYW5nZWRJdGVtLnB1c2goaXRlbSk7XHJcblxyXG4gICAgICAgIHRoaXMuUmVmcmVzaENoZWNrU3RhdHVzQnlDaGlsZHJlbihpdGVtLkl0ZW1EYXRhKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5PblZhbHVlQ2hhbmdlZCkgdGhpcy5PblZhbHVlQ2hhbmdlZCh0aGlzLm1fdmFsdWVDaGFuZ2VkSXRlbSxiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIFJlZnJlc2hDaGVja1N0YXR1c0J5UGFyZW50KGRhdGE6VHJlZUl0ZW1EYXRhLGI6Ym9vbGVhbil7XHJcbiAgICAgICAgaWYoZGF0YSA9PSBudWxsIHx8ICF0aGlzLm1fdHJlZUl0ZW1zRGljLmhhcyhkYXRhLmNvZGUpKSByZXR1cm4gO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB0cmVlSXRlbSA9IHRoaXMubV90cmVlSXRlbXNEaWMuZ2V0KGRhdGEuY29kZSkgYXMgVUlUcmVlSXRlbTtcclxuXHJcbiAgICAgICAgaWYodHJlZUl0ZW0uSXRlbURhdGEuY2hpbGRyZW4gIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIHRyZWVJdGVtLkl0ZW1EYXRhLmNoaWxkcmVuLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1fdHJlZUl0ZW1zRGljLmhhcyhlbGVtZW50LmNvZGUpKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkOlVJVHJlZUl0ZW0gPSB0aGlzLm1fdHJlZUl0ZW1zRGljLmdldChlbGVtZW50LmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuU2V0Q2hlY2tib3hTdGF0dXMoYj9DaGVja1N0YXR1cy5jaGVjazpDaGVja1N0YXR1cy51bmNoZWNrKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2hpbGQuSXRlbURhdGEuaXNMZWFmKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1fdmFsdWVDaGFuZ2VkSXRlbS5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlJlZnJlc2hDaGVja1N0YXR1c0J5UGFyZW50KGNoaWxkLkl0ZW1EYXRhLGIpO1xyXG4gICAgICAgICAgICAgICAgfSAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIFJlZnJlc2hDaGVja1N0YXR1c0J5Q2hpbGRyZW4oZGF0YTpUcmVlSXRlbURhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEubGV2ZWwgPT0gMSkgcmV0dXJuIDtcclxuXHJcbiAgICAgICAgbGV0IGNoZWNrID0gMDtcclxuICAgICAgICBsZXQgcGFydGx5ID0gMDtcclxuICAgICAgICBsZXQgcGFyZW50OlVJVHJlZUl0ZW0gPSB0aGlzLm1fdHJlZUl0ZW1zRGljLmhhcyhkYXRhLnBhcmVudENvZGUpP3RoaXMubV90cmVlSXRlbXNEaWMuZ2V0KGRhdGEucGFyZW50Q29kZSk6bnVsbDtcclxuICAgICAgICBpZihwYXJlbnQpe1xyXG4gICAgICAgICAgICBwYXJlbnQuSXRlbURhdGEuY2hpbGRyZW4uZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgICAgc3dpdGNoKGVsZW1lbnQuc3RhdHVzKXtcclxuICAgICAgICAgICAgICAgICAgIGNhc2UgQ2hlY2tTdGF0dXMuY2hlY2s6Y2hlY2srKzticmVhaztcclxuICAgICAgICAgICAgICAgICAgIGNhc2UgQ2hlY2tTdGF0dXMucGFydGx5OnBhcnRseSsrO2JyZWFrO1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYocGFydGx5PjApe1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LlNldENoZWNrYm94U3RhdHVzKENoZWNrU3RhdHVzLnBhcnRseSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgaWYoY2hlY2sgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LlNldENoZWNrYm94U3RhdHVzKENoZWNrU3RhdHVzLnVuY2hlY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuUmVmcmVzaENoZWNrU3RhdHVzQnlDaGlsZHJlbihwYXJlbnQuSXRlbURhdGEpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoY2hlY2sgPT0gcGFyZW50Lkl0ZW1EYXRhLmNoaWxkcmVuLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LlNldENoZWNrYm94U3RhdHVzKENoZWNrU3RhdHVzLmNoZWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlJlZnJlc2hDaGVja1N0YXR1c0J5Q2hpbGRyZW4ocGFyZW50Lkl0ZW1EYXRhKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5TZXRDaGVja2JveFN0YXR1cyhDaGVja1N0YXR1cy5wYXJ0bHkpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBSZWZyZXNoQXJyb3dTdGF0dXMoY29kZTpzdHJpbmcsYjpib29sZWFuKXtcclxuICAgICAgICBpZihjb2RlID09IG51bGwgfHwgIXRoaXMubV90cmVlSXRlbXNEaWMuaGFzKGNvZGUpKSByZXR1cm4gO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB0cmVlSXRlbSA9IHRoaXMubV90cmVlSXRlbXNEaWMuZ2V0KGNvZGUpIGFzIFVJVHJlZUl0ZW07XHJcbiAgICAgICAgdHJlZUl0ZW0uSXRlbURhdGEuY2hpbGRyZW4uZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgaWYodGhpcy5tX3RyZWVJdGVtc0RpYy5oYXMoZWxlbWVudC5jb2RlKSl7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGQ6VUlUcmVlSXRlbSA9IHRoaXMubV90cmVlSXRlbXNEaWMuZ2V0KGVsZW1lbnQuY29kZSk7XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5UcmVlSXRlbS52aXNpYmxlID0gYjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZighYiAmJiAhY2hpbGQuSXRlbURhdGEuaXNMZWFmKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlJlZnJlc2hBcnJvd1N0YXR1cyhjaGlsZC5JdGVtRGF0YS5jb2RlLGIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLlNldEFycm93U3RhdHVzKGIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIFJlZnJlc2hJdGVtUG9zaXRpb24oKXtcclxuICAgICAgICBsZXQgdHJlZWxpc3QgPSBuZXcgQXJyYXk8VUlUcmVlSXRlbT4oKTtcclxuICAgICAgICB0cmVlbGlzdC5zcGxpY2UoMCk7XHJcbiAgICAgICAgdGhpcy5tX0l0ZW1Db2Rlcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IHRoaXMubV90cmVlSXRlbXNEaWMuZ2V0KGVsZW1lbnQpIGFzIFVJVHJlZUl0ZW07XHJcbiAgICAgICAgICAgIGlmKGl0ZW0uVHJlZUl0ZW0udmlzaWJsZSl7XHJcbiAgICAgICAgICAgICAgICB0cmVlbGlzdC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCB0cmVlSXRlbUhlaWdodCA9IHRyZWVsaXN0WzBdLlRyZWVJdGVtLmhlaWdodDtcclxuICAgICAgICBmb3IobGV0IGkgPSAwO2k8dHJlZWxpc3QubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIHRyZWVsaXN0W2ldLlRyZWVJdGVtLnkgPSBpICogdHJlZUl0ZW1IZWlnaHQ7XHJcbiAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMubV90cmVlLmhlaWdodCA9IHRyZWVsaXN0Lmxlbmd0aCAqIHRyZWVJdGVtSGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgQ2xlYXJUcmVlSXRlbURpYygpe1xyXG4gICAgICAgIHRoaXMubV9JdGVtQ29kZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgaWYodGhpcy5tX3RyZWVJdGVtc0RpYy5oYXMoZWxlbWVudCkpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW06VUlUcmVlSXRlbSA9IHRoaXMubV90cmVlSXRlbXNEaWMuZ2V0KGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5UcmVlSXRlbS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1fdHJlZUl0ZW1zRGljLmRlbChlbGVtZW50KTtcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1fSXRlbUNvZGVzLnNwbGljZSgwKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBUcmVlSXRlbURhdGF7XHJcbiAgICBwdWJsaWMgY29kZTpzdHJpbmc7XHJcbiAgICBwdWJsaWMgbmFtZTpzdHJpbmc7XHJcbiAgICBwdWJsaWMgbGV2ZWw6bnVtYmVyO1xyXG4gICAgcHVibGljIGlzTGVhZjpib29sZWFuO1xyXG4gICAgcHVibGljIHBhcmVudENvZGU6c3RyaW5nO1xyXG4gICAgcHVibGljIGNoaWxkcmVuOkFycmF5PFRyZWVJdGVtRGF0YT47XHJcblxyXG4gICAgcHVibGljIGFycm93U3RhdHVzOmJvb2xlYW47XHJcbiAgICBwdWJsaWMgc3RhdHVzOkNoZWNrU3RhdHVzO1xyXG59XHJcbmV4cG9ydCBjbGFzcyBUcmVlSXRlbVN0eWxle1xyXG4gICAgcHVibGljIEl0ZW1XaWR0aDpudW1iZXI7XHJcbiAgICBwdWJsaWMgSXRlbUhlaWd0aDpudW1iZXI7XHJcbiAgICBwdWJsaWMgSXRlbUludGVudExldmVsOm51bWJlcjtcclxuICAgIHB1YmxpYyBJdGVtSW5uZXJTcGFjZTpudW1iZXI7XHJcbiAgICBwdWJsaWMgSXRlbUNvbG9yOnN0cmluZztcclxuICAgIHB1YmxpYyBMYWJlbENvbG9yOnN0cmluZztcclxuICAgIHB1YmxpYyBMYWJlbEZvbnRzaXplOm51bWJlcjtcclxuICAgIHB1YmxpYyBMYWJlbEFsaWduOnN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGVudW0gVHJlZVN0eWxle1xyXG4gICAgTm9ybWFsLFxyXG4gICAgTGVnZW5kXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIENoZWNrU3RhdHVze1xyXG4gICAgY2hlY2ssXHJcbiAgICBwYXJ0bHksXHJcbiAgICB1bmNoZWNrLFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSVRyZWVJdGVte1xyXG5cclxuICAgIHB1YmxpYyBUcmVlSXRlbTpMYXlhLkhCb3g7XHJcbiAgICBwdWJsaWMgSXRlbURhdGE6VHJlZUl0ZW1EYXRhOyAgICBcclxuXHJcbiAgICBwdWJsaWMgT25BcnJvd0NsaWNrOkZ1bmN0aW9uO1xyXG4gICAgcHVibGljIE9uQ2hlY2tCb3hDbGljazpGdW5jdGlvbjtcclxuICAgIHB1YmxpYyBPblRyZWVJdGVtQ2xpY2s6RnVuY3Rpb247XHJcblxyXG4gICAgcHJpdmF0ZSBBcnJvdzpMYXlhLkNsaXA7XHJcbiAgICBwcml2YXRlIENoZWNrQm94OkxheWEuQ2xpcDtcclxuICAgIHByaXZhdGUgTGFiZWw6TGF5YS5MYWJlbDtcclxuXHJcbiAgICBwcml2YXRlIG1fdHJlZUl0ZW1XaWR0aCA9IDMwMDtcclxuICAgIHByaXZhdGUgbV90cmVlSXRlbUhlaWdodCA9IDUwO1xyXG4gICAgcHJpdmF0ZSBtX3RyZWVJdGVtSW50ZW50TGV2ZWwgPSAzMDtcclxuICAgIHByaXZhdGUgbV90cmVlSXRlbUlubmVyU3BhY2UgPSAxMDtcclxuICAgIHByaXZhdGUgbV90cmVlSXRlbUJnQ29sb3IgPSBcIiNmZmZmZmZcIjtcclxuXHJcbiAgICBwcml2YXRlIG1fbGFiZWxDb2xvciA9IFwiIzAwMDAwMFwiO1xyXG4gICAgcHJpdmF0ZSBtX2ZvbnRzaXplID0gMzA7XHJcbiAgICBwcml2YXRlIG1fYWxpZ24gPSBcImxlZnRcIjtcclxuICAgXHJcbiAgICAvKiogKioqKioqKioqKioqKioqKioqKlB1YmxpYyBNZXRob2RzKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIHB1YmxpYyBJbml0VHJlZUl0ZW0oZGF0YTpUcmVlSXRlbURhdGEsaXRlbVN0eWxlPzpUcmVlSXRlbVN0eWxlKXtcclxuICAgICAgICBpZihkYXRhID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5JdGVtRGF0YSA9IGRhdGEgYXMgVHJlZUl0ZW1EYXRhO1xyXG5cclxuICAgICAgICB0aGlzLlNldFRyZWVJdGVtU3R5bGUoaXRlbVN0eWxlKTtcclxuXHJcbiAgICAgICAgdGhpcy5DcmVhdGVBcnJvdygpO1xyXG4gICAgICAgIHRoaXMuQ3JlYXRlQ2hlY2tCb3goKTtcclxuICAgICAgICB0aGlzLkNyZWF0ZUxhYmVsKCk7ICBcclxuICAgICAgICB0aGlzLkNyZWF0ZUhCb3goKTsgIFxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBTZXRUcmVlSXRlbVN0eWxlKHN0eWxlPzpUcmVlSXRlbVN0eWxlKXtcclxuICAgICAgICBpZihzdHlsZSA9PSBudWxsKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5tX3RyZWVJdGVtV2lkdGggPSBzdHlsZS5JdGVtV2lkdGggPT0gbnVsbD90aGlzLm1fdHJlZUl0ZW1XaWR0aDpzdHlsZS5JdGVtV2lkdGg7XHJcbiAgICAgICAgdGhpcy5tX3RyZWVJdGVtSGVpZ2h0ID0gc3R5bGUuSXRlbUhlaWd0aCA9PSBudWxsP3RoaXMubV90cmVlSXRlbUhlaWdodDpzdHlsZS5JdGVtSGVpZ3RoO1xyXG4gICAgICAgIHRoaXMubV90cmVlSXRlbUludGVudExldmVsID0gc3R5bGUuSXRlbUludGVudExldmVsID09IG51bGw/dGhpcy5tX3RyZWVJdGVtSW50ZW50TGV2ZWw6c3R5bGUuSXRlbUludGVudExldmVsO1xyXG4gICAgICAgIHRoaXMubV90cmVlSXRlbUlubmVyU3BhY2UgPSBzdHlsZS5JdGVtSW5uZXJTcGFjZSA9PSBudWxsP3RoaXMubV90cmVlSXRlbUlubmVyU3BhY2U6c3R5bGUuSXRlbUlubmVyU3BhY2U7XHJcbiAgICAgICAgdGhpcy5tX3RyZWVJdGVtQmdDb2xvciA9IHN0eWxlLkl0ZW1Db2xvciA9PSBudWxsP3RoaXMubV90cmVlSXRlbUJnQ29sb3I6c3R5bGUuSXRlbUNvbG9yOyBcclxuICAgICAgICB0aGlzLm1fbGFiZWxDb2xvciA9IHN0eWxlLkxhYmVsQ29sb3IgPT0gbnVsbD90aGlzLm1fbGFiZWxDb2xvcjpzdHlsZS5MYWJlbENvbG9yO1xyXG4gICAgICAgIHRoaXMubV9mb250c2l6ZSA9IHN0eWxlLkxhYmVsRm9udHNpemUgPT0gbnVsbD90aGlzLm1fZm9udHNpemU6IHN0eWxlLkxhYmVsRm9udHNpemU7XHJcbiAgICAgICAgdGhpcy5tX2FsaWduID0gc3R5bGUuTGFiZWxBbGlnbiA9PSBudWxsP3RoaXMubV9hbGlnbjpzdHlsZS5MYWJlbEFsaWduO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBTZXRBcnJvd1N0YXR1cyhiOmJvb2xlYW4pe1xyXG4gICAgICAgIHRoaXMuSXRlbURhdGEuYXJyb3dTdGF0dXMgPSBiO1xyXG4gICAgICAgIGlmKHRoaXMuSXRlbURhdGEuYXJyb3dTdGF0dXMpIHtcclxuICAgICAgICAgICAgdGhpcy5BcnJvdy5pbmRleCA9IDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5BcnJvdy5pbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBTZXRDaGVja2JveFN0YXR1cyhzdGF0dXM6Q2hlY2tTdGF0dXMpe1xyXG4gICAgICAgIHN3aXRjaChzdGF0dXMpe1xyXG4gICAgICAgICAgICBjYXNlIENoZWNrU3RhdHVzLmNoZWNrIDogXHJcbiAgICAgICAgICAgICAgICB0aGlzLkNoZWNrQm94LmluZGV4ID0gMjtcclxuICAgICAgICAgICAgICAgIHRoaXMuSXRlbURhdGEuc3RhdHVzID0gQ2hlY2tTdGF0dXMuY2hlY2s7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDaGVja1N0YXR1cy5wYXJ0bHkgOiBcclxuICAgICAgICAgICAgICAgIHRoaXMuQ2hlY2tCb3guaW5kZXggPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5JdGVtRGF0YS5zdGF0dXMgPSBDaGVja1N0YXR1cy5wYXJ0bHk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDaGVja1N0YXR1cy51bmNoZWNrIDogXHJcbiAgICAgICAgICAgICAgICB0aGlzLkNoZWNrQm94LmluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuSXRlbURhdGEuc3RhdHVzID0gQ2hlY2tTdGF0dXMudW5jaGVjaztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIFNldENvbnRlbnQoY29udGVudDpzdHJpbmcpe1xyXG4gICAgICAgIHRoaXMuTGFiZWwudGV4dCA9IGNvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKipUcmVlSXRlbSoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgcHJpdmF0ZSBDcmVhdGVIQm94KGludGVudExldmVsPzpudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuVHJlZUl0ZW0gPSBuZXcgTGF5YS5IQm94KCk7XHJcbiAgICAgICAgdGhpcy5UcmVlSXRlbS5uYW1lID0gXCJ0cmVlSXRlbVwiO1xyXG4gICAgICAgIHRoaXMuVHJlZUl0ZW0ueCA9IDU7XHJcbiAgICAgICAgdGhpcy5UcmVlSXRlbS53aWR0aCA9IHRoaXMubV90cmVlSXRlbVdpZHRoO1xyXG4gICAgICAgIHRoaXMuVHJlZUl0ZW0uaGVpZ2h0ID0gIHRoaXMubV90cmVlSXRlbUhlaWdodDtcclxuICAgICAgICB0aGlzLlRyZWVJdGVtLnNwYWNlID0gdGhpcy5tX3RyZWVJdGVtSW5uZXJTcGFjZTtcclxuICAgICAgICBpZih0aGlzLm1fdHJlZUl0ZW1CZ0NvbG9yLmxlbmd0aD43KXtcclxuICAgICAgICAgICAgdGhpcy5tX3RyZWVJdGVtQmdDb2xvciA9IHRoaXMubV90cmVlSXRlbUJnQ29sb3Iuc3Vic3RyKDAsNykgKyBcIjAwXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuVHJlZUl0ZW0uYmdDb2xvciA9IHRoaXMubV90cmVlSXRlbUJnQ29sb3I7XHJcbiAgICAgICAgdGhpcy5UcmVlSXRlbS54ID0gdGhpcy5tX3RyZWVJdGVtSW50ZW50TGV2ZWwgKiAodGhpcy5JdGVtRGF0YS5sZXZlbCAtIDEpO1xyXG5cclxuICAgICAgICB0aGlzLlRyZWVJdGVtLmFkZENoaWxkKHRoaXMuQXJyb3cpO1xyXG4gICAgICAgIHRoaXMuVHJlZUl0ZW0uYWRkQ2hpbGQodGhpcy5DaGVja0JveCk7XHJcbiAgICAgICAgdGhpcy5UcmVlSXRlbS5hZGRDaGlsZCh0aGlzLkxhYmVsKTtcclxuXHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLlRyZWVJdGVtKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqICoqKioqKioqKioqKioqKioqKioqKioqYXJyb3cqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgcHJpdmF0ZSBDcmVhdGVBcnJvdygpe1xyXG4gICAgICAgIGxldCBhcnJvd1JlcyA9IFwidHJlZS9hcnJvdy5wbmdcIjtcclxuICAgICAgICB0aGlzLkFycm93ID0gbmV3IExheWEuQ2xpcChhcnJvd1JlcywxLDIpO1xyXG4gICAgICAgIHRoaXMuQXJyb3cud2lkdGggPSB0aGlzLm1fdHJlZUl0ZW1IZWlnaHQgPiAyMCA/IHRoaXMubV90cmVlSXRlbUhlaWdodCAtIDIwIDogdGhpcy5tX3RyZWVJdGVtSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuQXJyb3cuaGVpZ2h0ID0gIHRoaXMubV90cmVlSXRlbUhlaWdodCA+IDIwID8gdGhpcy5tX3RyZWVJdGVtSGVpZ2h0IC0gMjAgOiB0aGlzLm1fdHJlZUl0ZW1IZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5BcnJvdy55ID0gdGhpcy5tX3RyZWVJdGVtSGVpZ2h0ID4gMjA/IDEwIDogMDtcclxuICAgICAgICB0aGlzLkFycm93LmNsaXBZID0gMjtcclxuICAgICAgICB0aGlzLkFycm93Lm5hbWUgPSBcImFycm93XCI7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuSXRlbURhdGEuaXNMZWFmKSB0aGlzLkFycm93LnZpc2libGUgPSBmYWxzZTsgXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5TZXRBcnJvd1N0YXR1cyh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5BcnJvdy5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKGUpPT57XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuSXRlbURhdGEuYXJyb3dTdGF0dXMgPSAhdGhpcy5JdGVtRGF0YS5hcnJvd1N0YXR1cztcclxuICAgICAgICAgICAgdGhpcy5TZXRBcnJvd1N0YXR1cyh0aGlzLkl0ZW1EYXRhLmFycm93U3RhdHVzKTtcclxuICAgICAgICAgICAgaWYodGhpcy5PbkFycm93Q2xpY2spXHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uQXJyb3dDbGljayh0aGlzLHRoaXMuSXRlbURhdGEuYXJyb3dTdGF0dXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRoaXMuQXJyb3cpOyAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8qKioqKioqKioqKioqKioqKipDaGVja0JveCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgIHByaXZhdGUgQ3JlYXRlQ2hlY2tCb3goKXtcclxuICAgICAgICB0aGlzLkNoZWNrQm94ID0gbmV3IExheWEuQ2xpcChcInRyZWUvY2hlY2tib3gucG5nXCIsMSwyKTtcclxuICAgICAgICB0aGlzLkNoZWNrQm94LndpZHRoID0gdGhpcy5tX3RyZWVJdGVtSGVpZ2h0ID4gMjAgPyB0aGlzLm1fdHJlZUl0ZW1IZWlnaHQgLSAyMCA6IHRoaXMubV90cmVlSXRlbUhlaWdodDtcclxuICAgICAgICB0aGlzLkNoZWNrQm94LmhlaWdodCA9IHRoaXMubV90cmVlSXRlbUhlaWdodCA+IDIwID8gdGhpcy5tX3RyZWVJdGVtSGVpZ2h0IC0gMjAgOiB0aGlzLm1fdHJlZUl0ZW1IZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5DaGVja0JveC55ID0gdGhpcy5tX3RyZWVJdGVtSGVpZ2h0ID4gMjA/IDEwIDogMDtcclxuICAgICAgICB0aGlzLkNoZWNrQm94LmNsaXBZID0gMztcclxuICAgICAgICB0aGlzLkNoZWNrQm94Lm5hbWUgPSBcImNoZWNrYm94XCI7XHJcblxyXG4gICAgICAgIHRoaXMuU2V0Q2hlY2tib3hTdGF0dXMoQ2hlY2tTdGF0dXMuY2hlY2spOyAvL+m7mOiupOWFqOmAiVxyXG5cclxuICAgICAgICB0aGlzLkNoZWNrQm94Lm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoZSk9PntcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgXHJcblxyXG4gICAgICAgICAgICBsZXQgYjpib29sZWFuID0gdGhpcy5JdGVtRGF0YS5zdGF0dXMgPT0gQ2hlY2tTdGF0dXMudW5jaGVjayA/IGZhbHNlOnRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuU2V0Q2hlY2tib3hTdGF0dXMoIWI/Q2hlY2tTdGF0dXMuY2hlY2s6Q2hlY2tTdGF0dXMudW5jaGVjaylcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuT25DaGVja0JveENsaWNrKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkNoZWNrQm94Q2xpY2sodGhpcywhYik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLkNoZWNrQm94KTtcclxuICAgIH1cclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKkxhYmVsKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICBwcml2YXRlIENyZWF0ZUxhYmVsKCl7XHJcbiAgICAgICAgdGhpcy5MYWJlbCA9IG5ldyBMYXlhLkxhYmVsKCk7XHJcbiAgICAgICAgdGhpcy5MYWJlbC5uYW1lID0gXCJsYWJlbFwiXHJcbiAgICAgICAgdGhpcy5MYWJlbC5oZWlnaHQgPSB0aGlzLm1fdHJlZUl0ZW1IZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5MYWJlbC5hbGlnbiA9IHRoaXMubV9hbGlnbjtcclxuICAgICAgICB0aGlzLkxhYmVsLnZhbGlnbiA9IFwibWlkZGxlXCI7XHJcbiAgICAgICAgdGhpcy5MYWJlbC5mb250U2l6ZSA9IHRoaXMubV9mb250c2l6ZTtcclxuICAgICAgICB0aGlzLkxhYmVsLmNvbG9yID0gdGhpcy5tX2xhYmVsQ29sb3I7XHJcblxyXG4gICAgICAgIHRoaXMuU2V0Q29udGVudCh0aGlzLkl0ZW1EYXRhLm5hbWUpO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5MYWJlbCk7XHJcbiAgICB9XHJcbn0iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG52YXIgUkVHOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcbmV4cG9ydCBtb2R1bGUgdWkuTWFpblNjZW5lIHtcclxuICAgIGV4cG9ydCBjbGFzcyBNYWluU2NlbmVVSSBleHRlbmRzIFNjZW5lIHtcclxuXHRcdHB1YmxpYyBEZXBCdG46TGF5YS5CdXR0b247XG5cdFx0cHVibGljIFVzYWdlQnRuOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBBcmVhQnRuOkxheWEuQnV0dG9uO1xuXHRcdHB1YmxpYyBNdWx0aUJ0bjpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgXzJEM0RCdG46TGF5YS5CdXR0b247XG5cdFx0cHVibGljIEFsbEJ0bjpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgRGlzdHJpYnV0ZUJ0bjpMYXlhLkJ1dHRvbjtcbiAgICAgICAgcHVibGljIHN0YXRpYyAgdWlWaWV3OmFueSA9e1widHlwZVwiOlwiU2NlbmVcIixcInByb3BzXCI6e1wid2lkdGhcIjo2MDAsXCJoZWlnaHRcIjo5MDB9LFwiY29tcElkXCI6MixcImNoaWxkXCI6W3tcInR5cGVcIjpcIkJ1dHRvblwiLFwicHJvcHNcIjp7XCJ5XCI6MjcxLFwieFwiOjIzLFwid2lkdGhcIjo4MCxcInZhclwiOlwiRGVwQnRuXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcImxhYmVsU2l6ZVwiOjMwLFwibGFiZWxcIjpcIuenkeWupFwiLFwiaGVpZ2h0XCI6NjB9LFwiY29tcElkXCI6N30se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjozNTUsXCJ4XCI6MjMsXCJ3aWR0aFwiOjgwLFwidmFyXCI6XCJVc2FnZUJ0blwiLFwic2tpblwiOlwiY29tcC9idXR0b24ucG5nXCIsXCJsYWJlbFNpemVcIjozMCxcImxhYmVsXCI6XCLnlKjpgJRcIixcImhlaWdodFwiOjYwfSxcImNvbXBJZFwiOjh9LHtcInR5cGVcIjpcIkJ1dHRvblwiLFwicHJvcHNcIjp7XCJ5XCI6NDM3LFwieFwiOjIzLFwid2lkdGhcIjo4MCxcInZhclwiOlwiQXJlYUJ0blwiLFwic2tpblwiOlwiY29tcC9idXR0b24ucG5nXCIsXCJsYWJlbFNpemVcIjozMCxcImxhYmVsXCI6XCLpnaLnp69cIixcImhlaWdodFwiOjYwfSxcImNvbXBJZFwiOjl9LHtcInR5cGVcIjpcIkJ1dHRvblwiLFwicHJvcHNcIjp7XCJ5XCI6NjAwLFwieFwiOjQ3NixcIndpZHRoXCI6ODAsXCJ2YXJcIjpcIk11bHRpQnRuXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcImxhYmVsU2l6ZVwiOjMwLFwibGFiZWxcIjpcIuaKmOWPoFwiLFwiaGVpZ2h0XCI6NjB9LFwiY29tcElkXCI6MTN9LHtcInR5cGVcIjpcIkJ1dHRvblwiLFwicHJvcHNcIjp7XCJ5XCI6NjgwLFwieFwiOjIzLFwid2lkdGhcIjo4MCxcInZhclwiOlwiXzJEM0RCdG5cIixcInNraW5cIjpcImNvbXAvYnV0dG9uLnBuZ1wiLFwibGFiZWxTaXplXCI6MzAsXCJsYWJlbFwiOlwiMkRcIixcImhlaWdodFwiOjYwfSxcImNvbXBJZFwiOjE0fSx7XCJ0eXBlXCI6XCJCdXR0b25cIixcInByb3BzXCI6e1wieVwiOjY4MCxcInhcIjo0NzYsXCJ3aWR0aFwiOjgwLFwidmFyXCI6XCJBbGxCdG5cIixcInNraW5cIjpcImNvbXAvYnV0dG9uLnBuZ1wiLFwibGFiZWxTaXplXCI6MzAsXCJsYWJlbFwiOlwi5YWo6YOoXCIsXCJoZWlnaHRcIjo2MH0sXCJjb21wSWRcIjoyNn0se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjo1NSxcInhcIjo0NzYsXCJ3aWR0aFwiOjgwLFwidmFyXCI6XCJEaXN0cmlidXRlQnRuXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcImxhYmVsU2l6ZVwiOjMwLFwibGFiZWxcIjpcIuWIhuW4g1wiLFwiaGVpZ2h0XCI6NjB9LFwiY29tcElkXCI6OTh9XSxcImxvYWRMaXN0XCI6W1wiY29tcC9idXR0b24ucG5nXCJdLFwibG9hZExpc3QzRFwiOltdfTtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVmlldyhNYWluU2NlbmVVSS51aVZpZXcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLk1haW5TY2VuZS5NYWluU2NlbmVVSVwiLE1haW5TY2VuZVVJKTtcclxufVxyXG5leHBvcnQgbW9kdWxlIHVpLnBvcnRhbCB7XHJcbiAgICBleHBvcnQgY2xhc3MgTG9hZGluZ1VJIGV4dGVuZHMgU2NlbmUge1xyXG5cdFx0cHVibGljIEJhY2tncm91bmQ6TGF5YS5JbWFnZTtcblx0XHRwdWJsaWMgVGl0bGU6TGF5YS5MYWJlbDtcblx0XHRwdWJsaWMgTG9naW5CdG46TGF5YS5CdXR0b247XG5cdFx0cHVibGljIFByb2dyZXNzQmFyOkxheWEuUHJvZ3Jlc3NCYXI7XG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJwb3J0YWwvTG9hZGluZ1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSRUcoXCJ1aS5wb3J0YWwuTG9hZGluZ1VJXCIsTG9hZGluZ1VJKTtcclxufVxyIl19
